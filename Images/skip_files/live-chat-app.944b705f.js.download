((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[88],{1008:function(e,t,n){"use strict";var a=n(262),r=n(683),i=n.n(r),o=n(1),c=n.n(o),s=n(40),l=n.n(s),u=n(67),d=n.n(u),b=n(367),f=n.n(b),p=n(794),h=n.n(p),O=n(795),y=n.n(O),v=n(147),g=n.n(v),j=n(23),m=n.n(j),I=n(296),E=n(1283),C=n(70);t.a=(e,t)=>{const n=Object(a.useRef)(!1);n.current=c()(e);const{getValue:r,defaultValue:o=!0,logOnFailure:s=!1,logOnSuccess:u=!1,subscribe:b}=t,[p,O]=Object(a.useState)(0),v=Object(a.useRef)([void 0]),j=Object(a.useRef)(null);Object(a.useEffect)((()=>()=>{j.current&&d()(j.current,(e=>e&&e.clear()))}),[]),j.current=Object(a.useMemo)((()=>l()(e)?null:(j.current&&d()(j.current,(e=>e&&e.clear())),v.current=n.current?h()(y()(e),g()(void 0)):[],d()(f()(e),((e,t)=>{if(m()(e))return null;const n=e=>{v.current[t]=I.a.getField(e),O((e=>e+1))};return E.a.createFilterAction(e,{subscribe:(e,t)=>b(e,i()(n,e),t),getFilterBuilder:E.a.createFilterAction})})))),[e,b,O]);const T=Object(a.useMemo)((()=>j.current?d()(j.current,((e,t)=>e?(Object(C.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(r(),{logOnFailure:s,logOnSuccess:u})):!!o)):[!!o]),[e,r,o,p]);return Object(a.useMemo)((()=>n.current?d()(T,((e,t)=>({hasPassed:e,changeSource:v.current[t]}))):{hasPassed:!!T[0],changeSource:v.current[0]}),[T,v.current])}},1009:function(e,t,n){"use strict";n(39);var a=n(23),r=n.n(a);const i=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(r()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(i).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1010:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(262),r=n.n(a),i=n(326),o=n.n(i),c=n(349),s=n.n(c),l=n(795),u=n.n(l),d=n(531),b=n(263);const f=r.a.createContext({}),p=Object(a.memo)((e=>{const{getValue:t,subscribe:n}=Object(d.a)(),r=t(),[i,c]=Object(a.useState)((()=>({pagesMetaData:{[r]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:r})));return Object(a.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:a}=e;const r=Date.now(),i=t.pagesMetaData,c=s()(o()(i[n]),{endTime:{$set:r}});return s()(t,{pagesMetaData:{[n]:{$splice:[[u()(i[n])-1,1,c]]},[a]:{$set:[...i[a]||[],{startTime:r,endTime:void 0}]}},currentPageUrl:{$set:a}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(b.jsx)(f.Provider,{value:i},e.children)}));t.b=f},1011:function(e,t,n){"use strict";t.a=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval+=this.baseInterval),this.poll()}))}),this.interval))},this.start=()=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n(333),i=n(497);const o=(e,t)=>{let{route:n,searchParams:o}=e;const c=Object(r.a)(),s=Object(i.a)(t);Object(a.useEffect)((()=>{const e=c.listen((e=>{(!o&&e.pathname===n||o&&e.pathname===n&&e.search.includes(o))&&s.current()}));return()=>{e()}}),[])}},1013:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext(void 0),c=Object(a.memo)((e=>{let{children:t,history:n}=e;const[r,c]=Object(a.useState)(n);return Object(a.useEffect)((()=>{const e=n.listen((()=>{c({...n})}));return()=>e()}),[]),Object(i.jsx)(o.Provider,{value:r},t)}))},1014:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(262),r=n(67),i=n.n(r),o=n(293),c=n.n(o),s=n(450),l=n.n(s),u=n(1015),d=n(296);const b=()=>{const e=Object(u.b)(u.a.VERTICAL),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const r=Object(a.useCallback)(((e,n)=>{const a=d.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=c()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:r}}},1015:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(262),r=n(404),i=n.n(r),o=n(288),c=n.n(o),s=n(309);const l={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},u=e=>{let{clientWindow:t,scrollDirection:n}=e;const a=t.document;let r,i;if(n===l.HORIZONTAL){const e=a.documentElement.scrollWidth;r=a.documentElement.scrollLeft+a.documentElement.clientWidth,i=e?Math.round(r/e*100):100}else{const e=a.documentElement.scrollHeight;r=a.documentElement.scrollTop+a.documentElement.clientHeight,i=e?Math.round(r/e*100):100}return{scrollDepth:r,scrollPercent:i}},d=e=>{const t=Object(s.b)(),[n,r]=Object(a.useState)((()=>(e=>{let{clientWindow:t,scrollDirection:n}=e;return Object(s.c)(t)?u({clientWindow:t,scrollDirection:n}):{scrollDepth:0,scrollPercent:0}})({clientWindow:t,scrollDirection:e})));return Object(a.useEffect)((()=>{if(Object(s.c)(t)){const n=i()((()=>{const n=u({clientWindow:t,scrollDirection:e});r(n)}),1e3);return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}return c.a}),[]),n}},1016:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(262),r=n(67),i=n.n(r),o=n(293),c=n.n(o),s=n(450),l=n.n(s),u=n(1015),d=n(296);const b=()=>{const e=Object(u.b)(u.a.HORIZONTAL),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,l()((()=>{i()(t.current,(e=>{e()}))}),[e.scrollDepth,e.scrollPercent]);const r=Object(a.useCallback)(((e,n)=>{const a=d.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=c()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>({scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent})),[]),subscribe:r}}},1017:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(288),o=n.n(i);const c=r.a.createContext([null,o.a]);t.a=c},1018:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(280);const r=Object(a.a)((()=>Promise.all([n.e(0),n.e(29)]).then(n.bind(null,1860))))},1020:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(264),r=n(353),i=n(267);const o=Object(a.a)(r.a,{target:"e11sod7u0"})("position:absolute;top:40px;height:20px;width:20px;",(e=>{let{isPhone:t}=e;return t&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "}),";padding:0;&:focus{",i.h,";}&:active{",i.f,";}",i.m,"{&:focus{",i.f,";}&:active{",i.h,";}}")},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(135),r=n.n(a),i=n(321);const o=r()((async e=>{const t=(await i.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1022:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(264),r=n(334),i=n(454);const o=Object(a.a)("div",{target:"ej38edm0"})("width:100%;position:relative;height:",(e=>Object(r.a)(Object(i.c)(e))),";")},1023:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(262),r=n.n(a),i=n(288),o=n.n(i),c=n(799),s=n(263);const l={debug:o.a,info:o.a,error:o.a,warning:o.a,cleanup:o.a},u=r.a.createContext(l),d=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:a,children:r}=e;const i=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:a});return Object(s.jsx)(u.Provider,{value:i},r)}},1024:function(e,t,n){"use strict";var a=n(262),r=n(268),i=n(312),o=n(406),c=n(281),s=n(304),l=n(324),u=n(674);const d=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[i]=Object(o.a)(d,{ignoreResults:!0}),l=Object(r.d)(c.h),b=Object(s.d)(l),f=Object(a.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:a}=e;return{videoConversationId:t,loggerSnUserId:b,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:a}}),[n,t,b]);return Object(a.useMemo)((()=>new u.a(i,{adapter:f,skip:!t})),[i,f,t])}},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(266),r=n(478),i=n(918);const o=200,c=e=>{let{theme:t,triggerWidth:n,triggerHeight:i,triggerXpadding:o,triggerYpadding:c,isTriggerHiddenWhenMaximised:s}=e;const l=Object(a.f)("frame.align")({theme:t}),u=Object(a.f)("frame.sXMargin")({theme:t}),d=Object(a.f)("frame.sYMargin")({theme:t}),b="L"===l.slice(-1)?r.f.LEFT:r.f.RIGHT,f=(e=>{let{alignType:t,frameSXMargin:n,triggerWidth:a,triggerXpadding:i}=e;switch(t){case r.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case r.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return a+i+n;case r.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case r.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return i+n}})({alignType:l,frameSXMargin:u,triggerWidth:n,triggerXpadding:o}),p=(e=>{let{isTriggerHiddenWhenMaximised:t,alignType:n,frameSYMargin:a,triggerHeight:i,triggerYpadding:o}=e;return t?o:n===r.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===r.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?o+a:i+o+a})({isTriggerHiddenWhenMaximised:s,alignType:l,frameSYMargin:d,triggerHeight:i,triggerYpadding:c});return{xEdgeToAlign:b,xOffset:f,bottomOffset:p}},s=e=>{let{bottomOffset:t,xEdgeToAlign:n,xOffset:r,theme:i,isMaximized:o}=e;const c=`calc(100% - ${t}px)`;return`\n    bottom: ${t}px;\n    height: ${c};\n    max-height: ${o?c:Object(a.f)("frame.height")({theme:i})};\n    ${n}: ${r}px;\n    max-width: calc(100% - ${r}px);\n    min-width: 200px;\n    width: ${o?`${Object(a.f)("frame.maximizedWidth")({theme:i})}px`:`${Object(a.f)("frame.width")({theme:i})}px`};\n    `},l=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:o}=e;if(o)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";const l=Object(a.f)("trigger.size")({theme:n}),u=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:l,triggerWidth:l,triggerXpadding:Object(i.c)(n),triggerYpadding:Object(i.b)(n)});return s({...u,theme:n,isMaximized:r})},u=e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:i,isPhone:o,customTriggerPosition:l}=e;const u="L"===Object(a.f)("frame.align")({theme:n}).slice(-1)?r.f.LEFT:r.f.RIGHT,{xOffset:d,bottomOffset:b}=c({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:l.height,triggerWidth:l.width,triggerXpadding:"left"===u?l.left:l.right,triggerYpadding:l.bottom});if(o){return`\n      top: 0;\n      bottom: ${b}px;\n      ${u}: ${d}px;\n      ${"left"===u?"right":"left"}: 0;\n      width: calc(100vw - ${d}px);\n      height: calc(100% - ${b}px);\n      min-width: calc(100vw - ${d}px);\n      max-width:  100vh;\n      max-height: 100vh;\n    `}return s({xEdgeToAlign:u,xOffset:d,bottomOffset:b,theme:n,isMaximized:i})}},1026:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext("MOBILE");t.b=e=>Object(i.jsx)(o.Provider,{value:e.device},e.children)},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n.n(a),i=n(263);const o=r.a.createContext("ltr");t.b=e=>Object(i.jsx)(o.Provider,{value:e.direction},e.children)},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(262),r=n(364),i=n.n(r),o=n(288),c=n.n(o),s=n(406),l=n(674),u=n(324),d=n(312),b=n(2),f=n(342);const p=(new d.a).setUrl("/livechat/logging/log").setType(u.a.POST).build(),h=e=>{const{message:t,userId:n}=e,a=`UI_${Object(b.a)().appId}_${n}_${i.a.v4()}`;return{message:t,timeStamp:Date.now(),clientId:a,url:Object(f.b)()}},O={debug:c.a,info:c.a,error:c.a,warning:c.a,cleanup:c.a},y=e=>{let{category:t,batch:n,log:r,skip:i,adapter:o,userId:c}=e;const[u]=Object(s.a)(p,{ignoreResults:!0}),d=Object(a.useRef)(O);d.current=Object(a.useMemo)((()=>new l.a(r||u,{batch:n,skip:i,adapter:o||h})),[u,h]),Object(a.useEffect)((()=>()=>{d.current.cleanup()}),[]);return Object(a.useMemo)((()=>({debug:e=>d.current.debug({message:e,category:t,userId:c}),error:e=>d.current.error({message:e,category:t,userId:c}),info:e=>d.current.info({message:e,category:t,userId:c}),warning:e=>d.current.warning({message:e,category:t,userId:c})})),[t,c])}},1029:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}(n(319)),r=c(n(262)),i=c(n(377)),o=n(1030);n(1031);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var b="exiting";t.EXITING=b;var f=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var r,i=n.transitionGroup,o=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(r=l,a.appearStatus=u):r=d:r=t.unmountOnExit||t.mountOnEnter?s:l,a.state={status:r},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getChildContext=function(){return{transitionGroup:null}},a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=b)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},o.performEnter=function(e,t){var n=this,a=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),o=r?i.appear:i.enter;t||a?(this.props.onEnter(e,r),this.safeSetState({status:u},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:b},(function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var a=null==t&&!this.props.addEndListener;e&&!a?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,a=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var i=r.default.Children.only(n);return r.default.cloneElement(i,a)},a}(r.default.Component);function p(){}f.contextTypes={transitionGroup:a.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var h=(0,o.polyfill)(f);t.default=h},1030:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=r),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},1031:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var a;(a=n(319))&&a.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1032:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var a=c(n(319)),r=c(n(262)),i=n(1030),o=n(1471);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function a(t,n){var a,r=(a=e.call(this,t,n)||this).handleExited.bind(l(l(a)));return a.state={handleExited:r,firstRender:!0},a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,a=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,a):(0,o.getNextChildMapping)(e,n,a),firstRender:!1}},i.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["component","childFactory"]),i=u(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?i:r.default.createElement(t,a,i)},a}(r.default.Component);d.childContextTypes={transitionGroup:a.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var b=(0,i.polyfill)(d);t.default=b,e.exports=t.default},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=Object(a.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n(262),r=n(349),i=n.n(r),o=n(40),c=n.n(o),s=n(676),l=n(808),u=n(330),d=n(263);const b={byIds:{}},f=Object(a.createContext)(b),p=(e,t)=>{if(t.type===u.q){const{id:n,details:a}=t.payload;return c()(e.byIds[n])?i()(e,{byIds:{$merge:{[n]:a}}}):i()(e,{byIds:{[n]:{$merge:a}}})}return e},h=e=>{let{children:t}=e;const[n,r]=Object(a.useReducer)(p,b),i=Object(l.a)(),o=Object(a.useCallback)((e=>{const{type:t,payload:n}=e,a=null===i||void 0===i?void 0:i.find((e=>{var t,a;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(a=t.details)||void 0===a?void 0:a.id)===n.id}));a&&r({type:t,payload:{...n,id:a.id}})}),[i]);return Object(s.a)(u.q,o),Object(d.jsx)(f.Provider,{value:n},t)}},1037:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(282);const a=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0)},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>n.e(65).then(n.bind(null,1641))},1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(282);var a=n(494),r=n(809),i=n(810),o=n(477),c=n(292);const s={[c.c.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(o.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.c.CONTACT_DETAILS_FORM]:(e,t)=>{const n=r.a.getFields(i.a.getForm(e)),a=s[c.c.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:r}=n,i=a[r];return i&&(e[r]=i(t)),e}),{})}},u=(e,t)=>{const n=l[a.a.getType(e)];return n?n(e,t):{}}},1040:function(e,t,n){n(39);var a=n(1476);e.exports=f,e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=b;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,a=[],i=0,o=0,c="",u=t&&t.delimiter||"/";null!=(n=r.exec(e));){var d=n[0],b=n[1],f=n.index;if(c+=e.slice(o,f),o=f+d.length,b)c+=b[1];else{var p=e[o],h=n[2],O=n[3],y=n[4],v=n[5],g=n[6],j=n[7];c&&(a.push(c),c="");var m=null!=h&&null!=p&&p!==h,I="+"===g||"*"===g,E="?"===g||"*"===g,C=n[2]||u,T=y||v;a.push({name:O||i++,prefix:h||"",delimiter:C,optional:E,repeat:I,partial:m,asterisk:!!j,pattern:T?l(T):j?".*":"[^"+s(C)+"]+?"})}}return o<e.length&&(c+=e.substr(o)),c&&a.push(c),a}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",d(t)));return function(t,r){for(var i="",c=t||{},s=(r||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!==typeof u){var d,b=c[u.name];if(null==b){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(a(b)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(b)+"`");if(0===b.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<b.length;f++){if(d=s(b[f]),!n[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(b).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(b),!n[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function b(e,t,n){a(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)o+=s(l);else{var b=s(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+b+f+")*"),o+=f=l.optional?l.partial?b+"("+f+")?":"(?:"+b+"("+f+"))?":b+"("+f+")"}}var p=s(n.delimiter||"/"),h=o.slice(-p.length)===p;return r||(o=(h?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+p+"|$)",u(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return a(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):a(e)?function(e,t,n){for(var a=[],r=0;r<e.length;r++)a.push(f(e[r],t,n).source);return u(new RegExp("(?:"+a.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return b(i(e,n),t,n)}(e,t,n)}},1041:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="@chatPrompt/PROMPT_ACTION_TRIGGER"},1043:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},r={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(321);const r=async()=>a.a.post("/livechat/conversation/refresh-token")},1283:function(e,t,n){"use strict";var a=n(23),r=n.n(a),i=n(322),o=n.n(i),c=n(684),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:o()(e)&&o()(t)?e.localeCompare(t):o()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&o()(t)?e-parseInt(t,10):-1,u=(e,t)=>{if(r()(t))return!1;return l(t,e)<=-1},d=(e,t)=>{if(r()(t))return!1;return l(t,e)>=1},b=(e,t)=>{if(r()(t))return!1;return 0===l(t,e)};var f=n(300),p=n.n(f),h=n(40),O=n.n(h),y=n(403),v=n(70),g=n(296),j=n(475);var m=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=g.a.getField(this._filter),i=p()(g.a.getValues(this._filter)),o=Object(y.c)({currentValueMap:e,filter:this._filter});let c;switch(g.a.getFilterType(this._filter)){case j.a.LT:c=u(i,o);break;case j.a.LTE:c=u(i,o)||b(i,o);break;case j.a.GT:c=d(i,o);break;case j.a.GTE:c=d(i,o)||b(i,o);break;case j.a.EQUALS:c=b(i,o);break;case j.a.NOT_EQUALS:c=!b(i,o);break;case j.a.EXISTS:c=!O()(o);break;case j.a.MISSING:c=O()(o);break;default:c=!1}return c&&n&&Object(v.a)(`Range Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`Range Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(r()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(v.a)("Wrong regex in filter"),!1}},E=n(1009),C=n(116),T=n.n(C),S=n(474),_=n.n(S);var A=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=g.a.getField(this._filter),i=g.a.getValues(this._filter),o=Object(y.c)({currentValueMap:e,filter:this._filter}),c=T()(g.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(i,(e=>c?I(e,o):Object(E.a)(e,o)));return s&&n&&Object(v.a)(`Regex Filter succeed for ${r} with value ${o}`),!s&&a&&Object(v.a)(`Regex Filter failed for ${r} with value ${o}`),s},this.clear=()=>{},this._filter=e}};var x=(e,t)=>!r()(t)&&!!e.includes(t);var w=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=g.a.getField(this._filter),i=g.a.getValues(this._filter),o=Object(y.c)({currentValueMap:e,filter:this._filter}),c=x(i,o);return c&&n&&Object(v.a)(`In Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`In Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};var N=(e,t)=>!r()(t)&&!e.includes(t);var R=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:a}=t,r=g.a.getField(this._filter),i=g.a.getValues(this._filter),o=Object(y.c)({currentValueMap:e,filter:this._filter}),c=N(i,o);return c&&n&&Object(v.a)(`NotIn Filter succeed for ${r} with value ${o}`),!c&&a&&Object(v.a)(`NotIn Filter failed for ${r} with value ${o}`),c},this.clear=()=>{},this._filter=e}};class L{}L.createFilterAction=e=>{switch(g.a.getFilterType(e)){case j.a.LTE:case j.a.LT:case j.a.GT:case j.a.GTE:case j.a.NOT_EQUALS:case j.a.EXISTS:case j.a.MISSING:return new m(e);case j.a.REGEX:return new A(e);case j.a.CONTAINS:case j.a.IN:return new w(e);case j.a.NIN:return new R(e);default:return new m(e)}};var P=L;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(this._filter)}};var D=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(e)}};var k=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(e)}},U=n(343),F=n.n(U),B=n(388);var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=g.a.getDetails(this._filter),a=Object(y.c)({currentValueMap:e,filter:this._filter});let r={[B.a.BUSINESS_HOURS]:a};return!n||O()(n)||F()(n.timeToBusinessHours)||(r={[B.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(r,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>g.a.getFilterType(e)===j.a.IN?p()(g.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:j.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:j.a.GT,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=P.createFilterAction(a)}};var $=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const a=(e=>g.a.getFilterType(e)===j.a.IN?p()(g.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:j.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:j.a.LTE,values:[0]}):e)(e);this._filter=a,this._unSubscribeFn=n?n(a):null,this._filterAction=P.createFilterAction(a)}};var V=class{constructor(e,t){let{subscribe:n,parentFilter:a}=t;this.matches=(e,t)=>{var n,a,r,i;let o=e;switch(this._parentFilter&&g.a.getField(this._parentFilter)){case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=p()(g.a.getValues(this._parentFilter)),r=null!==(a=null===(n=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY][t])||void 0===n?void 0:n.variants)&&void 0!==a?a:[],i=Date.now()-(r[r.length-1].actionTime||0);o=Object.assign(Object.assign({},o),{[B.a.DEPENDENT_DURATION_KEY]:i});break}case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=p()(g.a.getValues(this._parentFilter)),n=null!==(i=null===(r=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY][t])||void 0===r?void 0:r.variants)&&void 0!==i?i:[],a=Date.now()-(n[n.length-1].actionTime||0);o=Object.assign(Object.assign({},o),{[B.a.DEPENDENT_DURATION_KEY]:a});break}}return this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=a,this._unSubscribeFn=n?n(e,a):null,this._filterAction=P.createFilterAction(e)}};var H=class{constructor(e,t){this.matches=(e,t)=>{const n=p()(g.a.getValues(this._filter)),a=e[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],r=this._filterAction.matches({[B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:a[n]?n:""},t);if(r){const n=g.a.getDetails(this._filter);if(n&&!O()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return r},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(e),this._dependentFilterAction=null}};var W=class{constructor(e,t){this.matches=(e,t)=>{const n=p()(g.a.getValues(this._filter)),a=e[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY],r=this._filterAction.matches({[B.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:a[n]?n:""},t);if(r){const n=g.a.getDetails(this._filter);if(n&&!O()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return r},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(e),this._dependentFilterAction=null}},z=n(299);const q="PIXEL";var K=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=T()(g.a.getDetails(this._filter),"valueAdditional.valueType"),a=g.a.getField(this._filter),{scrollDepth:r,scrollPercent:i}=e[a]||z.a,o={[a]:n===q?r:i};return this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=P.createFilterAction(e)}};var Y=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.c)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(g.a.getField(e)){case B.a.AVAILABLE_AGENTS:return new D(e,t);case B.a.AGENT_OUT_OF_CAPACITY:return new k(e,t);case B.a.BUSINESS_HOURS:return new G(e,t);case B.a.IS_CONVERSATION_OPEN:return new $(e,t);case B.a.DEPENDENT_DURATION_KEY:return new V(e,t);case B.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new W(e,t);case B.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new H(e,t);case B.a.CURRENT_URL:case B.a.TOTAL_TIME_SPENT:case B.a.ACTIVE_TIME_SPENT:case B.a.INACTIVE_TIME_SPENT:case B.a.DEVICE_TYPE:case B.a.USER_IP_DETAILS_COUNTRY:case B.a.USER_IP_DETAILS_CITY:case B.a.USER_IP_DETAILS_REGION:return new M(e,t);case B.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case B.a.VERTICAL_PAGE_SCROLL_DEPTH:return new K(e,t);case B.a.TIME_SPENT_ON_SESSION:return new Y(e,t);case B.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(y.e)(g.a.getField(e))?new M(e,t):void 0}};var Q=Z,J=n(67),ee=n.n(J),te=n(68),ne=n.n(te);var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(a=>!!a.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(g.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var re=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(a=>!a.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(g.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let ie=0;class oe{}oe.createFilterAction=(e,t)=>{const n=(e=>{var t,n;return ie+=1,Object.assign(Object.assign({},e),{id:null!==(n=null===(t=null===e||void 0===e?void 0:e.details)||void 0===t?void 0:t.id)&&void 0!==n?n:ie})})(e),a=Q.createFilterAction(n,t);if(a)return a;switch(g.a.getFilterType(n)){case j.a.AND:return new ae(e,t);case j.a.OR:return new re(e,t);default:return P.createFilterAction(n)}};t.a=oe},1294:function(e,t,n){"use strict";var a,r=n(262),i=n.n(r),o=(n(310),n(265)),c=n(298),s=n(264);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function u(e,t){let{title:n,titleId:i,...o}=e;return r.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,a||(a=r.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const d=r.forwardRef(u);n.p;const b=Object(s.a)(d,{target:"e1s9shjt0"})({name:"ta0e1",styles:"width:48px;height:48px;margin-bottom:18px;fill:var(--spr-lc-d-1);"});var f=n(1301),p=n(604),h=n(477),O=n(263);var y={name:"19cy8uy",styles:"max-width:218px;"};var v=i.a.memo(Object(o.h)((e=>{const{onStopSession:t,brandUser:n,intl:a}=e,i=Object(c.a)(),o=Object(r.useMemo)((()=>({agentName:Object(h.a)(n,i)})),[n,i]),s=Object(r.useMemo)((()=>a.formatMessage(p.a.settingUpCobrowsing,o)),[o,a]),l=Object(r.useMemo)((()=>y),[]);return Object(O.jsx)(f.a,{onClose:t,Icon:b,description:s,descriptionStyles:l})}))),g=n(473);t.a=e=>{const{sessionState:t}=e;return t!==g.c.INITIATED&&t!==g.c.SETUP&&t!==g.c.RESUMED?null:Object(O.jsx)(v,e)}},1298:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(262),r=n.n(a),i=n(40),o=n.n(i),c=n(68),s=n.n(c),l=n(401),u=n.n(l),d=n(288),b=n.n(d),f=n(268),p=n(355),h=n(323);var O=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId,page:e.page,appId:e.appId}};Object(p.a)({topic:h.e,payload:{data:t}})},y=n(321),v=n(350),g=n(66);const j=new Set([v.a.AGENT_ASSIGNED.id,v.a.VIDEO_CALL_OUTGOING_STARTING.id,v.a.AUDIO_CALL_OUTGOING_STARTING.id,v.a.CALL_ENDED.id,v.a.CALL_MISSED.id,v.a.CALL_DECLINED.id,v.a.CALL_FAILED.id,v.a.CALL_PAGE_MAXIMISED.id,v.a.CALL_PAGE_MINIMISED.id,v.a.ATTACHMENT_BUTTON_CLICKED.id,v.a.SEND_BUTTON_CLICKED.id]);var m=()=>async e=>{if(j.has(e.action.id))return;const t={page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT",sourceSubType:e.sourceSubType,...e.additional};try{await y.a.post("/livechat/prompt/browse/event",t)}catch(n){Object(g.b)(n)}},I=n(387),E=n(275),C=n(277),T=n(371),S=n(281),_=n(420),A=n(2),x=n(0),w=n(753),N=n(263);const R=r.a.createContext(b.a);let L=[];const P=e=>Object(_.c)(Object(S.e)(e)),M=e=>{const t=Object(I.a)(),r=Object(E.a)(),i=Object(a.useRef)(L),[c,l]=Object(a.useState)(!o()(i.current)),d=Object(C.a)(T.c),b=Object(C.a)(T.b),p=Object(f.d)(P),h=Object(x.S)();return Object(a.useEffect)((()=>{if(c&&p.length){const e={...p[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(A.a)().appId};((e,t)=>{Object(w.c)((()=>{s()(e,(e=>{e(t)}))}))})(i.current,e),b()}}),[p,c]),Object(a.useEffect)((()=>{h||c||(e=>{var t,a,r,i,o,c;const s=[],l=null===(t=e.settings)||void 0===t||null===(a=t.analyticsSettings)||void 0===a||null===(r=a.googleAnalytics)||void 0===r?void 0:r.trackerId,u=null===(i=e.settings)||void 0===i||null===(o=i.analyticsSettings)||void 0===o||null===(c=o.sprinklrAnalytics)||void 0===c?void 0:c.enabled;return null!==l&&void 0!==l&&l.startsWith("UA-")?s.push(n.e(135).then(n.bind(null,1962)).then((e=>e.default.createTracker({trackerId:l},{canAccessParent:Object(x.Q)()}))).catch((()=>{}))):null!==l&&void 0!==l&&l.startsWith("G-")&&s.push(n.e(75).then(n.bind(null,1963)).then((e=>e.default.createTracker({trackerId:l},{canAccessParent:Object(x.Q)()}))).catch((()=>{}))),u&&s.push(m()),s.push(O()),Promise.all(s)})(r).then((e=>{i.current=u()(e),L=i.current,l(!0)}))}),[]),Object(N.jsx)(R.Provider,{value:d},e.children)};t.b=r.a.memo(M)},1301:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n(262);var a=n(265),r=n(264),i=n(263),o=n(266),c=n(267),s=n(430),l=n(353);const u=Object(r.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(o.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(o.f)("frame.translateZ")(e)),"px);"),d=Object(r.a)(s.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),b={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},f=Object(r.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),p=Object(r.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(o.f)("confirmationBox.paddingTop")(e),n=+Object(o.f)("confirmationBox.paddingRight")(e),a=+Object(o.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(o.f)("confirmationBox.paddingBottom")(e)}px ${a}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: ${Object(o.f)("frame.boxShadow")(e)};\n      border-radius: ${Object(o.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:var(--spr-lc-d-1);background-color:",Object(o.f)("confirmationBox.backgroundColor"),";"),h=Object(r.a)("div",{target:"e1exikj44"})("font-size:",Object(o.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(o.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(o.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(o.f)("confirmationBox.header.paddingBottom"),"px;"),O=Object(r.a)("div",{target:"e1exikj45"})("font-size:",Object(o.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:var(--spr-lc-d-1);text-align:center;"),y=Object(r.a)(l.a,{target:"e1exikj46"})("position:absolute;top:var(--spr-lc-safe-area-top);",Object(c.c)("right: var(--spr-lc-safe-area-right);","left: var(--spr-lc-safe-area-left);"),""),v=e=>Object(i.css)({height:`${Object(o.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(o.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`,fill:"var(--spr-lc-d-1)"},""),g=e=>Object(i.css)({height:`${Object(o.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(o.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var j=n(351),m=n(271),I=n(269),E=n(274),C=n(604);const T=Object(a.h)((e=>{let{onClose:t,title:n,description:a,descriptionStyles:r,Icon:o,intl:c}=e;const s=Object(E.b)(),l=Object(m.a)(),{direction:T}=Object(I.a)();return Object(i.jsx)(u,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(i.jsx)(d,{name:"spr-chat__cobrowseInfo-frame","aria-label":c.formatMessage(C.a.coBrowseInformation),title:c.formatMessage(C.a.coBrowseInformation)},Object(i.jsx)(i.Global,{styles:b}),Object(i.jsx)(f,{isPhone:l},Object(i.jsx)(p,{isPhone:l},Object(i.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(i.jsx)(y,{direction:T,iconName:"closeIcon",Icon:j.a,onClick:t,iconCss:v(s),css:g(s)}),Object(i.jsx)(o,null),n&&Object(i.jsx)(h,null,n),a&&Object(i.jsx)(O,{css:r},a))))))}))},1306:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(288),r=n.n(a),i=n(1037);const o=5;function c(e,t){return new Promise(((n,a)=>{setTimeout((()=>{e().then(n,a)}),t)}))}const s={},l=(e,t)=>{s[t]=e,e.catch(r.a).finally((()=>{delete s[t]}))};var u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxAttempts:n=o}=t;function a(e){return 1e3*(e?Math.pow(2,Math.min(e-1,n)):0)}function r(e,t){return c(e,a(t)).catch((a=>{if(t===n)throw a;return r(e,t+1)}))}const u=Object(i.a)(e.toString());if(s[u])return s[u];const d=r(e,0);return l(d,u),d};const d=()=>u((()=>n.e(47).then(n.bind(null,1931))),{maxAttempts:3})},1392:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1395:function(e,t,n){var a=n(596);e.exports=function(e,t){for(var n=-1,r=e.length;++n<r&&a(t,e[n],0)>-1;);return n}},1454:function(e,t,n){var a=n(174)("length");e.exports=a},1455:function(e,t){var n="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+a+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[i,o,c].join("|")+")"+l+s+")*"),d="(?:"+[i+a+"?",a,o,c,n].join("|")+")",b=RegExp(r+"(?="+r+")|"+d+u,"g");e.exports=function(e){for(var t=b.lastIndex=0;b.test(e);)++t;return t}},1461:function(e,t,n){var a={"./classic/pages":[1858,14,100],"./modern/pages":[1857,14,101]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=1461,e.exports=r},1462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(407),r=a.__importStar(n(262)),i=n(262),o=a.__importDefault(n(1463)),c=a.__importDefault(n(1464));t.default=function(e){return function(t){var n,s;s=r.isValidElement(t)?(n=t).props:t;var l=o.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),u=l[0],d=l[1],b=i.useRef(null),f=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},p=function(){return d({paused:!1})},h=function(){return d({paused:!0})},O=function(){var e=b.current;e&&d({muted:e.muted,volume:e.volume})},y=function(){var e=b.current;if(e){var t=e.duration,n=e.buffered;d({duration:t,buffered:c.default(n)})}},v=function(){var e=b.current;e&&d({time:e.currentTime})},g=function(){var e=b.current;e&&d({buffered:c.default(e.buffered)})};n=n?r.cloneElement(n,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:f(s.onPlay,p),onPause:f(s.onPause,h),onVolumeChange:f(s.onVolumeChange,O),onDurationChange:f(s.onDurationChange,y),onTimeUpdate:f(s.onTimeUpdate,v),onProgress:f(s.onProgress,g)})):r.createElement(e,a.__assign(a.__assign({controls:!1},s),{ref:b,onPlay:f(s.onPlay,p),onPause:f(s.onPause,h),onVolumeChange:f(s.onVolumeChange,O),onDurationChange:f(s.onDurationChange,y),onTimeUpdate:f(s.onTimeUpdate,v),onProgress:f(s.onProgress,g)}));var j=!1,m={play:function(){var e=b.current;if(e&&!j){var t=e.play();if("object"===typeof t){j=!0;var n=function(){j=!1};t.then(n,n)}return t}},pause:function(){var e=b.current;if(e&&!j)return e.pause()},seek:function(e){var t=b.current;t&&void 0!==u.duration&&(e=Math.min(u.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=b.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,d({volume:e}))},mute:function(){var e=b.current;e&&(e.muted=!0)},unmute:function(){var e=b.current;e&&(e.muted=!1)}};return i.useEffect((function(){var e=b.current;e&&(d({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&m.play())}),[s.src]),[n,u,m,b]}}},1463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(262);t.default=function(e){void 0===e&&(e={});var t=a.useState(e),n=t[0],r=t[1];return[n,a.useCallback((function(e){r((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[r])]}},1464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1465:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e}(n(319));var a=c(n(1466)),r=c(n(1469)),i=c(n(262)),o=c(n(1029));n(1031);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},d=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).onEnter=function(e,n){var a=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,a),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,a),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.getClassNames("appear").doneClassName,r=t.getClassNames("enter").doneClassName,i=n?a+" "+r:r;t.removeClasses(e,n?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,a="string"===typeof n,r=a?(a&&n?n+"-":"")+e:n[e];return{className:r,activeClassName:a?r+"-active":n[e+"Active"],doneClassName:a?r+"-done":n[e+"Done"]}},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,r=n.activeClassName,i=n.doneClassName;a&&u(e,a),r&&u(e,r),i&&u(e,i)},r.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},r.render=function(){var e=s({},this.props);return delete e.classNames,i.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(i.default.Component);d.defaultProps={classNames:""},d.propTypes={};var b=d;t.default=b,e.exports=t.default},1466:function(e,t,n){"use strict";var a=n(1467);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=a(n(1468));e.exports=t.default},1467:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1468:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1469:function(e,t,n){"use strict";function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(39),e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))}},1470:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(319));var a=o(n(262)),r=n(377),i=o(n(1032));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=o.prototype;return c.handleLifecycle=function(e,t,n){var i,o=this.props.children,c=a.default.Children.toArray(o)[t];c.props[e]&&(i=c.props)[e].apply(i,n),this.props[e]&&this.props[e]((0,r.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children","in"]),o=a.default.Children.toArray(t),c=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.default.createElement(i.default,r,n?a.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(a.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1471:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return r(e.children,(function(n){return(0,a.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=r(e.children),s=i(t,c);return Object.keys(s).forEach((function(r){var i=s[r];if((0,a.isValidElement)(i)){var l=r in t,u=r in c,d=t[r],b=(0,a.isValidElement)(d)&&!d.props.in;!u||l&&!b?u||!l||b?u&&l&&(0,a.isValidElement)(d)&&(s[r]=(0,a.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:o(i,"exit",e),enter:o(i,"enter",e)})):s[r]=(0,a.cloneElement)(i,{in:!1}):s[r]=(0,a.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:o(i,"exit",e),enter:o(i,"enter",e)})}})),s};var a=n(262);function r(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a,r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var c={};for(var s in t){if(r[s])for(a=0;a<r[s].length;a++){var l=r[s][a];c[r[s][a]]=n(l)}c[s]=n(s)}for(a=0;a<i.length;a++)c[i[a]]=n(i[a]);return c}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1474:function(e,t,n){var a=n(755);e.exports=function(e){return a(e,5)}},1475:function(e,t,n){var a=n(596),r=n(117),i=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var c=null==n?0:r(n);return c<0&&(c=i(o+c,0)),a(e,t,c)}},1476:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1477:function(e,t,n){n(39);var a=n(1478),r=n(41),i=/[&<>"']/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,a):e}},1478:function(e,t,n){var a=n(607)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=a},1957:function(e,t,n){"use strict";var a=n(375),r=n(536),i=n(591),o=n(669),c=Number.isInteger||function(e){return e<<0===e},s=n(962),l=n(1435),u=Object(r.a)((function e(t,n,a){if(0===t.length)return n;var r=t[0];if(t.length>1){var u=!Object(l.a)(a)&&Object(i.a)(r,a)?a[r]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,u)}if(c(r)&&Object(o.a)(a)){var d=[].concat(a);return d[r]=n,d}return Object(s.a)(r,n,a)})),d=n(1297),b=n(961),f=Object(a.a)((function(e){return Object(d.a)(Object(b.a)(e),u(e))}));t.a=f},260:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return Ev}));var a=n(979),r=n.n(a),i=n(672),o=n.n(i),c=n(116),s=n.n(c),l=n(40),u=n.n(l),d=n(2),b=n(0);var f=new class{constructor(){var e=this;this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=()=>this.queue,this.getBufferQueue=()=>this.buffer,this.isFlushingInProgress=()=>this._isFlushingInProgress,this.setIsFlushingInProgress=e=>{this._isFlushingInProgress=e},this.isReFlushPending=()=>this._isReFlushPending,this.setIsReFlushPending=e=>{this._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];u()(n)||e.push(...n)},this.move=(e,t)=>{e.forEach((()=>{this.addCmdToQueue(t,this.popNextCmd(e))}))},this.isEmpty=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return u()(t)},this.popNextCmd=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return t.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}},p=n(673),h=n(70);const O="AVAILABLE",y="UN_AVAILABLE",v="PENDING";let g=v;const j=e=>{g=e?O:y},m=()=>g===y,I=()=>g===v,E="PENDING",C="SUCCESS",T="FAIL",S="EXPIRED";let _=E;const A=e=>{_=e},x=()=>_===E,w=()=>_===T,N=()=>_===S;var R=n(400),L=n(349),P=n.n(L),M=n(376);const D="APP_AVAILABLE",k="APP_IN_SESSION";function U(e,t){const n=Object(b.R)(t);if(u()(n))return;const a=P()(Object(d.a)(),{userContext:{$merge:n}});Object(d.f)(a),e({type:M.f,payload:n})}U.dependecies=[k];const F="@user/UPDATE_USER_SETTINGS";function B(e,t){e({type:F,payload:t})}B.dependecies=[k];var G=n(330),$=n(299);function V(e){e({type:G.f,payload:$.a})}function H(e,t,n){new Promise(((n,a)=>{e({type:G.l,payload:null!==t&&void 0!==t?t:$.a,promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}V.dependecies=[k],H.dependecies=[D];var W=n(433),z=n.n(W),q=n(288),K=n.n(q),Y=n(751);const X=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a,newSubscriber:r}=e;return Object(Y.b)(K.a,{topic:t,subscriber:r}),n.push({legacySubscriber:a,newSubscriber:r}),n},Z=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:a}=e;const r=z()(n,(e=>{let{legacySubscriber:t}=e;return t===a}));return-1!==r&&(Object(Y.c)(K.a,{topic:t,subscriber:n[r].newSubscriber}),n.splice(r,1)),n};var Q=n(323);function J(e){Object(b.Q)()&&e({type:G.b,payload:$.a})}J.dependecies=[D];let ee=[];let te=[];let ne=[];var ae=n(593);function re(e,t){e({type:ae.a,payload:t})}function ie(e,t){e({type:ae.b,payload:{promptId:t.id}})}re.dependecies=[k,D],ie.dependecies=[k];let oe=[];var ce=n(1),se=n.n(ce),le=n(7),ue=n.n(le),de=n(355),be=n(594);const fe="sendExternalEvent",pe="openNewConversation",he="updateConversationContext",Oe="getAvailableAgents";function ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=se()(t)?t:s()(t,"initialMessages");new Promise(((a,r)=>{e(Object(be.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!se()(t)&&ue()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")})({resolve:a,reject:r}))})).then((e=>{Object(de.a)({topic:pe,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(de.a)({topic:pe,payload:{error:e,request:t}})}))}ye.dependecies=[k,D];var ve=n(434);function ge(e,t){const n=Object(ve.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}ge.dependecies=[D];var je=n(343),me=n.n(je),Ie=n(311);function Ee(e,t){me()(t.payload)?Object(de.a)({topic:fe,payload:{error:R.a.INCORRECT_PAYLOAD,request:t}}):e({type:Ie.z,payload:t})}Ee.dependecies=[k,D];var Ce=n(772);function Te(e,t){const n={...t,context:Object(b.R)(t.context)};new Promise(((a,r)=>{const i=t.conversationId;Ce.a.info({chatConversationId:i,message:`${i}: updateConversationContext SDK called`,additionalDetails:{params:n}}),e({type:Ie.k,payload:n,promise:{resolve:a,reject:r}})})).then((e=>{Object(de.a)({topic:he,payload:{data:e,request:{...n,conversationId:n.conversationId||e.conversationId},shouldLogEvent:!0}})})).catch((e=>{Object(de.a)({topic:he,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function Se(e,t){const n=Object(b.R)(t);if(u()(n))return;const a=P()(Object(d.a)(),{clientContext:{$merge:n}});Object(d.f)(a),e({type:Ie.e,payload:{context:n}})}Te.dependecies=[k],Se.dependecies=[D];let _e=[];let Ae=[];let xe=[];let we=[];function Ne(e){Object(b.Q)()&&e({type:G.i,payload:$.a})}function Re(e){Object(b.Q)()&&e({type:G.h,payload:$.a})}Ne.dependecies=[k],Re.dependecies=[D];let Le=[];const Pe="@commerce/ADD_TO_CART",Me="@commerce/UPDATE_CART",De="@commerce/REMOVE_FROM_CART";function ke(e,t){e({type:Me,payload:t})}function Ue(e,t){e({type:De,payload:t})}ke.dependecies=[k],Ue.dependecies=[k];var Fe=n(124),Be=n.n(Fe),Ge=n(321),$e=n(538);$e.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const Ve={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},He=Object.assign(Object.assign({},Ve),{deviceToken:{type:"string",presence:!0}});function We(e,t){if(t.appVersion=Be()(t.appVersion),n=t,Object($e.a)(n,He))throw Object(h.a)("Invalid device registration payload",t),new Error(R.a.INCORRECT_PAYLOAD);var n;return Ge.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(R.a.NETWORK_FAILURE)}))}We.dependecies=[k];let ze=[];function qe(e,t){if(t.appVersion=Be()(t.appVersion),n=t,Object($e.a)(n,Ve))throw Object(h.a)("Invalid device unregistration payload",t),new Error(R.a.INCORRECT_PAYLOAD);var n;return Ge.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(R.a.NETWORK_FAILURE)}))}qe.dependecies=[k];let Ke=[];let Ye=[];const Xe="NEW_MESSAGE",Ze="MESSAGE_UPDATED",Qe="EXTERNAL_EVENT",Je="CHAT_USER_UPDATED",et="CHAT_USER_START_TYPING",tt="CHAT_USER_STOP_TYPING",nt="LOCK_CONVERSATIONS",at="UNLOCK_CONVERSATIONS",rt="CONVERSATION_UPDATED",it="VIDEO_CALL_STARTING",ot="VIDEO_CALL_ENDED",ct="VIDEO_CALL_TOGGLE",st="VIDEO_CALL_OFFER_ACCEPTED",lt="VIDEO_CALL_DECLINED",ut="VIDEO_CALL_MISSED",dt="CO_BROWSE_STATUS",bt="ADD_TO_CART",ft="USER_SESSION_EXPIRED",pt="VIDEO_PARTICIPANT_UPDATED";var ht=n(66);function Ot(e,t){const{type:n,...a}=t;switch(n){case Xe:{const t=a.cId;new Promise(((n,a)=>{e(Object(be.a)({conversationId:t},{resolve:n,reject:a}))})).catch((e=>{Object(ht.b)(e)}));break}}}Ot.dependecies=[k,D];var yt=n(42),vt=n.n(yt);const gt=e=>{Et(K.a,e)};let jt=null,mt=gt;function It(e,t){vt()(t)&&(mt=t)}function Et(e,t){jt&&(jt(t),jt=null)}Object(Y.b)(K.a,{topic:Q.j,subscriber:e=>{let{response:t}=e;const{data:n={}}=t||{},{callBack:a,permissions:r}=n;jt=a,mt(r)}});const Ct=(e,t,n)=>{e({type:G.a,payload:{id:t.id,filters:t.filters,cb:n}})};Ct.dependecies=[k];const Tt=(e,t)=>{e({type:G.m,payload:{id:t.id}})};Tt.dependecies=[k];const St=e=>{Ge.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(de.a)({topic:Oe,payload:{data:e.data}})})).catch((()=>{Object(de.a)({topic:Oe,payload:{error:R.a.NETWORK_FAILURE}})}))};St.dependecies=[k];var _t=n(48);function At(e,t){new Promise(((n,a)=>{const r=ue()(t)?t:{conversationId:t};r.externalCaseId&&r.conversationId?a(_t.a.NOT_ACCEPTABLE):e(Object(be.a)(r,{resolve:n,reject:a}))})).catch((e=>{Object(ht.b)(e)}))}At.dependecies=[k,D];var xt=n(981);function wt(e,t,n){new Promise(((n,a)=>{e({type:M.e,payload:{locale:t},promise:{resolve:n,reject:a}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}wt.dependecies=[k,D];var Nt=n(19);const Rt={updateUserContext:[U],updateUserSettings:[B],open:[H],close:[J],onUnreadCountChange:[function(e,t){te=X({topic:Q.m,legacySubscriberMap:te,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){te=Z({topic:Q.m,legacySubscriberMap:te,legacySubscriber:t})}],onExternalEvent:[function(e,t){ne=X({topic:Q.g,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){ne=Z({topic:Q.g,legacySubscriberMap:ne,legacySubscriber:t})}],onClose:[function(e,t){ee=X({topic:Q.d,legacySubscriberMap:ee,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ee=Z({topic:Q.d,legacySubscriberMap:ee,legacySubscriber:t})}],enable:[Ne],disable:[Re],onAvailabilityChange:[function(e,t){Ye=X({topic:Q.c,legacySubscriberMap:Ye,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}})}],offAvailabilityChange:[function(e,t){Ye=Z({topic:Q.c,legacySubscriberMap:Ye,legacySubscriber:t})}],subscribeToUpdate:[Y.b],unsubscribeToUpdate:[Y.c],addFilterToEvaluate:[Ct],removeFilterToEvaluate:[Tt],openNewPrompt:[re],clearPrompt:[ie],onPromptAction:[function(e,t){oe=X({topic:Q.k,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){oe=Z({topic:Q.k,legacySubscriberMap:oe,legacySubscriber:t})}],[pe]:[ye],[fe]:[Ee],clearSession:[V],[he]:[Te],updateClientContext:[Se],updateThemeMode:[function(e,t,n){new Promise(((n,a)=>{const r=Object(d.a)().skin===Nt.a;!t||!b.a.includes(t)||r&&"DARK"===t?a(R.a.INCORRECT_PAYLOAD):(Object(d.f)({themeMode:t}),e({type:G.p,payload:{themeMode:t},promise:{resolve:n,reject:a}}))})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}],onShowMedia:[function(e,t){xe=X({topic:Q.i,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){xe=Z({topic:Q.i,legacySubscriberMap:xe,legacySubscriber:t})}],onCloseMedia:[function(e,t){we=X({topic:Q.h,legacySubscriberMap:we,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){we=Z({topic:Q.h,legacySubscriberMap:we,legacySubscriber:t})}],onEvent:[function(e,t){Le=X({topic:Q.e,legacySubscriberMap:Le,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){Le=Z({topic:Q.e,legacySubscriberMap:Le,legacySubscriber:t})}],[Oe]:[St],openExistingConversation:[At],updateWidget:[function(e,t){const n=t.details.status;xt.a[n]?e({type:G.q,payload:t}):(Object(h.a)("Invaild status code",n),Object(de.a)({topic:G.q,payload:{data:t,error:R.a.INCORRECT_PAYLOAD}}))}],updateLocale:[wt],updateCart:[ke],removeFromCart:[Ue],registerDevice:[We,function(e,t){Object(de.a)({topic:Q.l,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){ze=X({topic:Q.l,legacySubscriberMap:ze,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){ze=Z({topic:Q.l,legacySubscriberMap:ze,legacySubscriber:t})}],unregisterDevice:[qe,function(e,t){Object(de.a)({topic:Q.n,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){Ke=X({topic:Q.n,legacySubscriberMap:Ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){Ke=Z({topic:Q.n,legacySubscriberMap:Ke,legacySubscriber:t})}],onLoad:[function(e,t){_e=X({topic:Q.a,legacySubscriberMap:_e,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){_e=Z({topic:Q.a,legacySubscriberMap:_e,legacySubscriber:t})}],onLoadComplete:[function(e,t){Ae=X({topic:Q.b,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){Ae=Z({topic:Q.b,legacySubscriberMap:Ae,legacySubscriber:t})}],goBack:[ge],onNotification:[Ot],onSeekPermission:[It],offSeekPermission:[function(e){It(0,gt)}],grantPermission:[Et]},Lt=async()=>{if(!f.isEmpty()){const[e,...t]=f.popNextCmd();await Dt(f.getBufferQueue(),e,...t),await Lt()}},Pt=async()=>{f.isFlushingInProgress()?f.setIsReFlushPending(!0):(f.setIsFlushingInProgress(!0),await Lt(),f.setIsFlushingInProgress(!1),f.isEmpty(f.getBufferQueue())||f.move(f.getBufferQueue(),f.getQueue()),f.isReFlushPending()&&(f.setIsReFlushPending(!1),await Pt()))};async function Mt(e,t,n){if(!t)return;for(var a=arguments.length,r=new Array(a>3?a-3:0),i=3;i<a;i++)r[i-3]=arguments[i];const o=[p.a.emit.bind(p.a),...r];try{const e=await t(...o);n&&n(void 0,e)}catch(c){Object(h.a)(c),n&&n(c)}}async function Dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.getQueue(),t=arguments.length>1?arguments[1]:void 0;const n=Rt[t]&&Rt[t][0],a=Rt[t]&&Rt[t][1],r=n&&n.dependecies&&n.dependecies.includes(D),i=n&&n.dependecies&&n.dependecies.includes(k);for(var o=arguments.length,c=new Array(o>2?o-2:0),s=2;s<o;s++)c[s-2]=arguments[s];if(i||r)return r&&!i?m()?void(a&&a(R.a.CHAT_UNAVAILABLE)):I()?void f.addCmdToQueue(e,[t,...c]):void Mt(t,n,a,...c):i&&!r?w()||N()?void(a&&a(R.a.CHAT_UNAVAILABLE)):x()?void f.addCmdToQueue(e,[t,...c]):void Mt(t,n,a,...c):void(w()||N()||m()?a&&a(R.a.CHAT_UNAVAILABLE):x()||I()?f.addCmdToQueue(e,[t,...c]):Mt(t,n,a,...c));Mt(t,n,a,...c)}var kt=n(293),Ut=n.n(kt),Ft=n(980),Bt=n.n(Ft),Gt=n(524),$t=n(369),Vt=n(318),Ht=n(368),Wt=n(742),zt=n(342);var qt=n(370),Kt=n(491);const Yt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const r=await(async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const{appId:r}=Object(d.a)(),i=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Ht.a)(r)}];return n&&i.push({key:"conversationId",value:n}),a&&i.push({key:"messageId",value:a}),i})({ssoId:t,conversationId:n,messageId:a});return`https://prod4-live-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(qt.e)(r)}`},Xt=e=>{var t,n,a;return(null===(t=Object(d.a)().user)||void 0===t?void 0:t.isSSOAuthorized)&&!(null===(n=e.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a||!a.autoLoginSSOId)},Zt=async e=>{let{ssoId:t,conversationId:n,messageId:a}=e;const r=(e=>{const t=screen.width/2,n=screen.height/2,a=t-t/2,r=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${r},left=${a}`)})(await Yt({ssoId:t,conversationId:n,messageId:a}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(d.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n,a;a=Object(Kt.d)("/logout",(()=>{o(),t()})),n=setInterval((()=>{r&&r.closed&&(o(),t())}),1500);const i=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Ht.l)(Object(d.a)().appId,t.authToken),e(t)}catch(a){t(),Object(ht.b)(a)}finally{o()}},o=()=>{clearInterval(n),a&&a(),window.removeEventListener("message",i)};window.addEventListener("message",i)})).finally((()=>{r&&r.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var Qt=n(327),Jt=n(309);const en=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:a}=e;if(a&&Object(Ge.b)({getSessionToken:a}),t&&Object(Ge.b)({userId:t.chatUser.userId}),n){const e=$t.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Ge.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},tn=async e=>{const t=e.appId,n=e.user,a=null===n||void 0===n?void 0:n.authToken;if(Bt()(n,"isSSOAuthorized")){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return $.a})(await Object(Ht.a)(t));Object(Qt.b)(e.chatUserId)&&await Object(Ht.h)(t)}a&&(await Object(Ht.h)(t),await Object(Ht.l)(t,a))};async function nn(e){const{appId:t,user:n,userContext:a,sessionOrigin:r,customUser:i,otp:o,locale:c,meetingId:l}=e,d=Ut()(n,["authToken","isSSOAuthorized","oneTimeToken"]);let b,f;if(!!r){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,a;try{t=await Object(Ht.e)(e)}catch(o){console.warn(o)}try{n=await Object(Ht.b)(e,Wt.a)}catch(o){console.warn(o)}try{a=await Object(Ht.b)(e,Wt.b)}catch(o){console.warn(o)}const r=n||a||t;let i=a||t;return i=i===r?void 0:i,{primaryToken:r,secondaryToken:i}}(t);b=e,f=n}else b=await Object(Ht.e)(t);const p={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:b,secondaryChatToken:f,page:Object(zt.b)(),pageTitle:Object(zt.c)(),referralPage:Object(zt.d)(),timezone:Object(zt.f)(),userAgent:Object(zt.e)(),enforcedLocale:c,fallbackLocales:Object(Jt.a)(),meetingId:l,otp:o,customUser:i};if(!u()(d)){const{id:e,hash:t,...n}=d;Object.assign(p,{chatUser:{userId:e,...n},chatUserSignature:t})}return u()(a)||Object.assign(p,{customContext:a}),p}const an=async e=>Object(Gt.c)(e),rn=async e=>{const t=await Object(Gt.a)(await nn(e));if(!!e.sessionOrigin&&await(async e=>{try{await Object(Ht.i)(e,Wt.d)}catch(t){console.warn(t)}try{await Object(Ht.i)(e,Wt.b)}catch(t){console.warn(t)}})(e.appId),await Object(Ht.l)(e.appId,t.chatSessionToken),!t.userPreferences){const e=await Object(Ht.g)(t.chatUser.userId);return{...t,userPreferences:e}}return t},on=e=>{p.a.on(e),A(C)},cn=async()=>{A(T),j(!1),await Pt(),Object(de.a)({topic:Q.b,payload:{error:!0}})};var sn=n(363),ln=n(1960),un=n(1861),dn=n(1961);const bn=Object(ln.a)("isSSOAuthorized"),fn=Object(ln.a)("authToken"),pn=Object(ln.a)("oneTimeToken");class hn{}hn.isSSOAuthorized=Object(un.a)(bn),hn.getAuthToken=Object(un.a)(fn),hn.hasIsSSOAuthorized=e=>e&&Object(dn.a)("isSSOAuthorized",e),hn.getOneTimeToken=Object(un.a)(pn);var On=n(76),yn=n(595),vn=n.n(yn);function gn(e){const t=Object(ht.a)();t&&t.setUser&&t.setUser({id:e.userId,username:vn()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var jn=n(262),mn=n.n(jn),In=n(377),En=n.n(In),Cn=n(371),Tn=n(263),Sn=n(268),_n=n(1298),An=n(983),xn=n(450),wn=n.n(xn),Nn=n(294),Rn=n(436),Ln=n(429),Pn=n(346),Mn=n(279);const Dn=e=>Object(Pn.c)(Object(Mn.b)(e)),kn=e=>{const t=Object(Rn.a)(),n=Object(Nn.a)(),a=Object(Sn.d)(Dn),r=Object(b.P)(),i=$t.a.getVisibilityConfigFilter(n),{hasPassed:o}=Object(Ln.a)(r?void 0:i,{logOnSuccess:!0,defaultValue:!1}),c=!o&&a;return Object(jn.useEffect)((()=>{o&&Object(h.a)("Sprinklr Chat hidden by visibility criteria"),a||Object(h.a)("Sprinklr Chat disabled by sdk"),j(c),Object(de.a)({topic:Q.c,payload:{data:{isChatVisible:c}}})}),[o,a,c]),Object(jn.useEffect)((()=>((async()=>{await Pt(),Object(de.a)({topic:Q.a,payload:{}}),Object(de.a)({topic:Q.b,payload:{error:!1}})})(),()=>{Object(de.a)({topic:Q.c,payload:{data:{isChatVisible:!1}}})})),[]),wn()((()=>{Pt()}),[t]),c?e.children:null};var Un=mn.a.memo(kn),Fn=n(685),Bn=n(793);const Gn=e=>Object(Tn.jsx)(Bn.a,{history:e.history},Object(Tn.jsx)(Fn.b,null,e.children));var $n=n(472),Vn=n(270),Hn=n(265),Wn=n(333),zn=n(274),qn=n(1018),Kn=n(351),Yn=n(264),Xn=n(421),Zn=n(430),Qn=n(1020),Jn=n(689),ea=n(266),ta=n(267);const na=e=>Object(Tn.css)("fill:",Object(ea.b)("white")({theme:e}),";height:100%;width:100%;"),aa=Object(Yn.a)("div",{target:"e12lx3wm0"})("position:fixed;top:0;left:0;z-index:",(e=>Object(ea.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(ea.f)("frame.translateZ")(e)),"px) !important;height:100%;width:100%;"),ra=Object(Yn.a)(Zn.a,{target:"e12lx3wm1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),ia=e=>Object(Tn.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(Xn.l)(.2,Object(ea.b)("charcoal")({theme:e})),";}"),oa=Object(Yn.a)(Jn.c,{target:"e12lx3wm2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),ca=Object(Yn.a)(Jn.c,{target:"e12lx3wm3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),sa=Object(Yn.a)(Qn.a,{target:"e12lx3wm4"})("margin-top:var(--spr-lc-safe-area-top);",(e=>{let{isPhone:t,direction:n}=e;return t?`${Object(ta.c)("right: calc(20px + var(--spr-lc-safe-area-right))","left: calc(20px + var(--spr-lc-safe-area-left))")({direction:n})};`:`${Object(ta.c)("right: calc(40px + var(--spr-lc-safe-area-right))","left: calc(40px + var(--spr-lc-safe-area-left))")({direction:n})};`}),"");var la=n(271),ua=n(269),da=n(272),ba=n(498);const fa=Object(Hn.g)({preview:{id:"preview",defaultMessage:"Preview"}});var pa=Object(Hn.h)((e=>{let{previewItem:t,intl:n}=e;const a=Object(zn.b)(),r=Object(la.a)(),i=Object(Wn.a)(),o=!!t&&t.type!==ba.a.DIALOGUE,{direction:c}=Object(ua.a)(),s=Object(jn.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),i.goBack()}),[i]);return Object(Tn.jsx)(aa,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(Tn.jsx)(ra,{name:"spr-chat__modal-frame","aria-label":n.formatMessage(fa.preview),title:n.formatMessage(fa.preview)},Object(Tn.jsx)(Tn.Global,{styles:ia(a)}),Object(Tn.jsx)(jn.Suspense,{fallback:Object(Tn.jsx)(oa,null,Object(Tn.jsx)(ca,{className:"center-x center-y"}))},Object(Tn.jsx)(qn.a,{previewItem:t})),o&&Object(Tn.jsx)(sa,{Icon:Kn.a,iconCss:na(a),iconName:da.b.CLOSE,"aria-label":da.b.CLOSE,direction:c,isPhone:r,onClick:s})))}));var ha=e=>{if(!e.search.includes("preview=1"))return null;const t=s()(e.state,"sprPreview.type");switch(t){case ba.a.DIALOGUE:return{type:t,message:s()(e.state,"sprPreview.message"),title:s()(e.state,"sprPreview.title"),cancelLabel:s()(e.state,"sprPreview.cancelLabel"),confirmationLabel:s()(e.state,"sprPreview.confirmationLabel"),onConfirm:s()(e.state,"sprPreview.onConfirm"),onCancel:s()(e.state,"sprPreview.onCancel")};case ba.a.IMAGE:case ba.a.VIDEO:return{type:t,url:s()(e.state,"sprPreview.url"),downloadParams:s()(e.state,"sprPreview.downloadParams")};default:return null}};var Oa=()=>{const e=Object(Wn.a)().location,t=Object(jn.useMemo)((()=>ha(e)),[e.search,e.state]);return t?Object(Tn.jsx)(pa,{previewItem:t}):null},ya=n(280);const va=()=>n.e(19).then(n.bind(null,1936)),ga=e=>n(1461)(`./${e.toLowerCase()}/pages`),ja=Object(ya.a)(va);ja.preload=e=>Promise.all([ga(e),va()]);var ma=ja;const Ia=Object(Yn.a)("div",{target:"eh59bmw0"})("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var Ea=n(691),Ca=n(1022),Ta=n(284);var Sa=()=>Object(Tn.jsx)(Ea.b,{className:"flex-column-container full-height"},Object(Tn.jsx)(Ca.a,null),Object(Tn.jsx)("div",{className:"flex-item-1 p-x-4 p-y-4 p-t-6"},Object(Tn.jsx)(Ea.a,{className:"full-height"},Object(Tn.jsx)(Ta.c,{className:"flex-row-container center-x-y full-height"})))),_a=n(692);var Aa=()=>Object(Tn.jsx)("div",{className:"flex-column-container full-height"},Object(Tn.jsx)(_a.c,null,Object(Tn.jsx)(_a.b,null)),Object(Tn.jsx)("div",{className:"flex-item-1 spr"},Object(Tn.jsx)(Ta.c,{className:"flex-row-container center-x-y full-height"}))),xa=n(798),wa=n(454),Na=n(387);var Ra=()=>{const e=Object(Na.a)().isDarkMode;return Object(Tn.jsx)("div",{className:"flex-column-container full-height"},Object(Tn.jsx)(wa.b,null,Object(Tn.jsx)(wa.a,null)),Object(Tn.jsx)(xa.a,{isDarkMode:e,className:"flex-item-1 spr"},Object(Tn.jsx)(Ta.c,{className:"flex-row-container center-x-y full-height"})))};var La=()=>{const e=Object(b.z)()===Nt.b,t=Object(Wn.a)(),{location:{pathname:n}}=t;return"/home"===n&&!Object(b.F)()?e?Object(Tn.jsx)(Aa,null):Object(Tn.jsx)(Sa,null):Object(Tn.jsx)(Ra,null)},Pa=n(548);var Ma=()=>{const e=Object(Pa.a)(),[t,n]=Object(jn.useState)();return Object(jn.useLayoutEffect)((()=>{ma.preload(e).then((e=>{let[t]=e;n(t)}))}),[]),Object(Tn.jsx)(Ia,{className:"flex-column-container full-height full-width spr ovf-hidden"},t?Object(Tn.jsx)(jn.Suspense,{fallback:null},Object(Tn.jsx)(ma,{pages:t})):Object(Tn.jsx)(La,null))},Da=n(277),ka=n(600),Ua=n.n(ka),Fa=n(379),Ba=n(800),Ga=n(1023),$a=n(801),Va=n(281),Ha=n(431),Wa=n(317),za=n(289);const qa=e=>Object(Ha.d)(Object(Va.b)(e)),Ka=e=>Object(Ha.f)(Object(Va.b)(e)),Ya=e=>Object(Pn.g)(Object(Mn.b)(e)),Xa=e=>Object(Ha.r)(Object(Va.b)(e)),Za=e=>Object(Ha.i)(Object(Va.b)(e)),Qa=e=>{const t=Object(la.a)(),n=Object(Sn.d)(Ka),a=Object(Sn.d)(qa),r=Object(Sn.d)(Xa),i=Object(Sn.d)(Ya),o=Object(Da.a)(za.g),c=Object(Sn.d)(Za),s=Object(Fa.a)(),l=n.state,d=a.state,b=Ua()(l),f=Ua()(d);return Object(jn.useEffect)((()=>{i&&(t&&l&&l!==b||d===Wa.f.WAITING)&&o(!1)}),[i,l,b,o,d,f]),Object(jn.useEffect)((()=>{const e=()=>{s.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[s]),u()(n)&&(r||u()(a))||t&&i&&!c?null:Object(Tn.jsx)(jn.Suspense,{fallback:null},Object(Tn.jsx)(Ba.a,Object(Vn.a)({},e,{outgoingCallDetails:n,incomingCallDetails:a})))},Ja=e=>Object(Ha.c)(Object(Va.b)(e)),er=e=>Object(Ha.n)(Object(Va.b)(e)),tr=e=>{const t=Object(Sn.d)(Ja),n=Object(Sn.d)(er);return Object(Tn.jsx)($a.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(Tn.jsx)(Ga.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(Tn.jsx)(Qa,e)))};var nr=mn.a.memo(tr),ar=n(1294),rr=n(802),ir=n(605),or=n(304),cr=n(803);const sr=Object(ya.a)((()=>Promise.all([n.e(0),n.e(22)]).then(n.bind(null,1932)))),lr={endCobrowseSession:ir.c,resumeCobrowseSession:ir.n,markCobrowseSessionFailed:ir.e};var ur=()=>{const e=Object(Sn.d)(Mn.f),t=Object(jn.useMemo)((()=>t=>Object(or.g)(Object(Va.h)(t),e.agentId)),[e.agentId]),n=Object(Sn.d)(t),{endCobrowseSession:a,resumeCobrowseSession:r,markCobrowseSessionFailed:i}=Object(Da.a)(lr),o=!function(e){const t=Object(jn.useRef)();return Object(jn.useEffect)((()=>{t.current=e}),[e]),t.current}(Object(Rn.a)()),c=Object(jn.useCallback)((()=>{a({messageId:e.messageId})}),[e.messageId]),{appId:s}=Object(jn.useMemo)((()=>Object(d.a)()),[]);return Object(jn.useEffect)((()=>{if(!o)return;(async()=>{const e=await rr.a.get(s);try{if(e){const{conversationId:t,messageId:n,agentId:a}=e;r({state:{conversationId:t,messageId:n,agentId:a}})}}catch{i({reason:cr.a.RESUME_SESSION_FAILED})}})()}),[r,s,o]),u()(e)?null:Object(Tn.jsx)(jn.Suspense,{fallback:Object(Tn.jsx)(ar.a,{sessionState:e.sessionState,onStopSession:c,brandUser:n})},Object(Tn.jsx)(sr,{cobrowseState:e}))};const dr=Object(ya.a)((()=>Promise.all([n.e(0),n.e(120)]).then(n.bind(null,1950))));var br=()=>{const e=Object(Nn.a)();return null!==e&&void 0!==e&&e.autoExpireUserSessionTimeInMinutes?Object(Tn.jsx)(jn.Suspense,{fallback:null},Object(Tn.jsx)(dr,null)):null},fr=n(300),pr=n.n(fr),hr=n(404),Or=n.n(hr),yr=n(340),vr=n(499),gr=n(275),jr=n(471);const mr=mn.a.createContext(null),Ir=(e,t)=>{if(!e)return null;const{width:n,height:a,left:r,top:i}=e.getBoundingClientRect();return{width:n,height:a,left:r,right:t.innerWidth-r-n,bottom:t.innerHeight-i-a}},Er=e=>{var t;let{children:n}=e;const a=window.parent,r=!(null===(t=Object(gr.a)().trigger)||void 0===t||!t.useCustomTrigger),i=Object(d.a)().triggerContainer,o=Object(jn.useRef)(!0),c=Object(jr.a)(),s=Object(jn.useMemo)((()=>r&&i?a.document.querySelector(i):null),[i]),[l,u]=Object(jn.useState)((()=>Ir(s,a))),b=Object(jn.useCallback)(Or()((()=>{u((()=>Ir(s,a)))}),200),[]),f=Object(yr.a)(a,b),p=Object(vr.a)(a,b);return o.current&&(o.current=!1,s&&(f(s),p(s))),Object(jn.useLayoutEffect)((()=>{s&&b()}),[c]),r&&!s?(Object(h.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null):Object(Tn.jsx)(mr.Provider,{value:l},n)},Cr=()=>Object(jn.useContext)(mr);var Tr=n(286);const Sr=Object(ya.a)((()=>Promise.all([n.e(0),n.e(52)]).then(n.bind(null,1933)))),_r=e=>Object(Pn.f)(Object(Mn.b)(e)),Ar=e=>Object(Tr.b)(Object(Tr.q)(Object(Va.c)(e)));var xr=e=>{var t;const n=Object(Sn.d)(Mn.d),a=Object(Sn.d)(_r),r=Object(Sn.d)(Ar),i=Object(gr.a)(),o=Cr(),c=!(null===i||void 0===i||null===(t=i.proactivePrompt)||void 0===t||!t.showWithBoxOpen),s=Object(jn.useRef)();s.current=Object(jn.useMemo)((()=>pr()(n)),[n]);const l=a&&!o&&!c;return u()(s.current)||l||!r?null:Object(Tn.jsx)(jn.Suspense,{fallback:null},Object(Tn.jsx)(Sr,Object(Vn.a)({},e,{visiblePrompt:s.current,customTriggerPosition:o,showWithBoxOpen:c})))},wr=n(541);const Nr=Object(Yn.a)(Zn.a,{target:"eyl7zqk0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Rr=Object(Yn.a)("div",{target:"eyl7zqk1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(ea.f)("page.gradients"),";background-color:",Object(ea.f)("page.backgroundColor"),";"),Lr=Object(Yn.a)("div",{target:"eyl7zqk2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(ea.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(ea.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(ea.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:",(e=>Object(ea.f)("frame.boxShadow")(e)),";overflow:hidden;background-color:var(--spr-lc-d-15);",(e=>!e.isPhone&&!Object(wr.a)()&&`max-width: ${Object(ea.f)("page.maxWidth")(e)};\n    max-height: ${Object(ea.f)("page.maxHeight")(e)};`),""),Pr={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var Mr=n(305),Dr=n(549),kr=n(455);const Ur=["/conversation/"],Fr={survey:kr.a.SURVEY,401:kr.a[401],home:kr.a.HOME,"guided-workflow":kr.a.GUIDED_WORKFLOW,logout:kr.a.LOGOUT},Br=e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?kr.a.KNOWLEDGE_BASE:kr.a.KNOWLEDGE_BASE_LIST);break;case"conversation":n.length>3&&"survey"===n[3]?t=kr.a.SURVEY:n.length>2&&(t="all"===n[2]?kr.a.CONVERSATION_LIST:kr.a.CONVERSATION);break;default:t=Fr[n[1]]}return t};var Gr=n(328);const $r=()=>{var e;const t=Object(Mr.a)(),n=Object(Wn.a)(),a=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,r=null===n||void 0===n?void 0:n.action,i=Object(jn.useMemo)((()=>Br(a)),[a]);Object(jn.useEffect)((()=>{i&&((e,t)=>!("REPLACE"===t&&Ur.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(a,r)&&t({action:Gr.a.PAGE_OPENED,additional:{value:i}})}),[i,a])};var Vr=n(283);const Hr=e=>{const t=Object(la.a)(),n=Object(Mr.a)();return $r(),Object(jn.useEffect)((()=>(n({action:Gr.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:Gr.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(Tn.jsx)(Rr,null,Object(Tn.jsx)(Lr,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(Tn.jsx)(Ma,null)))};var Wr=Object(Hn.h)((e=>{var t,n,a;const r=Object(Nn.a)(),i=Object(jn.useRef)(),o=e.intl.formatMessage,c=Object(Dr.a)(),s=Object(Da.a)(Cn.e),l=!(null===(t=r.otherConfigs.trigger)||void 0===t||!t.useCustomTrigger),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(Tn.css)("html,body{height:100%;}body{margin:0;}",e,"")}(null===(n=r.otherConfigs)||void 0===n||null===(a=n.settings)||void 0===a?void 0:a.pageGlobalStyles),d=Object(jn.useCallback)((()=>{c(i),s()}),[c,s]);return Object(Tn.jsx)(mn.a.Fragment,null,Object(Tn.jsx)(Tn.Global,{styles:u}),Object(Tn.jsx)(Nr,{"aria-label":o(Vr.a.liveChat),name:"spr-chat__page-frame",contentDidMount:d,title:o(Vr.a.liveChat)},Object(Tn.jsx)(Tn.Global,{styles:Pr}),Object(Tn.jsx)(br,null),Object(Tn.jsx)(Hr,Object(Vn.a)({},e,{pageBoxRef:i}))),l?Object(Tn.jsx)(Er,null,Object(Tn.jsx)(xr,null)):null,Object(Tn.jsx)(nr,{parentFrameRef:i}),Object(Tn.jsx)(ur,null),Object(Tn.jsx)(Oa,null))})),zr=n(500),qr=n(550),Kr=n(474),Yr=n.n(Kr),Xr=n(334),Zr=n(1025);const Qr=Object(Yn.a)("div",{target:"emlrnqp0"})("transition:width ",Zr.a,"ms ease,max-height ",Zr.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(e=>Object(ea.f)("frame.zIndex")(e)),";padding:",(e=>Object(ea.h)("frame.margin")(e)),";transform:",(e=>`translateZ(${Object(ea.f)("frame.translateZ")(e)}px)`),";",(e=>(e=>{const t=Object(Xr.b)(Object(ea.f)("frame.marginTop")({theme:e})),n=Object(Xr.b)(Object(ea.f)("frame.marginBottom")({theme:e})),a=Object(Xr.b)(Object(ea.f)("frame.marginLeft")({theme:e})),r=Object(Xr.b)(Object(ea.f)("frame.marginRight")({theme:e}));return Yr()([t,n,a,r],(e=>e>0))})(e.theme)&&`background-color: ${Object(Xn.j)(Object(ea.f)("frame.overlay.opacity")(e),Object(ea.f)("frame.overlay.backgroundColour")(e))};`),";"),Jr=Object(Yn.a)(Qr,{target:"emlrnqp1"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r}=e;return Object(Zr.c)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r})}),""),ei=Object(Yn.a)(Qr,{target:"emlrnqp2"})((e=>{let{isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,customTriggerPosition:i}=e;return Object(Zr.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:a,isPhone:r,customTriggerPosition:i})}),""),ti=Object(Yn.a)("div",{target:"emlrnqp3"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:",(e=>Object(ea.f)("frame.boxShadow")(e)),";border-radius:",(e=>Object(ea.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(Xr.b)(Object(ea.f)("frame.marginTop")(e))>0?Object(ea.f)("frame.borderRadius")(e):0,n=Object(Xr.b)(Object(ea.f)("frame.marginBottom")(e))>0?Object(ea.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),ni="spr-chat-box-anim",ai=Object(Yn.a)(Zn.a,{target:"emlrnqp4"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),ri={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var ii=n(1033),oi=n(350);const ci=e=>Object(Pn.g)(Object(Mn.b)(e)),si=Object(Hn.h)((e=>{var t;const n=Object(Sn.d)(ci),a=e.intl.formatMessage,r=Object(gr.a)(),i=!(null===r||void 0===r||null===(t=r.trigger)||void 0===t||!t.hideWhenOpen),o=Object(Mr.a)(),c=Object(la.a)(),s=Object(jn.useRef)(null),l=Object(Dr.a)(),u=Object(Da.a)(Cn.e),[d,b]=Object(jn.useState)(!1),f=Object(zn.b)(),p=Object(Sn.d)(Va.h),h=Object(or.d)(p);$r();const O=Object(jn.useCallback)((e=>{b(e)}),[]),y=Cr(),v=y?ei:Jr;wn()((()=>{const e=n?oi.a.CONVERSATION_WINDOW_CLOSED:oi.a.CONVERSATION_WINDOW_OPENED;o({action:e})}),[n]);const g=Object(jn.useCallback)((()=>{l(s),u()}),[l]);wn()((()=>{u()}),[h]);const j=Object(jn.useMemo)((()=>({setIsFrameMaximized:O,isFrameMaximized:d})),[O,d]),m=(I={theme:f},Object(Tn.css)(`\n  .spr-chat__box.spr-chat-box-anim-enter {\n    opacity: 0;\n    transform: translateZ(${Object(ea.f)("frame.translateZ")(I)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter.spr-chat-box-anim-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(ea.f)("frame.translateZ")(I)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-enter-done {\n    transform: translateZ(${Object(ea.f)("frame.translateZ")(I)}px) ;\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit {\n    opacity: 1;\n    transform: translateZ(${Object(ea.f)("frame.translateZ")(I)}px) translateY(0);\n  }\n\n  .spr-chat__box.spr-chat-box-anim-exit.spr-chat-box-anim-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(ea.f)("frame.translateZ")(I)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""));var I;return Object(Tn.jsx)(mn.a.Fragment,null,Object(Tn.jsx)(Tn.Global,{styles:m}),Object(Tn.jsx)(qr.CSSTransition,{in:!n,classNames:ni,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Tn.jsx)(ii.a.Provider,{value:j},Object(Tn.jsx)(v,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:c,customTriggerPosition:y,isTriggerHiddenWhenMaximised:i,isMaximized:d},Object(Tn.jsx)(ti,{isPhone:c},Object(Tn.jsx)(ai,{"aria-label":a(Vr.a.liveChat),name:"spr-chat__box-frame",isPhone:c,contentDidMount:g,title:a(Vr.a.liveChat)},Object(Tn.jsx)(Tn.Global,{styles:ri}),Object(Tn.jsx)("div",{className:"full-height full-width",ref:s},Object(Tn.jsx)(br,null),Object(Tn.jsx)(Ma,null))))))))}));var li=mn.a.forwardRef(((e,t)=>Object(Tn.jsx)(si,{frameRef:t}))),ui=n(918);var di=()=>{const e=Object(jn.useRef)(null);return Object(Tn.jsx)(Er,null,Object(Tn.jsx)(xr,{chatBoxFrameRef:e}),Object(Tn.jsx)(ui.a,null),Object(Tn.jsx)(li,{ref:e}),Object(Tn.jsx)(nr,{parentFrameRef:e}),Object(Tn.jsx)(ur,null),Object(Tn.jsx)(Oa,null))},bi=n(583),fi=n(530),pi=n(1017);const hi=e=>{const t=Object(jn.useState)(null);return Object(Tn.jsx)(pi.a.Provider,{value:t},e.children)};var Oi=n(372),yi=n(1010),vi=n(747),gi=n(1013),ji=n(657);const mi=mn.a.createContext("MODERN");var Ii=e=>Object(Tn.jsx)(mi.Provider,{value:e.skin},e.children),Ei=n(1026),Ci=n(1027),Ti=n(16),Si=n.n(Ti);const _i=e=>{let{isDarkMode:t,theme:n,targetDocument:a,container:r,children:i}=e;const{targetElement:o,cssVariables:c}=Object(jn.useMemo)((()=>{const e=a&&r?a.querySelector(r):null,i=Si()(t?n.tokens.dark:Ut()(n.tokens,"dark"),((e,t,n)=>`${e}${n}:${t};`),"");let o;return o=e?t?`.spr-lc-dark{${i}}`:`.spr-lc-light{${i}}`:`:root {${i}}`,{targetElement:e,cssVariables:o}}),[n.tokens,t,a,r]);return Object(jn.useLayoutEffect)((()=>{o&&function(e,t){t?e.classList.contains("spr-lc-dark")||(e.classList.add("spr-lc-dark"),e.classList.remove("spr-lc-light")):e.classList.contains("spr-lc-light")||(e.classList.add("spr-lc-light"),e.classList.remove("spr-lc-dark"))}(o,t)}),[o,t]),Object(Tn.jsx)(mn.a.Fragment,null,Object(Tn.jsx)(Tn.Global,{styles:Object(Tn.css)(c,"","")}),i)};var Ai=n(919);var xi=e=>{let{theme:t,isDarkMode:n,targetDocument:a,container:r,skipAutoGenerate:i,children:o}=e;const c=Object(jn.useContext)(mi),s=Object(jn.useMemo)((()=>{if(i)return t;const e=Object(Ai.a)({appColors:t.colors,appTypography:t.typography,appIcons:t.icons,appTokens:t.tokens});return Object(Ai.c)({appBase:e,styles:t.styles,skin:c})}),[t,c,i]);return Object(Tn.jsx)(zn.a,{theme:s},Object(Tn.jsx)(_i,{isDarkMode:n,targetDocument:a,container:r,theme:s},o))};function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wi.apply(this,arguments)}const Ni={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},Ri=e=>{let{direction:t,device:n,skin:a,ownerDocument:r,intl:i,children:o,themeConfig:c}=e;const s=Object(jn.useMemo)((()=>{return e=r,Object(ji.a)({container:e.head});var e}),[r]);return Object(Tn.jsx)(Tn.CacheProvider,{value:s},Object(Tn.jsx)(Hn.e,i,Object(Tn.jsx)(Ii,{skin:a},Object(Tn.jsx)(xi,wi({},c,{targetDocument:r}),Object(Tn.jsx)(Ci.b,{direction:t},Object(Tn.jsx)(Ei.b,{device:n},o))))))};Ri.defaultProps=Ni;var Li=Ri,Pi=n(79),Mi=n.n(Pi),Di=n(68),ki=n.n(Di),Ui=n(1474),Fi=n.n(Ui),Bi=n(1e3),Gi=n.n(Bi),$i=n(493),Vi=n.n($i),Hi=n(67),Wi=n.n(Hi),zi=n(403),qi=n(478);const Ki=e=>e?Si()(e,((e,t,n)=>"filters"===n?(e[n]=Wi()(t,(e=>(null!==e&&void 0!==e&&e.filter&&(e.filter=Object(zi.a)(e.filter)),e))),e):(e[n]=Ki(t),e)),e):e,Yi=(e,t)=>{const n=[];return ki()(e,((e,a)=>{"filters"===a?ki()(e,(e=>{let{filter:a,value:r}=e;u()(a)||u()(r)||n.push({field:a.field,filterType:a.fieldType||a.filterType,filters:a.filters,values:a.values,details:{...a.details,path:t,value:r}})})):n.push(...Yi(e,t?`${t}.${a}`:a))})),n},Xi=e=>{let{triggerAlign:t,frameAlign:n}=e;if(t===qi.f.LEFT)switch(n){case qi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return qi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case qi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return qi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case qi.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return qi.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;default:return n||qi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case qi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return qi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case qi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return qi.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case qi.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return qi.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;default:return n||qi.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},Zi=e=>{let{framePath:t,passedStyleFilters:n}=e,a=!1,r=!1;return ki()(n,(e=>{var n,i,o,c,s,l,u,d,b,f;(null!==(n=e.value)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.align||(null===(o=e.details)||void 0===o?void 0:o.path)===t&&null!==(c=e.details)&&void 0!==c&&null!==(s=c.value)&&void 0!==s&&s.align)&&(r=!0),(null!==(l=e.value)&&void 0!==l&&null!==(u=l.trigger)&&void 0!==u&&u.align||"trigger"===(null===(d=e.details)||void 0===d?void 0:d.path)&&null!==(b=e.details)&&void 0!==b&&null!==(f=b.value)&&void 0!==f&&f.align)&&(a=!0)})),a&&!r},Qi=e=>{let{styles:t,passedStyleFilters:n}=e;if(!Zi({framePath:"frame",passedStyleFilters:n}))return{styles:t,passedStyleFilters:n};const a=Xi({triggerAlign:Object(ea.f)("trigger.align",qi.f.RIGHT)({theme:{styles:t}}),frameAlign:Object(ea.f)("frame.align")({theme:{styles:t}})});return{styles:{...t,frame:{...(null===t||void 0===t?void 0:t.frame)||$.a,align:a}},passedStyleFilters:n}},Ji=e=>{var t;let{styles:n,passedStyleFilters:a}=e;if(!!(null===(t=n.proactivePrompt)||void 0===t||!t.align)||!Zi({framePath:"proactivePrompt",passedStyleFilters:a}))return{styles:n,passedStyleFilters:a};const r=Xi({triggerAlign:Object(ea.f)("trigger.align",qi.f.RIGHT)({theme:{styles:n}}),frameAlign:Object(ea.f)("proactivePrompt.align")({theme:{styles:n}})});return{styles:{...n,proactivePrompt:{...n.proactivePrompt,align:r}},passedStyleFilters:a}};var eo=e=>{let{children:t}=e;const n=Object(Nn.a)(),a=Object(Pa.a)(),r=Object(jn.useMemo)((()=>Mi()(n.otherConfigs.theme,Object(d.a)().theme)),[Object(d.a)().theme]),{appBase:i,appStyleFilters:o}=Object(jn.useMemo)((()=>{const e=Object(Ai.a)({appColors:r.colors,appTypography:r.typography,appIcons:r.icons,appTokens:r.tokens});return{appBase:e,appStyleFilters:Object(Ai.b)({appBase:e,legacyStyleFilters:Ki(n.otherConfigs.theme.styleFilters),modernStyleFilters:n.configFilters,skin:a})}}),[r,a]),c=Object(jn.useMemo)((()=>o?se()(o)?o.map((e=>e.filter)):Yi(o,""):[]),[o]),l=Object(Ln.a)(c),u=Object(jn.useMemo)((()=>{const e=(se()(o)?o:c).filter(((e,t)=>l[t].hasPassed));let t=(e=>{var t;let{styles:n,passedStyleFilters:a}=e;const r=Fi()(n);return null!==(t=a[0])&&void 0!==t&&t.value?Si()(a,((e,t)=>{let{value:n}=t;return Mi()(e,n)}),r):(ki()(a,(e=>{e.details&&Gi()(r,e.details.path,{...s()(r,e.details.path),...e.details.value})})),r)})({styles:r.styles,passedStyleFilters:e});return t=(e=>{let{styles:t,passedStyleFilters:n}=e;return Vi()([Qi,Ji])({styles:t,passedStyleFilters:n}).styles})({styles:t,passedStyleFilters:e}),Object(Ai.c)({appBase:i,styles:t,skin:a})}),[r,c,l,a]);return Object(Tn.jsx)(zn.a,{theme:u},t)};const to=Object(Hn.h)((e=>{let{intl:t,children:n}=e;const a=Object(Na.a)(),r=Object(ua.a)(),i=Object(Pa.a)(),o=Object(zn.b)(),c=Object(jn.useMemo)((()=>({locale:t.locale,messages:t.messages,defaultLocale:t.defaultLocale})),[t]),s=Object(jn.useMemo)((()=>({theme:o,isDarkMode:a.isDarkMode,skipAutoGenerate:!0,container:"#spr-live-chat-app"})),[o,a.isDarkMode]);return Object(Tn.jsx)(Li,{ownerDocument:Object(d.b)().document,direction:r.direction,device:a.device,skin:i,intl:c,themeConfig:s},n)})),no=e=>{let{children:t}=e;return Object(Tn.jsx)(eo,null,Object(Tn.jsx)(to,null,t))};var ao=mn.a.memo(no),ro=n(688);const io=e=>{let{id:t,filters:n,cb:a}=e;const r=Object(Ln.a)(n);return Object(jn.useEffect)((()=>{a({data:{id:t,filters:n,results:se()(r)?Wi()(r,(e=>({passed:e.hasPassed}))):{passed:r.hasPassed}}})}),[r,n,a]),null},oo=e=>Object(Pn.b)(Object(Mn.b)(e)),co=mn.a.memo((e=>{const t=Object(Sn.d)(oo);return Object(Tn.jsx)(mn.a.Fragment,null,Wi()(t,((e,t)=>{let{filters:n,cb:a}=e;return Object(Tn.jsx)(io,{key:t,id:t,filters:n,cb:a})})),e.children)}));var so=n(1036),lo=n(547);var uo=function(e){let{applicationConfig:t,store:n,history:a}=e;const r=Object(d.b)(),i=Object(b.P)()?Wr:di,o=Object(jn.useCallback)((e=>Object(or.f)(Object(Mn.g)(n.getState()),e)),[]),c=Object(jn.useMemo)((()=>Object(lo.a)(r.document)),[r.document]);return Object(jn.useEffect)((()=>{n.dispatch(Object(Cn.d)())}),[n]),Object(Tn.jsx)(Tn.CacheProvider,{value:c},Object(Tn.jsx)(vi.a,{window:r},Object(Tn.jsx)(Sn.a,{store:n},Object(Tn.jsx)($n.c.Provider,{value:t},Object(Tn.jsx)(hi,null,Object(Tn.jsx)(An.b,null,Object(Tn.jsx)(bi.a,null,Object(Tn.jsx)(ro.b,null,Object(Tn.jsx)(Gn,{history:a},Object(Tn.jsx)(Oi.b,null,Object(Tn.jsx)(fi.b,null,Object(Tn.jsx)(yi.a,null,Object(Tn.jsx)(gi.b,{history:a},Object(Tn.jsx)(co,null,Object(Tn.jsx)(so.b,null,Object(Tn.jsx)(Un,null,Object(Tn.jsx)(ao,null,Object(Tn.jsx)(zr.b.Provider,{value:o},Object(Tn.jsx)(_n.b,null,Object(Tn.jsx)(i,null))))))))))))))))))))},bo=n(414),fo=function(e){return"@@redux-saga/"+e},po=fo("CANCEL_PROMISE"),ho=fo("CHANNEL_END"),Oo=fo("IO"),yo=fo("MATCH"),vo=fo("MULTICAST"),go=fo("SAGA_ACTION"),jo=fo("SELF_CANCELLATION"),mo=fo("TASK"),Io=fo("TASK_CANCEL"),Eo=fo("TERMINATE"),Co=fo("LOCATION"),To=n(419),So=n(540),_o=function(e){return null===e||void 0===e},Ao=function(e){return null!==e&&void 0!==e},xo=function(e){return"function"===typeof e},wo=function(e){return"string"===typeof e},No=Array.isArray,Ro=function(e){return e&&xo(e.then)},Lo=function(e){return e&&xo(e.next)&&xo(e.throw)},Po=function e(t){return t&&(wo(t)||ko(t)||xo(t)||No(t)&&t.every(e))},Mo=function(e){return e&&xo(e.take)&&xo(e.close)},Do=function(e){return xo(e)&&e.hasOwnProperty("toString")},ko=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var Uo=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(a){n=setTimeout(a,e,t)}));return a[po]=function(){clearTimeout(n)},a},Fo=function(e){return function(){return e}}(!0),Bo=function(){};var Go=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var $o=function(e,t){Object(To.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Vo(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Ho(e){var t=!1;return function(){t||(t=!0,e())}}var Wo=function(e){throw e},zo=function(e){return{value:e,done:!0}};function qo(e,t,n){void 0===t&&(t=Wo),void 0===n&&(n="iterator");var a={meta:{name:n},next:e,throw:t,return:zo,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(a[Symbol.iterator]=function(){return a}),a}function Ko(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Yo=function(e){return Array.apply(null,new Array(e))},Xo=function(e){return function(t){return e(Object.defineProperty(t,go,{value:!0}))}},Zo=function(e){return e===Eo},Qo=function(e){return e===Io},Jo=function(e){return Zo(e)||Qo(e)};function ec(e,t){var n=Object.keys(e),a=n.length;var r,i=0,o=No(e)?Yo(a):{},c={};return n.forEach((function(e){var n=function(n,c){r||(c||Jo(n)?(t.cancel(),t(n,c)):(o[e]=n,++i===a&&(r=!0,t(o))))};n.cancel=Bo,c[e]=n})),t.cancel=function(){r||(r=!0,n.forEach((function(e){return c[e].cancel()})))},c}function tc(e){return{name:e.name||"anonymous",location:nc(e)}}function nc(e){return e[Co]}var ac={isEmpty:Fo,put:Bo,take:Bo};function rc(e,t){void 0===e&&(e=10);var n=new Array(e),a=0,r=0,i=0,o=function(t){n[r]=t,r=(r+1)%e,a++},c=function(){if(0!=a){var t=n[i];return n[i]=null,a--,i=(i+1)%e,t}},s=function(){for(var e=[];a;)e.push(c());return e};return{isEmpty:function(){return 0==a},put:function(c){var l;if(a<e)o(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[r]=c,i=r=(r+1)%e;break;case 4:l=2*e,n=s(),a=n.length,r=n.length,i=0,n.length=l,e=l,o(c)}},take:c,flush:s}}var ic=function(){return ac},oc=function(e){return rc(e,3)},cc=function(e){return rc(e,4)},sc=Object.freeze({__proto__:null,none:ic,fixed:function(e){return rc(e,1)},dropping:function(e){return rc(e,2)},sliding:oc,expanding:cc}),lc="TAKE",uc="PUT",dc="ALL",bc="RACE",fc="CALL",pc="FORK",hc="CANCEL",Oc="SELECT",yc="ACTION_CHANNEL",vc="CANCELLED",gc=function(e,t){var n;return(n={})[Oo]=!0,n.combinator=!1,n.type=e,n.payload=t,n},jc=function(e){return gc(pc,Object(To.a)({},e.payload,{detached:!0}))};function mc(e,t){return void 0===e&&(e="*"),Po(e)?gc(lc,{pattern:e}):Mo(n=e)&&n[vo]&&Ao(t)&&Po(t)?gc(lc,{channel:e,pattern:t}):Mo(e)?gc(lc,{channel:e}):void 0;var n}function Ic(e,t){return _o(t)&&(t=e,e=void 0),gc(uc,{channel:e,action:t})}function Ec(e){var t=gc(dc,e);return t.combinator=!0,t}function Cc(e){var t=gc(bc,e);return t.combinator=!0,t}function Tc(e,t){var n,a=null;return xo(e)?n=e:(No(e)?(a=e[0],n=e[1]):(a=e.context,n=e.fn),a&&wo(n)&&xo(a[n])&&(n=a[n])),{context:a,fn:n,args:t}}function Sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return gc(fc,Tc(e,n))}function _c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return gc(pc,Tc(e,n))}function Ac(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return jc(_c.apply(void 0,[e].concat(n)))}function xc(e){return void 0===e&&(e=jo),gc(hc,e)}function wc(e){void 0===e&&(e=Go);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return gc(Oc,{selector:e,args:n})}function Nc(e,t){return gc(yc,{pattern:e,buffer:t})}var Rc=Sc.bind(null,Uo);function Lc(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Pc=Lc,Mc=[],Dc=0;function kc(e){try{Bc(),e()}finally{Gc()}}function Uc(e){Mc.push(e),Dc||(Bc(),$c())}function Fc(e){try{return Bc(),e()}finally{$c()}}function Bc(){Dc++}function Gc(){Dc--}function $c(){var e;for(Gc();!Dc&&void 0!==(e=Mc.shift());)kc(e)}var Vc=function(e){return function(t){return e.some((function(e){return Kc(e)(t)}))}},Hc=function(e){return function(t){return e(t)}},Wc=function(e){return function(t){return t.type===String(e)}},zc=function(e){return function(t){return t.type===e}},qc=function(){return Fo};function Kc(e){var t="*"===e?qc:wo(e)?Wc:No(e)?Vc:Do(e)?Wc:xo(e)?Hc:ko(e)?zc:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Yc={type:ho},Xc=function(e){return e&&e.type===ho};function Zc(e){void 0===e&&(e=cc());var t=!1,n=[];return{take:function(a){t&&e.isEmpty()?a(Yc):e.isEmpty()?(n.push(a),a.cancel=function(){Vo(n,a)}):a(e.take())},put:function(a){if(!t){if(0===n.length)return e.put(a);n.shift()(a)}},flush:function(n){t&&e.isEmpty()?n(Yc):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var a=0,r=e.length;a<r;a++){(0,e[a])(Yc)}}}}}function Qc(e,t){void 0===t&&(t=ic());var n,a=!1,r=Zc(t),i=function(){a||(a=!0,xo(n)&&n(),r.close())};return n=Ho(n=e((function(e){Xc(e)?i():r.put(e)}))),a&&n(),{take:r.take,flush:r.flush,close:i}}function Jc(){var e=function(){var e,t=!1,n=[],a=n,r=function(){a===n&&(a=n.slice())},i=function(){t=!0;var e=n=a;a=[],e.forEach((function(e){e(Yc)}))};return(e={})[vo]=!0,e.put=function(e){if(!t)if(Xc(e))i();else for(var r=n=a,o=0,c=r.length;o<c;o++){var s=r[o];s[yo](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=qc),t?e(Yc):(e[yo]=n,r(),a.push(e),e.cancel=Ho((function(){r(),Vo(a,e)})))},e.close=i,e}(),t=e.put;return e.put=function(e){e[go]?t(e):Uc((function(){t(e)}))},e}function es(e,t){var n=e[po];xo(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var ts,ns=0,as=function(){return++ns};function rs(e){e.isRunning()&&e.cancel()}var is=((ts={}).TAKE=function(e,t,n){var a=t.channel,r=void 0===a?e.channel:a,i=t.pattern,o=t.maybe,c=function(e){e instanceof Error?n(e,!0):!Xc(e)||o?n(e):n(Eo)};try{r.take(c,Ao(i)?Kc(i):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},ts.PUT=function(e,t,n){var a=t.channel,r=t.action,i=t.resolve;Uc((function(){var t;try{t=(a?a.put:e.dispatch)(r)}catch(o){return void n(o,!0)}i&&Ro(t)?es(t,n):n(t)}))},ts.ALL=function(e,t,n,a){var r=a.digestEffect,i=ns,o=Object.keys(t);if(0!==o.length){var c=ec(t,n);o.forEach((function(e){r(t[e],i,c[e],e)}))}else n(No(t)?[]:{})},ts.RACE=function(e,t,n,a){var r=a.digestEffect,i=ns,o=Object.keys(t),c=No(t)?Yo(o.length):{},s={},l=!1;o.forEach((function(e){var t=function(t,a){l||(a||Jo(t)?(n.cancel(),n(t,a)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=Bo,s[e]=t})),n.cancel=function(){l||(l=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){l||r(t[e],i,s[e],e)}))},ts.CALL=function(e,t,n,a){var r=t.context,i=t.fn,o=t.args,c=a.task;try{var s=i.apply(r,o);if(Ro(s))return void es(s,n);if(Lo(s))return void ps(e,s,c.context,ns,tc(i),!1,n);n(s)}catch(l){n(l,!0)}},ts.CPS=function(e,t,n){var a=t.context,r=t.fn,i=t.args;try{var o=function(e,t){_o(e)?n(t):n(e,!0)};r.apply(a,i.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(c){n(c,!0)}},ts.FORK=function(e,t,n,a){var r=t.context,i=t.fn,o=t.args,c=t.detached,s=a.task,l=function(e){var t=e.context,n=e.fn,a=e.args;try{var r=n.apply(t,a);if(Lo(r))return r;var i=!1;return qo((function(e){return i?{value:e,done:!0}:(i=!0,{value:r,done:!Ro(r)})}))}catch(o){return qo((function(){throw o}))}}({context:r,fn:i,args:o}),u=function(e,t){return e.isSagaIterator?{name:e.meta.name}:tc(t)}(l,i);Fc((function(){var t=ps(e,l,s.context,ns,u,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},ts.JOIN=function(e,t,n,a){var r=a.task,i=function(e,t){if(e.isRunning()){var n={task:r,cb:t};t.cancel=function(){e.isRunning()&&Vo(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(No(t)){if(0===t.length)return void n([]);var o=ec(t,n);t.forEach((function(e,t){i(e,o[t])}))}else i(t,n)},ts.CANCEL=function(e,t,n,a){var r=a.task;t===jo?rs(r):No(t)?t.forEach(rs):rs(t),n()},ts.SELECT=function(e,t,n){var a=t.selector,r=t.args;try{n(a.apply(void 0,[e.getState()].concat(r)))}catch(i){n(i,!0)}},ts.ACTION_CHANNEL=function(e,t,n){var a=t.pattern,r=Zc(t.buffer),i=Kc(a),o=function t(n){Xc(n)||e.channel.take(t,i),r.put(n)},c=r.close;r.close=function(){o.cancel(),c()},e.channel.take(o,i),n(r)},ts.CANCELLED=function(e,t,n,a){n(a.task.isCancelled())},ts.FLUSH=function(e,t,n){t.flush(n)},ts.GET_CONTEXT=function(e,t,n,a){n(a.task.context[t])},ts.SET_CONTEXT=function(e,t,n,a){var r=a.task;$o(r.context,t),n()},ts);function os(e,t){return e+"?"+t}function cs(e){var t=e.name,n=e.location;return n?t+"  "+os(n.fileName,n.lineNumber):t}function ss(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var ls=null,us=[],ds=function(){ls=null,us.length=0},bs=function(){var e=us[0],t=us.slice(1),n=e.crashedEffect?function(e){var t=nc(e);return t?t.code+"  "+os(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+cs(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+cs(e.meta)})),[ss(us)]).join("\n")};function fs(e,t,n,a,r,i,o){var c;void 0===o&&(o=Bo);var s,l,u=0,d=null,b=[],f=Object.create(n),p=function(e,t,n){var a,r=[],i=!1;function o(e){t(),s(),n(e,!0)}function c(t){r.push(t),t.cont=function(c,s){i||(Vo(r,t),t.cont=Bo,s?o(c):(t===e&&(a=c),r.length||(i=!0,n(a))))}}function s(){i||(i=!0,r.forEach((function(e){e.cont=Bo,e.cancel()})),r=[])}return c(e),{addTask:c,cancelAll:s,abort:o,getTasks:function(){return r}}}(t,(function(){b.push.apply(b,p.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(u=2,(i={meta:r,cancelledTasks:b}).crashedEffect=ls,us.push(i),O.isRoot){var a=bs();ds(),e.onError(t,{sagaStack:a})}l=t,d&&d.reject(t)}else t===Io?u=1:1!==u&&(u=3),s=t,d&&d.resolve(t);var i;O.cont(t,n),O.joiners.forEach((function(e){e.cb(t,n)})),O.joiners=null}var O=((c={})[mo]=!0,c.id=a,c.meta=r,c.isRoot=i,c.context=f,c.joiners=[],c.queue=p,c.cancel=function(){0===u&&(u=1,p.cancelAll(),h(Io,!1))},c.cont=o,c.end=h,c.setContext=function(e){$o(f,e)},c.toPromise=function(){return d||(d=Pc(),2===u?d.reject(l):0!==u&&d.resolve(s)),d.promise},c.isRunning=function(){return 0===u},c.isCancelled=function(){return 1===u||0===u&&1===t.status},c.isAborted=function(){return 2===u},c.result=function(){return s},c.error=function(){return l},c);return O}function ps(e,t,n,a,r,i,o){var c=e.finalizeRunEffect((function(t,n,a){if(Ro(t))es(t,a);else if(Lo(t))ps(e,t,l.context,n,r,!1,a);else if(t&&t[Oo]){(0,is[t.type])(e,t.payload,a,u)}else a(t)}));d.cancel=Bo;var s={meta:r,cancel:function(){0===s.status&&(s.status=1,d(Io))},status:0},l=fs(e,s,n,a,r,i,o),u={task:l,digestEffect:b};return o&&(o.cancel=l.cancel),d(),l;function d(e,n){try{var r;n?(r=t.throw(e),ds()):Qo(e)?(s.status=1,d.cancel(),r=xo(t.return)?t.return(Io):{done:!0,value:Io}):r=Zo(e)?xo(t.return)?t.return():{done:!0}:t.next(e),r.done?(1!==s.status&&(s.status=3),s.cont(r.value)):b(r.value,a,d)}catch(i){if(1===s.status)throw i;s.status=2,s.cont(i,!0)}}function b(t,n,a,r){void 0===r&&(r="");var i,o=as();function s(n,r){i||(i=!0,a.cancel=Bo,e.sagaMonitor&&(r?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),r&&function(e){ls=e}(t),a(n,r))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:r,effect:t}),s.cancel=Bo,a.cancel=function(){i||(i=!0,s.cancel(),s.cancel=Bo,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},c(t,o,s)}}function hs(e,t){var n=e.channel,a=void 0===n?Jc():n,r=e.dispatch,i=e.getState,o=e.context,c=void 0===o?{}:o,s=e.sagaMonitor,l=e.effectMiddlewares,u=e.onError,d=void 0===u?Ko:u;for(var b=arguments.length,f=new Array(b>2?b-2:0),p=2;p<b;p++)f[p-2]=arguments[p];var h=t.apply(void 0,f);var O,y=as();if(s&&(s.rootSagaStarted=s.rootSagaStarted||Bo,s.effectTriggered=s.effectTriggered||Bo,s.effectResolved=s.effectResolved||Bo,s.effectRejected=s.effectRejected||Bo,s.effectCancelled=s.effectCancelled||Bo,s.actionDispatched=s.actionDispatched||Bo,s.rootSagaStarted({effectId:y,saga:t,args:f})),l){var v=bo.d.apply(void 0,l);O=function(e){return function(t,n,a){return v((function(t){return e(t,n,a)}))(t)}}}else O=Go;var g={channel:a,dispatch:Xo(r),getState:i,sagaMonitor:s,onError:d,finalizeRunEffect:O};return Fc((function(){var e=ps(g,h,c,y,tc(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var Os=function(e){var t,n=void 0===e?{}:e,a=n.context,r=void 0===a?{}:a,i=n.channel,o=void 0===i?Jc():i,c=n.sagaMonitor,s=Object(So.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,a=e.dispatch;return t=hs.bind(null,Object(To.a)({},s,{context:r,channel:o,dispatch:a,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return o.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){$o(r,e)},l},ys=Os,vs=n(418),gs=n.n(vs),js=n(435),ms=n(344);class Is{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:a,reducer:r,preloadedState:i,saga:o}=this.data,c=n.clientContext;gs()(a,"HTTP Client is not configured"),Object(js.b)(a),gs()(r,"Reducer is not configured");const s=[];const l=ys();s.push(l);const u=Object(bo.e)(r,i,Object(bo.a)(...s));o&&l.run(o);const d={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:ms.a};return u.dispatch(d),this.data.store=u,u}}var Es=function(e){return{done:!0,value:e}},Cs={};function Ts(e){return Mo(e)?"channel":Do(e)?String(e):xo(e)?e.name:String(e)}function Ss(e,t,n){var a,r,i,o=t;function c(t,n){if(o===Cs)return Es(t);if(n&&!r)throw o=Cs,n;a&&a(t);var c=n?e[r](n):e[o]();return o=c.nextState,i=c.effect,a=c.stateUpdater,r=c.errorState,o===Cs?Es(t):i}return qo(c,(function(e){return c(null,e)}),n)}function _s(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o={done:!1,value:mc(e)},c=function(e){return{done:!1,value:_c.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Ss({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeEvery("+Ts(e)+", "+t.name+")")}function As(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o,c={done:!1,value:mc(e)},s=function(e){return{done:!1,value:_c.apply(void 0,[t].concat(a,[e]))}},l=function(e){return{done:!1,value:xc(e)}},u=function(e){return i=e},d=function(e){return o=e};return Ss({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return i?{nextState:"q3",effect:l(i)}:{nextState:"q1",effect:s(o),stateUpdater:u}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:u}}},"q1","takeLatest("+Ts(e)+", "+t.name+")")}function xs(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i,o={done:!1,value:mc(e)},c=function(e){return{done:!1,value:Sc.apply(void 0,[t].concat(a,[e]))}},s=function(e){return i=e};return Ss({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(i)}}},"q1","takeLeading("+Ts(e)+", "+t.name+")")}function ws(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return _c.apply(void 0,[_s,e,t].concat(a))}var Ns=n(356);function Rs(e){return e.type===nt||e.type===at}function*Ls(e){try{yield Ec(e.filter(Rs).map((e=>Ic(e))))}catch(t){Object(ht.b)(t)}}function*Ps(e){try{const{events:t}=e.payload;yield Sc(Ls,t)}catch(t){Object(ht.b)(t)}}function*Ms(){try{yield ws(Ns.k,Ps)}catch(e){Object(ht.b)(e)}}function*Ds(e){try{yield Rc(e),yield Ic(Object(Cn.h)())}catch(t){Object(ht.b)(t)}}function*ks(){let e;const t=yield Nc([nt,at]);for(;;)try{const n=yield mc(t);e&&!e.isCancelled()&&(yield xc(e)),n.type===nt&&(e=yield _c(Ds,n.payload.waitTime),yield Ic(Object(Cn.f)({waitTime:n.payload.waitTime,reason:n.payload.reason}))),n.type===at&&(yield Ic(Object(Cn.h)()))}catch(n){Object(ht.b)(n)}}function*Us(){try{yield Ec([_c(ks)])}catch(e){Object(ht.b)(e)}}function*Fs(){try{yield Ec([_c(Ms),_c(Us)])}catch(e){Object(ht.b)(e)}}var Bs=n(401),Gs=n.n(Bs),$s=n(795),Vs=n.n($s),Hs=n(307),Ws=n.n(Hs),zs=n(316),qs=n(302),Ks=n(361),Ys=n(378),Xs=n(501),Zs=n(329);function*Qs(e){Object(Ys.k)(e)&&(yield Ic(Object(Zs.p)(e)))}function Js(e){return Object(zs.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Ys.j)(e)||(t=Ut()(e,"id"));return yield Object(Xs.t)(t)}))}function*el(e){try{return yield Sc(Js,e)}catch(t){return void Object(ht.b)(t)}}function*tl(e){const t=e.id,n=qs.a.getConversationId(e);let a;const r=s()(Ks.a.getAttachment(qs.a.getMessagePayload(e)),"messageId");try{a=yield Sc(Js,e)}catch(i){throw yield Ic({type:Ie.J,payload:{chatMessage:new qs.a(e).setCreationTime(Date.now()).build(),conversationId:qs.a.getConversationId(e)}}),yield Ic({payload:{conversationId:n,transientId:t,postbackParentMessageId:r},type:Ie.G}),i}Object(Ys.k)(a)&&(yield Ic({payload:{chatMessage:a,conversationId:n,transientId:t},type:Ie.H}))}var nl=n(1306);var al=()=>Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Object(nl.a)()).default}));function*rl(e){try{const t=(yield al()).makeTextMessage(e.payload);yield Sc(Qs,t),yield Sc(tl,t)}catch(t){Object(ht.b)(t)}}function*il(){try{yield ws(Ie.ab,rl)}catch(e){Object(ht.b)(e)}}var ol=n(292);const cl=(e,t)=>{const n=Ks.a.getAttachment(qs.a.getMessagePayload(e));return P()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},sl=(e,t)=>{const n=Ks.a.getAttachment(qs.a.getMessagePayload(e));return P()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},ll={[ol.c.CARD]:cl,[ol.c.CAROUSEL]:cl,[ol.c.CO_BROWSE_INVITE]:cl,[ol.c.PRODUCT_CARD]:cl,[ol.c.PRODUCT_SHOWCASE_CARD]:cl,[ol.c.INFO_CARD]:cl,[ol.c.PRODUCT_BANNER]:cl,[ol.c.PRODUCT_LIST]:cl,[ol.c.FORM]:sl,[ol.c.CONTACT_DETAILS_FORM]:sl,[ol.c.SECURE_FORM]:sl,[ol.c.APPOINTMENT]:(e,t)=>P()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[ol.c.SURVEY]:(e,t)=>P()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}}),[ol.c.VIDEO_CHAT]:(e,t)=>P()(e,{messagePayload:{attachment:{currentState:{$merge:{state:t.state,createdTime:Date.now()}},previousStates:{$push:[e.messagePayload.attachment.currentState]}}}}),[ol.c.RICH_TEXT_CAROUSEL]:cl},ul=(e,t)=>{var n,a;if(!e||!t)return{};switch(null===(a=null===(n=e.messagePayload)||void 0===n?void 0:n.attachment)||void 0===a?void 0:a.type){case ol.c.CAROUSEL:case ol.c.CO_BROWSE_INVITE:case ol.c.PRODUCT_CARD:case ol.c.PRODUCT_SHOWCASE_CARD:case ol.c.INFO_CARD:case ol.c.PRODUCT_BANNER:case ol.c.PRODUCT_LIST:case ol.c.CARD:return{buttonId:t.messagePayload.attachment.buttonId};case ol.c.SURVEY:return{submitted:!t.messagePayload.attachment.reSubmittable,opened:!0};case ol.c.SECURE_FORM:case ol.c.FORM:case ol.c.CONTACT_DETAILS_FORM:return{filledForm:t.messagePayload.attachment.filledForm};case ol.c.APPOINTMENT:{const e=t.messagePayload.attachment;return{selectedDate:e.selectedDate,selectedSlot:e.selectedSlot}}default:return{}}};function*dl(e){let{chatMessage:t,conversationId:n,params:a}=e;if(!t)return null;const r=ll[Ks.a.getAttachment(qs.a.getMessagePayload(t)).type];if(r){const e=r(t,a);return yield Ic({type:Ie.J,payload:{chatMessage:e,conversationId:n}}),e}return null}function*bl(e){const{postback:{messageId:t},conversationId:n}=e.payload;let a;const r=yield wc(Va.c),i=Object(Tr.k)(Object(Tr.m)(r,n),t);try{const t=(yield al()).makeTemplatePostbackAttachmentMessage(e.payload);a=yield Sc(dl,{chatMessage:i,conversationId:n,params:ul(i,t)}),t&&(yield Sc(Qs,t),yield Sc(tl,t),e.promise.resolve())}catch(o){a&&(yield Ic({type:Ie.J,payload:{chatMessage:i,conversationId:n}})),e.promise.reject(),Object(ht.b)(o)}}function*fl(){try{yield ws(Ie.Z,bl)}catch(e){Object(ht.b)(e)}}function*pl(e){try{const t=(yield al()).makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield Sc(Qs,t),yield Sc(tl,t))}catch(t){Object(ht.b)(t)}}function*hl(){try{yield ws(Ie.S,pl)}catch(e){Object(ht.b)(e)}}var Ol=n(367),yl=n.n(Ol),vl=n(476),gl=n(332);const jl=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en"});function*ml(e){try{const t=Wi()(e,(e=>e.sender)),n=yield Sc(vl.b,e),a=Wi()(n,(e=>gl.a.getId(e)));let r=[];ki()(t,(e=>{!a.includes(e)&&Object(Qt.c)(e)&&(r=[...r,jl(e)])})),yield Ic({type:M.g,payload:{users:[...n,...r]}})}catch(t){Object(ht.b)(t)}}function*Il(e){try{const t=yl()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return Si()(t,((t,a)=>{const r=a.sender;return n[r]||!!Object(or.g)(e,r)||(n[r]=r,t.push(a)),t}),[])})(yield wc(Va.h),t);if(0===n.length)return;yield Sc(ml,n)}catch(t){Object(ht.b)(t)}}function*El(e){try{yield Sc(ml,yl()(e))}catch(t){Object(ht.b)(t)}}const Cl="/co-browse/conversation",Tl=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield js.a.post(`${Cl}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},Sl=e=>{let{messageId:t,actionPayload:n}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield js.a.post(`${Cl}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},_l=e=>{let{messageId:t,payload:n}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield js.a.post(`${Cl}/push/status?messageId=${t}`,n)).data}))},Al=e=>{let{messageId:t,otp:n,additionalInfo:a}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return _l({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:a}})}))},xl=e=>{let{messageId:t,reason:n}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return _l({messageId:t,payload:{status:"FAILED",reason:n}})}))},wl=e=>{let{messageId:t,payload:n}=e;return js.a.post(`${Cl}/event?messageId=${t}`,n)},Nl=e=>{let{messageId:t}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){return(yield js.a.post(`${Cl}/session/live?messageId=${t}`)).data}))};var Rl=n(682);function*Ll(e){try{const{messageId:t}=yield wc(Va.f);yield Sc(Sl,{messageId:t,actionPayload:e.payload})}catch(t){Object(ht.b)(t)}}function*Pl(e){const{messageId:t,conversationId:n,agentId:a}=yield wc(Va.f);try{const{otp:r,additionalInfo:i}=e.payload;yield Sc(Al,{messageId:t,otp:r,additionalInfo:i}),yield Ic(Object(ir.i)({state:{messageId:t,conversationId:n,agentId:a}}))}catch(r){try{yield Ic(Object(ir.e)({reason:cr.a.OTP_SEND_FAILED})),yield Sc(xl,{messageId:t,reason:cr.a.OTP_SEND_FAILED})}catch(i){Object(ht.b)(r)}}}function*Ml(e){try{const{messageId:t,reason:n}=e.payload;yield Ic(Object(ir.e)({reason:n})),yield Sc(xl,{messageId:t,reason:n})}catch(t){Object(ht.b)(t)}}function*Dl(e){let{messageId:t}=e;const[n,a]=yield Cc([mc((e=>{let{type:n,payload:a}=e;return n===Ie.H&&s()(a,"chatMessage.messagePayload.attachment.messageId")===t})),mc((e=>{let{type:n,payload:a}=e;return n===Ie.G&&s()(a,"postbackParentMessageId")===t})),mc(Rl.g),mc(Rl.h)]);n&&(yield Ic(Object(ir.p)())),a&&(yield Ic(Object(ir.e)({reason:cr.a.POSTBACK_SEND_FAILED})))}function*kl(e){try{const{messageId:t}=yield wc(Va.f);yield Sc(wl,{messageId:t,payload:e.payload})}catch(t){Object(ht.b)(t)}}function*Ul(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:a}=e.payload;if(n||!t)return;return void(yield Sc(Tl,{messageId:t,markCompletedSession:a}))}catch(t){Object(ht.b)(t)}}function*Fl(e){try{const{shouldNotifyAgent:t,mode:n}=e.payload;t&&(yield Ic(Object(ir.j)({type:n,payload:{status:"ACCEPT"}})))}catch(t){Object(ht.b)(t)}}function*Bl(e){try{const{mode:t}=e.payload;yield Ic(Object(ir.j)({type:t,payload:{status:"REJECT"}}))}catch(t){Object(ht.b)(t)}}function*Gl(e){try{const{mode:t}=e.payload;yield Ic(Object(ir.j)({type:t,payload:{status:"STOP"}}))}catch(t){Object(ht.b)(t)}}function*$l(e){const{messageId:t,conversationId:n,agentId:a}=e.payload.state;try{const[e]=yield Ec([Sc(Nl,{messageId:t}),Sc(Il,{sender:a,conversationId:n})]);e?yield Ic(Object(ir.o)({state:{conversationId:n,messageId:t,agentId:a}})):yield Ic(Object(ir.e)({reason:cr.a.RESUME_SESSION_FAILED}))}catch(r){yield Ic(Object(ir.f)({messageId:t,reason:cr.a.RESUME_SESSION_FAILED})),Object(ht.b)(r)}}function*Vl(){yield ws(Rl.g,Ul)}function*Hl(){yield ws(Rl.o,Pl)}function*Wl(){yield ws(Rl.p,Ml)}function*zl(){yield ws(Rl.a,Fl)}function*ql(){yield ws(Rl.d,Bl)}function*Kl(){yield ws(Rl.b,Gl)}function*Yl(){yield ws(Rl.e,Ll)}function*Xl(){yield ws(Rl.k,$l)}function*Zl(){yield ws(Rl.f,kl)}function*Ql(){yield Ec([_c(Hl),_c(Wl),_c(Vl),_c(zl),_c(ql),_c(Kl),_c(Yl),_c(Xl),_c(Zl)])}var Jl=n(448);function*eu(e){const t=e?yl()(e):Jl.a;if(0===t.length)return;const n=qs.a.getConversationId(t[0]),a=Wi()(t,(e=>({sender:qs.a.getSender(e),conversationId:n})));yield Sc(Il,a)}var tu=n(322),nu=n.n(tu),au=n(23),ru=n.n(au),iu=n(809),ou=n(810),cu=n(1038),su=n(71),lu=n(552),uu=n(1039),du=e=>{let{messageId:t,messagePayload:n,creationTime:a,conversationId:r,sender:i,clientMessageId:o,deleted:c}=e;if(n&&(!Ks.a.isEmpty(n)||c))return(new qs.a).setId(t).setMessagePayload(n).setConversationId(r).setCreationTime(a||+new Date).setSender(i).setClientMessageId(o).setDeleted(c).build()};const bu=(e,t)=>{const n=gl.a.getId(t),a=Ks.a.getAttachment(qs.a.getMessagePayload(e)),r=Object(uu.a)(a,{user:t}),i=Yr()(iu.a.getFields(ou.a.getForm(a)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&u()(r[t])}));return!Object(Qt.b)(n)&&i},fu=e=>({resolve:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.promise.resolve(Object.assign(Object.assign({},e),t))},reject:e.promise.reject}),pu=(e,t,n,a)=>{let r;return r="string"===typeof e?(new qs.a).setMessagePayload((new Ks.a).setMessageType(lu.b).setMessageText(e).setMessageDisableManualResponse(!!a).build()).build():e,du(Object.assign({messageId:n,conversationId:t,sender:su.b},r))},hu=e=>{if(nu()(e))return e;switch(Object(On.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return _t.a.NOT_FOUND;case 406:return _t.a.NOT_ACCEPTABLE;default:return _t.a.UNEXPECTED_ERROR}},Ou=e=>{let{encryptedData:t,unencryptedData:n,publicKeyForEncryption:a,formFields:r}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){const e=Si()(t,((e,t,n)=>(e[n]={eData:t,externallyEncrypted:!0},e)),{});if(!n)return e;const{dataEncrypter:i}=yield Object(cu.a)();return Si()(r,((e,t)=>{const r=t.fieldName,o=null===n||void 0===n?void 0:n[r];if(!ru()(o)&&""!==o){const t=nu()(o)?o:JSON.stringify(o);e[r]=i(t,a)}return e}),e)}))},yu=e=>{let{values:t,publicKeyForEncryption:n,multiSubmitResponseUrl:a}=e;return Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){const{secureData:e,unencryptedData:r,encryptedData:i,originalData:o}=t;return a?{data:yield Ou({encryptedData:i,unencryptedData:u()(i)&&u()(r)?o.values:r,formFields:o.fields,publicKeyForEncryption:n})}:nu()(e)?{data:e}:e}))};var vu=n(522),gu=n(380),ju=n(386);let mu={};function*Iu(e){try{const n=e.payload.conversationId;if(mu[n]){for(;;){const[t,a]=yield Cc([mc(Ie.M),mc(Ie.N)]);if(s()(t||a,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),a&&e.promise.reject(a.payload.error));break}}return}try{mu[n]=!0;const t=yield wc(Va.c),a=yield wc(Va.d),r=pr()(a),i=Object(Tr.m)(t,n),o=Object(Tr.q)(t),c=Object(Tr.h)(o,n),l=s()(Object(Tr.g)(o,n),"assignToUser"),u=Object(Tr.y)(i),d=Object(Tr.f)(Object(Tr.q)(t),n)||{},b=d.clickedOnPrompt,f=yield Sc(Xs.o,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{chatMessages:Object(Tr.l)(i).map((e=>({messagePayload:qs.a.getMessagePayload(e),sender:qs.a.getSender(e)})))}:void 0),{createCase:Object(Tr.C)(Object(Tr.q)(t),n),startedByContext:c}),d),e.payload.appContext),!b&&r?{creativeId:r.additional.creativeId,interceptId:r.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),p=yield wc(Va.h),h=Object(or.b)(p),O=Object(or.d)(p);yield Ic({payload:{transientConversationId:n,conversationResponse:f,botUserIds:h,userId:O},type:Ie.M}),e.promise&&e.promise.resolve({conversationId:f.id,caseNumber:f.caseNumber})}catch(t){yield Ic({type:Ie.N,payload:{transientConversationId:e.payload.conversationId,error:hu(t)}}),e.promise&&e.promise.reject(hu(t)),Object(ht.b)(t)}finally{delete mu[e.payload.conversationId]}}catch(n){}}function*Eu(e){try{const t=Gs()(yl()(Vt.a.getDefaultMessages($t.a.getCustomizationConfig(e)))),n=Gs()(t.map(((e,t)=>pu(e,su.e,`${su.d}${t}`))));if(n.length){const e=yield wc(Va.h),t=n.map((t=>{const n=Object(vu.e)(e,qs.a.getSender(t));return Ic(Object(gu.g)(t,n))}));yield Ec(t)}return n}catch(t){Object(ht.b)(t)}}function*Cu(e,t){try{const n=Vt.a.getContactDetailsMessage($t.a.getCustomizationConfig(e)),a=[];if(n&&bu(n,ju.a.getChatUser(t))){const e=pu(n,su.e,su.c),t=yield wc(Va.h),r=Object(vu.e)(t,qs.a.getSender(e));a.push(e),yield Ic(Object(gu.g)(e,r))}return a}catch(n){Object(ht.b)(n)}}function*Tu(e,t){try{const n=yield Sc(Eu,e),a=yield Sc(Cu,e,t);return[...n,...a]}catch(n){Object(ht.b)(n)}}function Su(){mu={}}function*_u(){try{const t=s()(Object(or.c)(yield wc(Va.h)),"userId");for(;;)try{const e=yield wc(Va.c),n=Object(Tr.m)(e,su.e),a=Object(Tr.k)(n,su.c);if(!a)break;const{payload:{users:r}}=yield mc(M.g),i=r.find((e=>e.userId===t));i&&!bu(a,i)&&(yield Ic(Object(gu.h)(su.e,su.c)))}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*Au(){try{yield ws(ms.c,Su)}catch(e){Object(ht.b)(e)}}function*xu(){try{yield ws(Ie.L,Iu)}catch(e){Object(ht.b)(e)}}function*wu(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield mc(ms.a);yield Sc(Tu,e,t),yield Ec([_c(_u),_c(xu),_c(Au)])}catch(e){Object(ht.b)(e)}}var Nu=n(451);function*Ru(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===Nu.a&&(yield Ic(Object(gu.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(ht.b)(t)}}function*Lu(e){try{const{payload:t}=e,{actionParams:n}=t;n.actionType===Nu.b&&(yield Ic(Object(gu.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}catch(t){Object(ht.b)(t)}}function*Pu(e){try{yield Ec([Sc(Ru,e),Sc(Lu,e)])}catch(t){Object(ht.b)(t)}}function*Mu(e){try{const{payload:t}=e,{actionParams:n}=t;let a=K.a;new Promise(((e,t)=>{const n=setTimeout((()=>t(new Error("Timeout"))),6e4);a=(a,r)=>(clearTimeout(n),r?t(r):e(a))})).then((t=>{const n=P()(e,{payload:{actionParams:{values:{$merge:t}}}});e.promise.resolve(n)})).catch((t=>e.promise.reject(t)));yield Ic(Object(gu.k)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId},callback:a}))}catch(t){e.promise.reject(t),Object(ht.b)(t)}}function*Du(e){const{messageId:t,conversationId:n}=e.payload,a=yield wc(Va.c),r=Object(Tr.k)(Object(Tr.m)(a,n),t);let i;try{i=yield Sc(dl,{chatMessage:r,conversationId:n,params:{opened:!0}}),yield Sc(Xs.r,t)}catch(o){i&&(yield Ic({type:Ie.J,payload:{chatMessage:r,conversationId:n}})),Object(ht.b)(o)}}function*ku(e){try{const{attachment:t}=e.payload;return void(s()(t,"opened")||(yield Sc(Du,e)))}catch(t){Object(ht.b)(t)}}function*Uu(){try{yield ws(Ie.W,ku)}catch(e){Object(ht.b)(e)}}var Fu=n(408),Bu=n(602),Gu=n(475),$u=n(402),Vu=n(812),Hu=n(544),Wu=n(970),zu=n(601),qu=n(1283),Ku=n(420);function Yu(e){return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return js.a.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}var Xu=n(597);const Zu=e=>Object(Ku.e)(Object(Va.e)(e));function Qu(e){return e===Nu.a||e===Nu.b}function Ju(e){return e===Nu.c}function ed(e){return e===Bu.a.OPEN_URL}function td(e){return e===Bu.a.DIAL}function nd(e){return e===Bu.a.FETCH_APPOINTMENT_TIME_SLOTS}function ad(e){return e===Bu.a.RESERVE_APPOINTMENT_TIME_SLOT}function rd(e){return e===Bu.a.START_VIDEO_CALL}function id(e){return e===Bu.a.START_AUDIO_CALL}function od(e){return e===Bu.a.REJOIN_CALL}function cd(e){return e===Bu.a.ACCOUNT_LINK}function*sd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{if(!(yield wc(Zu)))for(;;){const{payload:e}=yield mc(Ns.e);if(e.status===Xu.a.CONNECTED)break}return yield Sc(e,t)}catch(a){if(Object(On.c)(a)&&n>1)return yield Sc(sd,e,t,n-1);throw a}}function ld(e,t){return du({messageId:e.id,messagePayload:qs.a.getMessagePayload(e),conversationId:t,sender:qs.a.getSender(e),creationTime:qs.a.getCreationTime(e),clientMessageId:qs.a.getClientMessageId(e),deleted:qs.a.getDeleted(e)})}function*ud(e){try{const{payload:t}=e,{conversationId:n,cursor:a}=t,r=yield Sc(Xs.g,n,{size:t.size,cursor:a}),i=Gs()(r.results.map((e=>ld(e,n))));yield Sc(eu,i),yield Ic({payload:{conversationMessagesResponse:Object.assign(Object.assign({},r),{results:i}),conversationId:n,cursor:a},type:Ie.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield Ic({type:Ie.n,payload:{conversationId:e.payload.conversationId}}),Object(ht.b)(t)}}function*dd(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:r}=t,i=r?yield Sc(Xs.c,n):yield Sc(Xs.d,a,n);yield Ic(Object(gu.a)({conversationId:a,includeAll:r,deleted:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(ht.b)(t)}}function*bd(){try{yield ws(Ie.i,dd)}catch(e){Object(ht.b)(e)}}function*fd(e){try{const{payload:t,promise:n}=e,{conversationId:a,includeAll:r}=t,i=r?yield Sc(Xs.a,n):yield Sc(Xs.b,a,n);yield Ic(Object(gu.a)({conversationId:a,includeAll:r,closed:!0,surveyUrl:null===i||void 0===i?void 0:i.surveyUrl}))}catch(t){Object(ht.b)(t)}}function*pd(){try{yield ws(Ie.h,fd)}catch(e){Object(ht.b)(e)}}function*hd(){try{yield ws(Ie.l,ud)}catch(e){Object(ht.b)(e)}}function*Od(e){try{const{query:t,conversationId:n,faqAttachment:a,locale:r}=e.payload,i=yield Sc(Xs.k,n,t,a,r);e.promise&&e.promise.resolve(i)}catch(t){e.promise&&e.promise.reject(),Object(ht.b)(t)}}function*yd(){try{yield ws(Ie.B,Od)}catch(e){Object(ht.b)(e)}}function*vd(e){try{const t=Si()(e,((e,t)=>{const n=$u.a.getParticipants(t);return ki()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield Sc(Il,t)}catch(t){Object(ht.b)(t)}}function*gd(){try{for(;;)try{const e=yield mc(Ie.f),t=yield Sc(Xs.e,e.payload);yield Sc(vd,t.results);const n=yield wc(Va.h),a=Object(or.b)(n),r=Object(or.d)(n);yield Ic({payload:{conversationResponse:t,botUserIds:a,chatUserId:r},type:Ie.g})}catch(e){Object(ht.b)(e)}}catch(t){Object(ht.b)(t)}}function*jd(){try{for(;;){let n,a,r;const i=yield mc(Ie.s);a=i.payload.caseId,n=i.payload.conversationId,r=i.payload.context;const o=yield wc(Va.h),c=Object(or.b)(o),s=Object(or.d)(o);try{const e=yield Sc(Xs.h,i.payload.caseId);yield Ic({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ie.t})}catch(e){try{if(Object(On.a)(e))throw e;{const e=yield Sc(Xs.o,Object.assign({createCase:!0,caseId:a},r));yield Ic({payload:{caseId:a,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ie.t})}}catch(t){yield Ic({payload:{conversationId:n,error:hu(t)},type:Ie.u})}}}}catch(n){Object(ht.b)(n)}}function*md(){try{for(;;){let t,n,a;try{const e=yield mc(Ie.v);t=e.payload.conversationId,n=e.payload.externalCaseId,t?a=yield Sc(Xs.j,t):n&&(a=yield Sc(Xs.i,n));const r=yield wc(Va.h),i=Object(or.b)(r),o=Object(or.d)(r);yield Ic({payload:{conversationResponse:a,botUserIds:i,chatUserId:o},type:Ie.w})}catch(e){yield Ic({payload:Object.assign(Object.assign(Object.assign({},t?{conversationId:t}:{}),n?{externalCaseId:n}:{}),{error:hu(e)}),type:Ie.x}),Object(ht.b)(e)}}}catch(t){Object(ht.b)(t)}}function*Id(e){try{for(;;){const n=yield wc(Zu);try{if(n){const t=e.payload,{conversationId:n}=t,a=ld(yield Sc(Xs.l,n,t.messageId),n);return yield Sc(eu,a),a}yield mc(Ns.e)}catch(t){if(Object(ht.b)(t),!Object(On.c)(t))break}}return null}catch(n){return Object(ht.b)(n),null}}function*Ed(e){try{const t=e.payload;yield Ic(Object(gu.l)({type:t.actionType,payload:Ut()(e.payload,["actionType"])}))}catch(t){Object(ht.b)(t)}}function*Cd(e){try{const t=yield Sc(Id,e);t&&(yield Ic({type:Ie.J,payload:{chatMessage:t,conversationId:qs.a.getConversationId(t)}}))}catch(t){Object(ht.b)(t)}}function*Td(e){try{const t=yield wc(Va.c),n=Object(Tr.q)(t),a=Object(or.c)(yield wc(Va.h)),{sender:r,deleted:i,closed:o,caseNumber:c,conversationId:s,requestClientId:l}=e.payload,u=Object(Tr.g)(n,s);(r!==a.userId||l&&l!==Wu.a.get()||c&&u&&!u.caseNumber&&!i&&!o)&&(yield Ic(Object(gu.a)(e.payload)),c&&u&&!u.caseNumber&&(yield Ic(Object(Cn.c)({action:Gr.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(ht.b)(t)}}function*Sd(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}=e.payload;yield Ic({type:Ie.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:a}})}catch(t){Object(ht.b)(t)}}function*_d(e){try{const{payload:t}=e,{actionParams:n}=t;Qu(n.actionType)&&(yield Sc(Pu,e),e.promise.resolve(e))}catch(t){e.promise.reject(),Object(ht.b)(t)}}function*Ad(e){try{const{payload:t}=e,{actionParams:n}=t;Ju(n.actionType)&&(yield Sc(Mu,e))}catch(t){Object(ht.b)(t)}}function*xd(e){try{const{payload:t}=e,{actionParams:n,conversationId:a}=t;if(cd(n.actionType)){const t=Object(zu.a)(n.actionId,n.attachment);yield Ic(Object(Cn.a)({ssoId:t.accountLinkUrl,conversationId:a,messageId:n.messageId})(fu(e)))}}catch(t){e.promise.reject(),Object(ht.b)(t)}}function*wd(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,a=t,r=yield Sc(yu,{values:n,publicKeyForEncryption:a.publicKeyForEncryption,multiSubmitResponseUrl:a.multiSubmitResponseUrl});return{fieldNameVsToken:yield Sc(Xs.u,a,r),originalData:n.originalData}}catch(t){return Object(ht.b)(t),null}}function*Nd(e){try{const{actionParams:{messageId:t,actionType:n,values:a},conversationId:r}=e.payload;if(n===Bu.a.ACCEPT_CO_BROWSE){const e=yield wc((e=>Object(Tr.k)(Object(Tr.m)(Object(Va.c)(e),r),t))),n=qs.a.getSender(e);yield Ic(Object(ir.d)({messageId:t,conversationId:r,agentId:n})),yield Ac(Dl,{messageId:t})}return a}catch(t){return Object(ht.b)(t),null}}function*Rd(e){try{const{actionParams:{attachment:t,actionId:n,values:a,messageId:r},conversationId:i}=e.payload,o=s()(Object(zu.a)(n,t),"surveyUrl","");yield Ic(Object(gu.e)({surveyUrl:o,conversationId:i})),yield Ic({type:Ie.W,payload:{messageId:r,conversationId:i,attachment:t}});const[c]=yield Cc([mc(Ie.X),mc(Ie.U),mc(Ie.Y)]);return c?a:null}catch(t){return Object(ht.b)(t),null}}function*Ld(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===Bu.a.SECURE_FORM_POST_BACK}(t)?yield Sc(wd,e):function(e){return e===Bu.a.ACCEPT_CO_BROWSE||e===Bu.a.DENY_CO_BROWSE}(t)?yield Sc(Nd,e):function(e){return e===Bu.a.SURVEY_POST_BACK}(t)?yield Sc(Rd,e):n}catch(t){return Object(ht.b)(t),null}}function*Pd(e){try{const{payload:a}=e,{actionParams:r,appContext:i}=a;if(!Qu(t=r.actionType)&&!ed(t)&&!td(t)&&!nd(t)&&!ad(t)&&!id(t)&&!rd(t)&&!od(t)&&!cd(t)&&!Ju(t))try{const t=yield Sc(Ld,e);o()(t)?e.promise&&e.promise.resolve(e):yield Ic(Object(gu.p)({conversationId:a.conversationId,sender:a.sender,postback:{attachment:r.attachment,values:t,additional:r.additional,appContext:i,messageId:r.messageId,postbackId:r.actionId,postbackType:r.actionType},inReplyToChatMessageId:a.inReplyToChatMessageId})(fu(e)))}catch(n){e.promise.reject(),Object(h.a)(n)}}catch(a){e.promise.reject(),Object(ht.b)(a)}var t}function*Md(e){try{const{payload:t}=e,{actionParams:n}=t;ed(n.actionType)&&(yield Ic(Object(gu.f)({attachment:n.attachment,actionId:n.actionId})(fu(e))))}catch(t){e.promise.reject(),Object(ht.b)(t)}}function*Dd(e){try{const{payload:t}=e,{actionParams:n}=t;td(n.actionType)&&(yield Ic(Object(gu.d)({attachment:n.attachment,actionId:n.actionId})(fu(e))))}catch(t){e.promise.reject(),Object(ht.b)(t)}}function*kd(e){var t,n;try{const{payload:a}=e,{actionParams:{actionId:r,actionType:i,attachment:o,messageId:c,values:l},conversationId:u,appContext:d}=a;if(od(i)){l.callMode&&l.participantPermissions||Object(ht.b)(`Call mode (${l.callMode}) or participant permissions (${l.participantPermissions}) unset`),l.participantInfos||Object(ht.b)("Participant infos is unset");const a=l.audioOnly?Wa.c.AUDIO:Wa.c.VIDEO,r=null!==(t=l.callMode)&&void 0!==t?t:Object(Hu.b)(a);yield Ic(Object(Fu.p)({conversationId:u,isPhone:d.isPhone,type:a,isIncomingCall:l.isIncomingCall,videoConversationId:l.videoChatConversationId,participantPermissions:null!==(n=l.participantPermissions)&&void 0!==n?n:Object(Hu.c)(r),callMode:r,participantInfos:l.participantInfos,prevState:Object(Vu.a)(l.currentState,l.isIncomingCall)})),e.promise&&e.promise.resolve(e)}else if(rd(i)||id(i)){const t=yield wc(Va.b);if(Object(Ha.a)(t))return void(e.promise&&e.promise.reject());const n=rd(i)?Wa.c.VIDEO:Wa.c.AUDIO,a=s()(Object(zu.a)(r,o),"title","");let l={};r&&(l={sourceButtonId:r,messageId:c,messageText:a}),yield Ic(Object(Fu.i)(Object.assign({conversationId:u,isPhone:d.isPhone,type:n},l))),e.promise&&e.promise.resolve(e)}}catch(a){e.promise.reject(),Object(ht.b)(a)}}function*Ud(e){try{const{payload:n}=e,{actionParams:a,conversationId:r,appContext:i}=n,o=nd(a.actionType),c=ad(a.actionType);let s,l;if(o||c)try{const t=yield wc(Va.c);let n;s=Object(Tr.k)(Object(Tr.m)(t,r),a.messageId),o&&(yield Ic({type:Ie.J,payload:{chatMessage:P()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:r}}),l=yield Sc(Xs.f,{selectedDate:a.values.selectedDate,slotDefinitionId:a.attachment.slotDefinitionConfigId,timeZone:i.timeZone,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),yield Ic({type:Ie.J,payload:{chatMessage:P()(s,{messagePayload:{attachment:{$merge:{slots:l}}}}),conversationId:r}})),c&&(l=yield Sc(Xs.s,{selectedDate:a.values.selectedDate,selectedSlot:a.values.selectedSlot,timeZone:i.timeZone,slotDefinitionId:a.attachment.slotDefinitionConfigId,appointmentAssetParams:a.attachment.params,messageId:a.messageId}),n=l.reservationId,n||(yield Ic({type:Ie.J,payload:{chatMessage:P()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},l.slots?{slots:l.slots}:{}),l.availableDates?{availableDates:l.availableDates}:{})}}}),conversationId:r}}))),e.promise.resolve({actionType:a.actionType,response:{reservationId:n,selectedSlot:a.values.selectedSlot,selectedDate:a.values.selectedDate,visibleSlots:a.values.visibleSlots}})}catch(t){Object(ht.b)(t),e.promise.reject({actionType:a.actionType,response:{error:l}})}}catch(n){e.promise.reject(),Object(ht.b)(n)}}function*Fd(e){try{yield Ec([Sc(_d,e),Sc(Ad,e),Sc(Pd,e),Sc(Md,e),Sc(Dd,e),Sc(xd,e),Sc(Ud,e),Sc(kd,e)])}catch(t){Object(ht.b)(t)}}function*Bd(e,t){try{const n=P()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Ut()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),a=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield Sc(Fd,n),yield a}catch(n){throw Object(ht.b)(n),n}}function*Gd(e){try{const t=e.payload.actionParams.actionTypes;let n=e;for(let e=0;e<Vs()(t);e+=1)n=yield Sc(Bd,n,t[e]);e.promise.resolve(n)}catch(t){e.promise.reject(t),Object(ht.b)(t)}}function*$d(){try{yield ws(Ie.c,Gd)}catch(e){Object(ht.b)(e)}}function*Vd(e){try{let n,a;try{const{disclaimerStatus:t}=e.payload,r=yield wc(Va.c),i=Object(Tr.q)(r);n=e.payload.conversationId,a=s()(Object(Tr.i)(i,n),"disclaimerStatus"),yield Ic({type:Ie.r,payload:{conversationId:n,disclaimerStatus:t}}),yield Sc(Xs.w,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield Ic({type:Ie.r,payload:{conversationId:n,disclaimerStatus:a}}),Object(ht.b)(t)}}catch(n){Object(ht.b)(n)}}function*Hd(){try{yield ws(Ie.q,Vd)}catch(e){Object(ht.b)(e)}}const Wd={field:"closed",values:[!0],filterType:Gu.a.NIN};function*zd(e){try{const{context:t,filters:n}=e.payload,a=yield wc(Va.c),r=Object(Tr.w)(a),i=n||Wd,o=Ws()(r.ids,(e=>{let t=!1;if(u()(i))return!0;qu.a.createFilterAction(i,{getFilterBuilder:qu.a.createFilterAction}).matches(r.byId[e],{logOnFailure:!0})&&(t=!0);return t}));o?(yield Sc(sd,Xs.v,{context:t,conversationId:o,payload:e.payload}),e.promise.resolve({conversationId:o})):e.promise.reject(_t.a.NOT_FOUND)}catch(t){e.promise.reject(hu(t)),Object(ht.b)(t)}}function*qd(e){try{yield mc(Ie.g),yield Sc(zd,e)}catch(t){e.promise.reject(hu(t)),Object(ht.b)(t)}}function*Kd(e){try{const{context:t,conversationId:n,includeDeleted:a}=e.payload;if(n)return yield Sc(sd,Xs.v,{context:t,conversationId:n,payload:e.payload}),void e.promise.resolve({conversationId:n});if(a)return yield Sc(sd,Xs.x,{context:t,updateLatest:a,payload:e.payload}),void e.promise.resolve({conversationId:n});const r=yield wc(Va.c),i=Object(Tr.q)(r);if(Object(Tr.b)(i))return void(yield Sc(zd,e));yield _c(qd,e)}catch(t){e.promise.reject(hu(t)),Object(ht.b)(t)}}function*Yd(){try{yield ws(Ie.k,Kd)}catch(e){Object(ht.b)(e)}}function*Xd(e){try{const{lastReadMessageId:t}=e.payload;yield Sc(Yu,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(ht.b)(t)}}function*Zd(){try{yield ws(Ie.P,Xd)}catch(e){Object(ht.b)(e)}}function*Qd(e){try{const e=yield Sc(Xs.m);yield Ic({payload:{openConversationCount:e},type:Ie.bb})}catch(t){Object(ht.b)(t)}}function*Jd(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return _c.apply(void 0,[xs,e,t].concat(a))}(Ie.C,Qd)}catch(e){Object(ht.b)(e)}}function*eb(){try{yield Ec([_c(gd),_c(md),_c(yd),_c(wu),_c(hd),_c(bd),_c(pd),_c(il),_c(fl),_c(hl),_c($d),_c(Yd),_c(jd),_c(Hd),_c(Zd),_c(Uu),_c(Jd)])}catch(e){Object(ht.b)(e)}}const tb={},nb="START_TYPING",ab="STOP_TYPING";function*rb(e,t){try{yield Sc(Yu,{type:e,payload:{conversationId:t}})}catch(n){Object(ht.b)(n)}}function*ib(e,t){for(;;)try{yield _c(rb,nb,e),yield Rc(25e3),yield mc(t)}catch(n){Object(ht.b)(n)}}function*ob(e,t){let n,a;try{for(n=Zc(sc.dropping(1)),a=yield _c(ib,e,n);;){const e=yield mc(t);if(e.type!==Ie.cb)break;n.put(e)}}catch(r){Object(ht.b)(r)}finally{yield _c(rb,ab,e),n&&n.close(),a&&a.cancel()}}function*cb(e,t){for(;;)try{let n;if(n=yield mc(t),n.type!==Ie.cb)continue;yield Sc(ob,e,t)}catch(n){Object(ht.b)(n)}}function*sb(){try{for(;;)try{const e=yield Cc([mc(Ie.cb),mc(Ie.db)]),t=Gs()(e)[0],{payload:{conversationId:n}}=t;let a=tb[n];a||(a=Zc(sc.sliding(1)),tb[n]=a,yield _c(cb,n,a)),a.put(t)}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*lb(){try{yield _c(sb)}catch(e){Object(ht.b)(e)}}var ub=n(315),db=n.n(ub),bb=n(364),fb=n.n(bb),pb=(n(282),n(447)),hb=n.n(pb);const Ob={};function*yb(){throw yield Rc(3e4),new Error("")}function*vb(e,t,n,a){let r;try{for(yield Ic({type:Ie.a,payload:{conversationId:t,userId:n,actionTime:a}}),r=yield _c(yb);;){const a=yield mc(e);if(a.type===et)r.isCancelled()||(yield xc(r)),r=yield _c(yb),yield Ic({type:Ie.a,payload:{conversationId:t,userId:n,actionTime:a.payload.actionTime}});else{const e=yield wc(Va.c),r=Object(Tr.m)(e,t),i=Object(Tr.u)(r,n);if(i&&qs.a.getCreationTime(i)<a.payload.actionTime)break}}}catch(i){Object(ht.b)(i)}finally{yield Ic({type:Ie.b,payload:{conversationId:t,userId:n}}),r&&!r.isCancelled()&&(yield xc(r))}}function*gb(e,t,n){for(;;)try{let a;if(a=yield mc(e),a.type!==et)continue;yield Sc(vb,e,t,n,a.payload.actionTime)}catch(a){}}function*jb(e){try{const{payload:{conversationId:t,sender:n}}=e,a=yield wc(Va.h),r=pr()(Object(vu.e)(a,n)),i=function(e,t){return`${e}_${t}`}(t,r);let o=Ob[i];o||(o=Zc(sc.sliding(1)),Ob[i]=o,yield _c(gb,o,t,r)),o.put(e)}catch(t){Object(ht.b)(t)}}function*mb(e){try{yield Ec(e.map((e=>Sc(jb,e))))}catch(t){Object(ht.b)(t)}}function*Ib(e){try{yield Ec(e.map((e=>Sc(jb,e))))}catch(t){Object(ht.b)(t)}}const Eb=["AGENT_ASSIGNED","AGENT_UNASSIGNED","AGENT_ASSIGNMENT_CHANGED","WORK_QUEUE_ASSIGNED"];function*Cb(e,t,n){try{if((a=e)&&Eb.includes(a.type)){const{newAgentId:a,oldAgentId:r,queueId:i}=e,o=[],c=[];r&&(o.push({conversationId:t,sender:r}),c.push(r)),a&&(o.push({conversationId:t,sender:a}),c.push(a)),yield Sc(Il,o),yield Ic(Object(gu.a)({conversationId:t,agentAssigned:!!a,participants:c,workQueueAssigned:!!i}));const s=yield wc((e=>a?Object(or.g)(Object(Va.h)(e),a):void 0)),l={currentlyAssignedUser:s,previouslyAssignedUser:yield wc((e=>r?Object(or.g)(Object(Va.h)(e),r):void 0)),assignmentTime:n};a&&(yield Ic(Object(Cn.c)({conversationId:t,additional:l,action:Gr.a.AGENT_ASSIGNED})))}}catch(r){Object(ht.b)(r)}var a}function*Tb(e){try{const{conversationId:t,messagePayload:n,creationTime:a}=e,r=n.events;yield Ec(r.map((e=>Sc(Cb,e,t,a))))}catch(t){Object(ht.b)(t)}}function*Sb(e){try{const t=e.data;Object(Ys.f)(t)&&(yield Ec([Sc(Tb,t)]))}catch(t){Object(ht.b)(t)}}const _b=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t),clear:()=>e.clear()}})(),Ab=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...yl()(t)]},clear:()=>{e=[]}}})();function xb(e){return e.type===Xe}function wb(e){return e.type===et}function Nb(e){return e.type===tt}function*Rb(e){try{const{data:t}=e;if(t){yield Sc(Sb,e);const n=yield wc(Va.h),a=Object(vu.e)(n,qs.a.getSender(t));yield Ic(Object(gu.g)(t,a))}}catch(t){Object(ht.b)(t)}}function*Lb(e){try{const t=e.filter(xb);yield Ec(t.map((e=>Sc(Rb,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(qs.a.getId(n)),e}),[]);u()(n)||(yield Sc(Xs.q,n))}catch(t){Object(ht.b)(t)}}function*Pb(e){try{const t=e.filter(wb);if(!t.length)return;yield Sc(mb,t)}catch(t){Object(ht.b)(t)}}function*Mb(e){try{const t=e.filter(Nb);if(!t.length)return;yield Sc(Ib,t)}catch(t){Object(ht.b)(t)}}function*Db(e){try{yield Ec([Sc(Lb,e),Sc(Pb,e),Sc(Mb,e)])}catch(t){Object(ht.b)(t)}}function*kb(e){try{const{id:t,data:n}=e;if(_b.add(t),ki()(Ab.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(pr()(Ab.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=Si()(Ab.get(),((e,t)=>_b.has(t.id)&&u()(e.unresolvedEvents)?(_b.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});Ab.set(t),yield _c(Db,e)}}catch(t){Object(ht.b)(t)}}function*Ub(e){try{if(xb(e)){const t=yield Sc(Id,e);yield Sc(kb,{id:e.id,data:t})}}catch(t){Object(ht.b)(t)}}function*Fb(e){try{if(wb(e)){const t=hb()(e.payload,["conversationId","sender"]);yield Sc(Il,t),yield Sc(kb,{id:e.id,data:{}})}}catch(t){Object(ht.b)(t)}}function*Bb(e){try{Nb(e)&&(yield Sc(kb,{id:e.id,data:{}}))}catch(t){Object(ht.b)(t)}}function*Gb(e){try{yield Ec([Sc(Ub,e),Sc(Fb,e),Sc(Bb,e)])}catch(t){Object(ht.b)(t)}}function*$b(e){try{Ab.push(e),yield Ec(e.map((e=>_c(Gb,e))))}catch(t){Object(ht.b)(t)}}var Vb=n(948),Hb=n.n(Vb);function Wb(e){return e.type===Ze}function zb(e){return e.type===ct}function qb(e){return e.type===Je}function Kb(e){return e.type===Qe}function Yb(e){return e.type===rt}function*Xb(e){try{yield Ec(e.filter(Kb).map((e=>Sc(Ed,e))))}catch(t){Object(ht.b)(t)}}function*Zb(e){try{yield Ec(e.filter(Wb).map((e=>Sc(Cd,e))))}catch(t){Object(ht.b)(t)}}function*Qb(e){try{yield Ec(Hb()(e.filter(qb).map((e=>[Sc(El,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),Ic(Object(Cn.c)({conversationId:e.payload.conversationId,action:Gr.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(ht.b)(t)}}function*Jb(e){try{yield Ec(e.filter(Yb).map((e=>Sc(Td,e))))}catch(t){Object(ht.b)(t)}}function*ef(e){try{yield Ec(e.filter(zb).map((e=>Sc(Sd,e))))}catch(t){Object(ht.b)(t)}}function*tf(e){try{yield Ec([Sc(Xb,e),Sc(Zb,e),Sc(Qb,e),Sc(Jb,e),Sc(ef,e)])}catch(t){Object(ht.b)(t)}}const nf=[Xe,et,tt];function*af(e){try{const{events:t}=e.payload;let n=[],a=[];ki()(t,(e=>{db()(nf,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:fb()()})]:a=[...a,e]})),yield Sc($b,n),yield Sc(tf,a)}catch(t){Object(ht.b)(t)}}function*rf(){try{yield ws(Ns.k,af)}catch(e){Object(ht.b)(e)}}function*of(){try{yield mc(ms.c),_b.clear(),Ab.clear()}catch(e){Object(ht.b)(e)}}function*cf(){try{yield Ec([_c(rf),_c(of)])}catch(e){Object(ht.b)(e)}}var sf=n(388);const lf=e=>{const t=$t.a.getNoDisplayConfigFilter(e);return!u()(t)&&Object(zi.d)(t,sf.a.IS_CONVERSATION_OPEN)};function*uf(e){try{const t=yield wc(Va.c),n=Object(Tr.q)(t);if(!Object(Tr.b)(n))return;yield Ic(Object(gu.b)({shouldFetchNumberOfOpenConversation:lf(e.applicationConfig),size:n.ids.length}))}catch(t){Object(ht.b)(t)}}function*df(){try{const e=yield wc(Va.c),t=Object(Tr.q)(e),n=Object(Tr.o)(e),a=Si()(n,((e,n,a)=>{const r=n.messages;if(!a.startsWith(su.e)&&Object(Tr.a)(r)&&!Object(Tr.A)(t,a)){const t=Object(gu.c)(a,{size:Object(Tr.l)(r).length})();e.push(Ic(t))}return e}),[]);a.length&&(yield Ec(a))}catch(e){Object(ht.b)(e)}}function*bf(e){yield Ec([_c(uf,e),_c(df)])}function*ff(){const{payload:{applicationConfig:e}}=yield mc(ms.a);yield ws(Ns.l,bf,{applicationConfig:e})}function*pf(){try{yield Ec([_c(eb),_c(lb),_c(cf),_c(ff)])}catch(e){Object(ht.b)(e)}}function*hf(e){try{const t=e.payload,n=Object(or.c)(yield wc(Va.h));yield Sc(vl.d,Object.assign(Object.assign({},n),{customContext:t})),yield Ic(Object(Cn.c)({action:Gr.a.USER_PROFILE_UPDATED}))}catch(t){Object(ht.b)(t)}}function*Of(){try{yield ws(M.f,hf)}catch(e){Object(ht.b)(e)}}function*yf(e){try{const t=e.payload,n=yield Sc(vl.c,t);e.promise.resolve(n);const a=n.results;yield Ic({type:M.g,payload:{users:a}})}catch(t){e.promise.reject(t),Object(ht.b)(t)}}function*vf(){try{yield ws(M.d,yf)}catch(e){console.error(e)}}function*gf(e){try{const{userId:t}=e.payload,n=yield Sc(vl.a,t);e.promise.resolve(n),yield Ic({type:M.g,payload:{users:[n]}})}catch(t){e.promise.reject(t),Object(ht.b)(t)}}function*jf(){try{yield ws(M.b,gf)}catch(e){Object(ht.b)(e)}}function*mf(){try{yield Ec([_c(Of),_c(vf),_c(jf)])}catch(e){Object(ht.b)(e)}}var If=n(599),Ef=n(543);function Cf(e){return e.type===it}function Tf(e){return e.type===ot}function Sf(e){return e.type===lt}function _f(e){return e.type===ut}function Af(e){return e.type===st}function xf(e){return e.type===pt}function*wf(e){try{const t=Object(or.c)(yield wc(Va.h));yield Ec(e.filter(Cf).map((e=>{var n,a;const r=e.payload.participantInfos.find((e=>e.snId===t.userId)),i=e.payload.type,o=null!==(n=null===r||void 0===r?void 0:r.callMode)&&void 0!==n?n:Object(Hu.b)(i),c=null!==(a=null===r||void 0===r?void 0:r.permissions)&&void 0!==a?a:Object(Hu.c)(o);return Ic(Object(Fu.o)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,callMode:o,permissions:c,participantInfos:e.payload.participantInfos,type:i}))})))}catch(t){Object(ht.b)(t)}}function*Nf(e){try{const t=yield wc(Va.b);yield Ec(e.filter(Tf).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:r}=Object(If.a)(t,e.payload.videoConversationId),i=a&&n.state===Wa.f.WAITING;if((a||r)&&!Object(Hu.e)({isIncomingCall:a,state:n.state}))return Ic(i?Object(Fu.q)({videoConversationId:e.payload.videoConversationId}):Object(Fu.m)({callDetails:n,isIncomingCall:a,notifyAgent:!1,notifyUser:!0,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(ht.b)(t)}}function*Rf(e){try{const t=yield wc(Va.b);yield Ec(e.filter(_f).map((e=>{const{callDetails:n,isIncomingCall:a,isOutgoingCall:r}=Object(If.a)(t,e.payload.videoConversationId);if((a||r)&&!Object(Hu.e)({isIncomingCall:a,state:n.state}))return Ic(Object(Fu.h)({isIncomingCall:a,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e)))}catch(t){Object(ht.b)(t)}}function*Lf(e){try{const t=yield wc(Va.b),n=e.filter(Sf).map((e=>{const{callDetails:n,isOutgoingCall:a}=Object(If.a)(t,e.payload.videoConversationId);if(a&&!Object(Hu.e)({isIncomingCall:!1,state:n.state}))return Ic(Object(Fu.c)({isIncomingCall:!1,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((e=>e));yield Ec(n)}catch(t){Object(ht.b)(t)}}function*Pf(e){try{yield Ec(e.filter(Af).map((e=>Ic(Object(Fu.v)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(ht.b)(t)}}function*Mf(e){try{yield Ec(e.filter(xf).map((e=>Ic({type:Ef.x,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions,callMode:e.payload.callMode}}))))}catch(t){Object(ht.b)(t)}}function*Df(e){try{const{events:t}=e.payload;yield Ec([Sc(Nf,t),Sc(wf,t),Sc(Lf,t),Sc(Pf,t),Sc(Rf,t),Sc(Mf,t)])}catch(t){Object(ht.b)(t)}}function*kf(){try{yield ws(Ns.k,Df)}catch(e){Object(ht.b)(e)}}function Uf(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return(yield js.a.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function Ff(e){let{videoConversationId:t}=e;return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return js.a.post(`video-chat/conversation/leave/${t}`)}))}function Bf(e){let{conversationId:t,audioOnly:n,messageText:a,sourceButtonId:r,postBackChatMessageId:i,shouldWaitForConnection:o,videoConversationId:c,activityEventType:s}=e;return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return(yield js.a.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:a,clickedButtonId:r,postBackChatMessageId:i,shouldWaitForConnection:o,videoChatConversationId:c,activityEventType:s})).data}))}function Gf(e){let{videoConversationId:t,meetingId:n}=e;return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return(yield js.a.post(`video-chat/conversation/participant/connected/${t}?meetingId=${n}`)).data}))}function $f(e){return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return(yield js.a.post(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function Vf(e){let{videoConversationId:t,reason:n,subReason:a}=e;return Object(zs.__awaiter)(this,void 0,void 0,(function*(){return(yield js.a.post(`video-chat/conversation/callFailed/${t}`,{reason:n,subReason:a})).data}))}var Hf=n(681);function*Wf(e,t,n){const a=yield wc(Va.c),r=Object(Vu.b)(a,e,t);r&&(yield Sc(dl,{chatMessage:r,conversationId:e,params:{state:n}}))}function*zf(e){try{const{notifyAgent:t,notifyUser:n,callDetails:a,videoConversationId:r,isIncomingCall:i}=e.payload,o=a.conversationId;if(yield Ic(Object(Cn.c)({conversationId:o,action:Gr.a.CALL_ENDED,additional:{videoConversationId:r,userInitiated:!n}})),yield Sc(Wf,o,r,Hf.a.CALL_ENDED),!t)return;if(!i&&!a.hasInitiateSucceeded&&a.state===Wa.h.WAITING){if((yield mc(Object(Vu.g)(r))).type===Ef.e)return}if(i&&a.state===Wa.f.ACCEPTED){if((yield mc(Object(Vu.c)(r))).type===Ef.e)return}yield Sc(Ff,{videoConversationId:r})}catch(t){Object(ht.b)(t)}}function*qf(e){try{e.payload.isOutgoingWaiting&&(yield Sc(zf,e)),yield Ic({type:Ie.ab,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(ht.b)(t)}}function*Kf(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:a}=e.payload,r=yield wc(Va.b),i=Object(Ha.f)(r),o=i.messageId;if(o&&t===o&&n!==i.sourceButtonId){const e=yield wc(Va.c),n=Object(Tr.k)(Object(Tr.m)(e,a),t);n&&!Ks.a.getAttachment(qs.a.getMessagePayload(n)).reSubmittable&&(yield Ic(Object(Fu.m)({notifyAgent:!0,notifyUser:!1,callDetails:i,isIncomingCall:!1,videoConversationId:i.videoConversationId})))}}catch(t){Object(ht.b)(t)}}function*Yf(e){try{yield Ic(Object(Fu.r)({conversationId:e.payload.conversationId,controls:Object(Vu.h)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:fb.a.v4()}))}catch(t){Object(ht.b)(t)}}function*Xf(e){let{error:t,videoConversationId:n,reason:a,isIncomingCall:r}=e;const i=yield wc(Va.b),o=r?Object(Ha.d)(i):Object(Ha.f)(i);if(!u()(o)&&o.videoConversationId===n&&!Object(Hu.e)({isIncomingCall:r,state:o.state})&&Object(On.f)(t)){const e=s()(t,"response.data.error");if(e===Wa.a.CALL_ALREADY_ENDED)return void(yield Ic({type:Ef.c,payload:{videoConversationId:n,notifyAgent:!1,notifyUser:!0,callDetails:o,isIncomingCall:r}}));yield Ic({type:Ef.e,payload:{videoConversationId:n,reason:a,subReason:e}})}}function*Zf(e){try{const{videoConversationId:t}=e.payload;yield Ic(Object(Fu.b)({videoConversationId:t,controls:Object(Vu.h)(e.payload.isPhone)}));const n=yield Sc(Uf,{videoConversationId:t,shouldWaitForConnection:!0});yield Ic({type:Ef.x,payload:{callMode:n.participant.callMode,participantPermissions:n.participant.permissions,participantInfos:n.conversation.participantInfos,videoConversationId:n.conversation.id}}),yield Ic(Object(Fu.u)({videoConversationId:t}))}catch(t){Object(ht.b)(t),yield Sc(Xf,{videoConversationId:e.payload.videoConversationId,isIncomingCall:!0,error:t,reason:Wa.e.ACCEPT_FAILED})}}function*Qf(e){let t;try{const{videoConversationId:n}=e.payload,a=yield wc(Va.b),r=Object(Ha.f)(a),i=r.messageId,o=r.conversationId,c=Object(Ha.h)(a,n);if(yield Ic(Object(Cn.c)({conversationId:o,action:c?Gr.a.AUDIO_CALL_OUTGOING_STARTING:Gr.a.VIDEO_CALL_OUTGOING_STARTING,additional:{videoConversationId:n}})),i){const e=yield wc(Va.c);t=Object(Tr.k)(Object(Tr.m)(e,o),i),yield Sc(dl,{chatMessage:t,conversationId:o,params:{buttonId:r.sourceButtonId}})}const s=yield Sc(Bf,{conversationId:o,audioOnly:c,messageText:r.messageText,sourceButtonId:r.sourceButtonId,postBackChatMessageId:i,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield Ic({type:Ef.x,payload:{agentWaitTime:s.conversation.agentWaitTime,callMode:s.participant.callMode,participantInfos:s.conversation.participantInfos,participantPermissions:s.participant.permissions,videoConversationId:s.conversation.id}})}catch(n){t&&(yield Ic({type:Ie.J,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),yield Sc(Xf,{videoConversationId:e.payload.videoConversationId,reason:Wa.g.INITIATE_FAILED,error:n,isIncomingCall:!1}),Object(ht.b)(n)}}function*Jf(e){try{const{conversationId:n,type:a,isPhone:r,prevState:i,videoConversationId:o,participantInfos:c,participantPermissions:s,callMode:l}=e.payload,d=yield wc(Va.b),b=Object(Ha.c)(d);if(Object(Vu.i)({callDetails:b}))return;const f=a===Wa.c.AUDIO,p=Object(Vu.d)(i);yield Ic(Object(Cn.c)({conversationId:n,action:Object(Vu.e)(f,p),additional:{videoConversationId:o}})),yield Ic(Object(Fu.s)({conversationId:n,videoConversationId:o,state:p?Wa.f.ACCEPTED:Wa.f.SETUP,controls:Object(Vu.h)(r),type:a,participantPermissions:s,callMode:l,participantInfos:c}));let h=yield Sc($f,n);if(u()(h))return void(yield Ic({type:Ef.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0,isIncomingCall:!0}}));if(yield Ic({type:Ef.x,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,participantInfos:h.conversation.participantInfos,videoConversationId:h.conversation.id}}),p){try{h=yield Sc(Uf,{videoConversationId:h.conversation.id,shouldWaitForConnection:!0}),yield Ic({type:Ef.x,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,participantInfos:h.conversation.participantInfos,videoConversationId:h.conversation.id}})}catch(t){return Object(ht.b)(t),void(yield Sc(Xf,{videoConversationId:e.payload.videoConversationId,reason:Wa.e.ACCEPT_FAILED,error:t,isIncomingCall:!0}))}yield Ic(Object(Fu.u)({videoConversationId:h.conversation.id}))}}catch(t){return Object(ht.b)(t),void(yield Sc(Xf,{videoConversationId:e.payload.videoConversationId,reason:Wa.e.REJOIN_FAILED,error:t,isIncomingCall:!0}))}}function*ep(e){try{const{conversationId:t,type:n,isPhone:a,prevState:r,videoConversationId:i,participantInfos:o,participantPermissions:c,callMode:s}=e.payload,l=yield wc(Va.b),d=Object(Ha.c)(l);if(Object(Vu.i)({callDetails:d}))return;const b=n===Wa.c.AUDIO;yield Ic(Object(Cn.c)({conversationId:t,action:Object(Vu.e)(b),additional:{videoConversationId:i}})),yield Ic(Object(Fu.t)({conversationId:t,videoConversationId:i,state:Object(Vu.f)(r),controls:Object(Vu.h)(a),type:n,participantPermissions:c,callMode:s,participantInfos:o}));const f=yield Sc($f,e.payload.conversationId);if(u()(f))return void(yield Ic({type:Ef.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0}}));yield Ic({type:Ef.x,payload:{agentWaitTime:f.conversation.agentWaitTime,callMode:f.participant.callMode,participantPermissions:f.participant.permissions,participantInfos:f.conversation.participantInfos,videoConversationId:f.conversation.id}})}catch(t){Object(ht.b)(t),yield Sc(Xf,{videoConversationId:e.payload.videoConversationId,reason:Wa.g.REJOIN_FAILED,error:t,isIncomingCall:!1})}}function*tp(e){try{const t=e.payload,{isIncomingCall:n}=t,a=Object(zs.__rest)(t,["isIncomingCall"]);n?yield Ic(Object(Fu.f)(a)):yield Ic(Object(Fu.k)(a))}catch(t){Object(ht.b)(t)}}function*np(e){const t=yield wc(Va.b),{videoConversationId:n}=e.payload,{isOutgoingCall:a}=Object(If.a)(t,n);try{const t=a?Fu.l:Fu.g;yield Ic(t({videoConversationId:n})),yield Sc(Gf,e.payload)}catch(r){yield Sc(Xf,{videoConversationId:n,reason:a?Wa.g.JOIN_FAILED:Wa.e.JOIN_FAILED,error:r,isIncomingCall:!a}),Object(ht.b)(r)}}function*ap(e){try{const t=yield wc(Va.b),{callDetails:n,isIncomingCall:a}=Object(If.a)(t,e.payload.videoConversationId);if(n.reason&&n.reason!==e.payload.reason)return;const r=n.conversationId,i=n.videoConversationId;if(yield Ic(Object(Cn.c)({conversationId:r,action:Gr.a.CALL_FAILED,additional:{videoConversationId:e.payload.videoConversationId}})),yield Sc(Wf,r,i,Hf.a.CALL_FAILED),!a&&!n.hasInitiateSucceeded){if((yield mc(Object(Vu.g)(i))).type===Ef.e)return}yield Sc(Vf,{videoConversationId:e.payload.videoConversationId,reason:e.payload.reason,subReason:e.payload.subReason})}catch(t){Object(ht.b)(t)}}function*rp(e){try{const{isIncomingCall:t,conversationId:n,videoConversationId:a}=e.payload;yield Ic(Object(Cn.c)({conversationId:n,action:Gr.a.CALL_DECLINED,additional:{videoConversationId:a,userInitiated:t}})),yield Sc(Wf,n,a,Hf.a.CALL_DECLINED),yield Sc(Ff,{videoConversationId:a})}catch(t){Object(ht.b)(t)}}function*ip(e){try{const{conversationId:t,videoConversationId:n,isIncomingCall:a}=e.payload;yield Ic(Object(Cn.c)({conversationId:t,action:Gr.a.CALL_MISSED,additional:{videoConversationId:n,userInitiated:a}})),yield Sc(Wf,t,n,Hf.a.CALL_MISSED)}catch(t){Object(ht.b)(t)}}function*op(){try{yield ws(Ef.g,Zf),yield ws(Ef.c,zf),yield ws(Ef.o,Yf),yield ws(Ef.u,Qf),yield ws(Ef.d,qf),yield ws(Ef.v,tp),yield ws(Ef.k,Jf),yield ws(Ef.r,ep),yield ws(Ie.c,Kf),yield ws(Ef.y,np),yield ws(Ef.e,ap),yield ws(Ef.b,rp),yield ws(Ef.n,ip)}catch(e){Object(ht.b)(e)}}function*cp(){yield Ec([_c(kf),_c(op)])}function sp(e){return e.type===dt}function*lp(){try{const e=yield wc(Va.f);u()(e)||(yield Ic(Object(ir.g)()))}catch(e){Object(ht.b)(e)}return null}function*up(e){try{const{events:t}=e.payload;yield Ec(t.filter(sp).map((e=>{const{status:t}=e.payload;return"LIVE"===t?Sc(lp):"COMPLETED"===t?Ic(Object(ir.c)({endedByAgent:!0})):null})))}catch(t){Object(ht.b)(t)}}function*dp(){try{yield ws(Ns.k,up)}catch(e){Object(ht.b)(e)}}function*bp(){yield Ec([_c(Ql),_c(dp)])}function fp(e){return e.type===bt}function*pp(e){yield Ec(e.filter(fp).map((e=>Ic({type:Pe,payload:e.payload}))))}function*hp(e){try{const{events:t}=e.payload;yield Ec([Sc(pp,t)])}catch(t){Object(ht.b)(t)}}function*Op(){yield ws(Ns.k,hp)}var yp=n(665);const vp=new yp.a,gp=e=>Object(zs.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:a=$.a,actionIdentifier:r,requestId:i}=e.params;let o,c;try{const u="POST"===t||"PUT"===t?yield vp[t.toLowerCase()](n,a,{withCredentials:!0}):yield vp[t.toLowerCase()](n,{withCredentials:!0});o=u.request.status,c=u.request.responseText}catch(u){Object(ht.b)(u),Object(On.f)(u)?(o=u.request.status,c=u.request.responseText):(o=500,c="")}finally{yield(s={status:o,responseText:c,actionIdentifier:r,requestId:i},l=e.conversationId,js.a.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),jp=e=>js.a.post("/livechat/cart/update-cart",e),mp=e=>js.a.post("/livechat/cart/remove-from-cart",e);function*Ip(e){try{const{type:t,params:n,conversationId:a}=e.payload;"HTTP_REQUEST"===t&&(yield Sc(gp,{params:n,conversationId:a}))}catch(t){Object(ht.b)(t)}}function*Ep(){yield ws(Pe,Ip)}const Cp={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},Tp={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Cp,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Sp={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Cp,quantity:{type:"number"}}}}};function*_p(e){try{const n=(t=e.payload,Object($e.a)(t,Tp));if(n)return void Object(h.a)("Invalid payload passed to update cart, please check",n);yield Sc(jp,e.payload)}catch(n){Object(ht.b)(n)}var t}function*Ap(){yield ws(Me,_p)}function*xp(e){try{const n=(t=e.payload,Object($e.a)(t,Sp));if(n)return void Object(h.a)("Invalid payload passed to remove from cart, please check",n);yield Sc(mp,e.payload)}catch(n){Object(ht.b)(n)}var t}function*wp(){yield ws(De,xp)}function*Np(){yield Ec([_c(Op),_c(Ep),_c(Ap),_c(wp)])}function*Rp(){try{yield Ec([_c(Fs),_c(pf),_c(mf),_c(cp),_c(bp),_c(Np)])}catch(e){Object(ht.b)(e)}}function*Lp(){try{const e=yield _c(Rp);yield mc(ms.c),yield xc(e)}catch(e){Object(ht.b)(e)}}n(39);var Pp=n(457),Mp=n(606);function Dp(e,t){const n=Object(Mp.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const a=s()(n.params,"conversationId"),r=s()(n.params,"transientId");return"all"===a?{isConversationPath:!1,matchedConversationId:void 0}:"new"===a?{isConversationPath:!0,matchedConversationId:t?t.slice(1):r}:{isConversationPath:!0,matchedConversationId:a}}function*kp(){try{const e=Object(or.e)(yield wc(Mn.g));return{...Object(zt.a)(),locale:e}}catch(e){return void Object(ht.b)(e)}}var Up=n(940);function*Fp(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=Object(or.d)(yield wc(Mn.g)),r=yield wc(Mn.c),i=Object(Tr.g)(r.conversations,t);if(i){const e=Wi()(i.defaultMessages,"id"),r=qs.a.getId(n);if(e.includes(r))return void(yield Ic({type:Ie.P,payload:{conversationId:t,lastReadMessageId:r}}));if(function(e,t){return!(qs.a.getSender(e)===t)&&!Object(Ys.f)(e)}(n,a)){const{isConversationPath:e,conversationId:n}=yield wc(Pp.c),a=yield wc(Mn.b),{isMinimized:r}=a,o=Object(ve.b)(),c=!!e,s=!u()(i);(Object(b.E)()?s&&t===n:s)&&(yield Ic({type:Ie.Q,payload:{conversationId:t,count:1}}),r&&!c&&o.push(`/conversation/${t}`))}}}catch(t){Object(ht.b)(t)}}function*Bp(){try{yield ws(Ie.E,Fp)}catch(e){Object(ht.b)(e)}}function*Gp(e){try{var t;const n=Object(Jt.b)();Object(Jt.c)(n)?n.open(Object(qt.c)(e.payload.url),e.payload.target):window.open(Object(qt.c)(e.payload.url)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(ht.b)(a)}}function*$p(){try{yield ws(Ie.R,Gp)}catch(e){Object(ht.b)(e)}}function*Vp(e){try{var t;window.open(Object(qt.b)(e.payload.phoneNumber)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){var n;null===(n=e.promise)||void 0===n||n.reject(),Object(ht.b)(a)}}function*Hp(){try{yield ws(Ie.p,Vp)}catch(e){Object(ht.b)(e)}}function*Wp(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:a}=e.payload,r=Object(ve.b)(),i=Object(b.F)()||Object(b.K)()?`${t}&showCancel=true`:t,o=`/survey/${encodeURIComponent(`${i}&hideThankYouPage=true`)}`;return n?r.replace(o):r.push(a?`/conversation/${a}${o}`:o)}catch(t){return void Object(ht.b)(t)}}function*zp(){try{yield ws(Ie.V,Wp)}catch(e){Object(ht.b)(e)}}function*qp(e){try{const{deleted:n,closed:a,surveyUrl:r,conversationId:i}=e.payload;try{if(n||a){const e=Object(ve.b)(),{matchedConversationId:t}=Dp(e.location.pathname,e.location.hash),a=n&&!!i&&t===i&&!Object(b.F)();r?yield Ic(Object(Zs.n)({surveyUrl:r,shouldReplace:a,conversationId:i})):a&&e.goBack()}}catch(t){Object(ht.b)(t)}}catch(t){Object(ht.b)(t)}}function*Kp(){try{yield ws(Ie.j,qp)}catch(e){Object(ht.b)(e)}}function*Yp(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield mc(ms.a);if(t){if(Object(b.J)()){const e=Object(b.i)();yield Ic(Object(Zs.b)({conversationId:e}))}if(Object(b.I)()){const e=Object(b.h)(),t=Object(b.e)(e),n=yield Sc(kp);yield Ic(Object(Zs.a)(e,t,n))}yield Rc(1e3),yield Ic(Object(Zs.g)())}}catch(e){Object(ht.b)(e)}}function*Xp(e){try{const{payload:t,promise:n}=e,{conversationId:a}=t;yield Sc(Up.b,a),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(ht.b)(t)}}function*Zp(){try{yield ws(Ie.o,Xp)}catch(e){Object(ht.b)(e)}}function*Qp(e){try{const t=yield wc(Mn.g),n=Object(or.d)(t),a=yield wc(Mn.c),r=((e,t,n)=>{if(n)return[{conversationId:n,count:Object(Pp.b)(e[n],t)}];return Si()(e,((e,n)=>{const a=Object(Pp.b)(n,t);return e.push({conversationId:n.id,count:a}),e}),[])})(Object(Tr.q)(a).byId,n,e);u()(r)||(yield Ic({type:Ie.O,payload:r}))}catch(t){console.warn(t)}}function*Jp(){try{if(Object(b.E)()){if(Object(b.M)())for(;;){yield mc(Ie.g);const{conversationId:e}=yield wc(Pp.c);yield Sc(Qp,e)}if(Object(b.J)()||Object(b.I)()){yield Cc([mc(Ie.t),mc(Ie.u),mc(Ie.w),mc(Ie.x)]);const{conversationId:e}=yield wc(Pp.c);return void(yield Sc(Qp,e))}return}if(Object(b.J)()||Object(b.I)())return yield Ec([Cc([mc(Ie.t),mc(Ie.w),mc(Ie.u),mc(Ie.x)]),mc(Ie.g)]),void(yield Sc(Qp));if(Object(b.O)()||Object(b.L)()||Object(b.M)())for(;;)yield mc(Ie.g),yield Sc(Qp)}catch(e){Object(ht.b)(e)}}function*eh(){try{yield Ec([_c(Yp),_c(Bp),_c($p),_c(Hp),_c(Zp),_c(zp),_c(Kp),_c(Jp)])}catch(e){Object(ht.b)(e)}}function*th(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==Nu.i&&n.type!==Nu.j)return;const a=yield wc(Mn.c),r=Object(Tr.e)(Object(Tr.w)(a));e.type===Nu.i&&(yield Sc(Ht.n,e.payload.contextId||r,e.payload.abortedProcessContext,[])),e.type===Nu.j&&(yield Sc(Ht.k,e.payload.contextId||r))}catch(a){Object(ht.b)(a)}var n}function*nh(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Sc(Ht.f,t);if(a){const e=Ks.a.getAttachment(qs.a.getMessagePayload(n));if(Object(Qt.c)(qs.a.getSender(n))&&e&&Object(zu.d)(e)){const e=qs.a.getId(n),r=a.messageIds;yield Sc(Ht.n,t,a.context,[...r,e])}}}catch(t){Object(ht.b)(t)}}function*ah(e){try{const{conversationId:t,chatMessage:n}=e.payload,a=yield Sc(Ht.f,t);a&&(yield Sc(Ht.n,t,a.context,[]))}catch(t){Object(ht.b)(t)}}function*rh(){yield ws(Ie.E,nh)}function*ih(){yield ws(Ie.H,ah)}function*oh(e){try{const t=yield Sc(Ht.f,e);t&&(yield Ec(t.messageIds.map((e=>Sc(Xs.p,e)))),yield Sc(Xs.v,{context:t.context,conversationId:e}),yield Sc(Ht.k,e))}catch(t){Object(ht.b)(t)}}function*ch(e){try{const{results:t}=e.payload.conversationResponse;yield Ec(t.map((e=>Sc(oh,e.id))))}catch(t){Object(ht.b)(t)}}function*sh(){yield ws(Ie.g,ch)}function*lh(){yield Ec([_c(rh),_c(ih),_c(sh)])}var uh=n(399),dh=n.n(uh),bh=n(365),fh=n.n(bh),ph=n(813),hh=n(675);const Oh=e=>t=>t.type===Ie.w&&s()(t,"payload.conversationResponse.externalCaseId")===e,yh=e=>t=>t.type===Ie.x&&s()(t,"payload.externalCaseId")===e;function*vh(){try{const e=yield wc(Mn.b),{isMinimized:t}=e;t&&(yield Ic({type:G.d,payload:{}}))}catch(e){Object(ht.b)(e)}}function*gh(){try{const e=yield wc(Mn.c),t=Object(Tr.e)(Object(Tr.w)(e)),n=yield Sc(ve.b),a=`/conversation/${t}`,{isConversationPath:r}=Dp(n.location.pathname,n.location.hash);r?n.replace(a):n.push(a),yield Sc(vh)}catch(e){Object(ht.b)(e)}}function*jh(){try{yield mc(Ie.g),yield Sc(gh)}catch(e){Object(ht.b)(e)}}function*mh(e){let{initialMessages:t,conversationContext:n,createCase:a,additional:r,assignToUser:i,conversationId:o,applicationConfig:c}=e;try{const e=yield wc(Mn.g),s=Object(or.d)(e);let l,d;const b=fh()(t,(e=>{const t=nu()(e)?e:e.message;return!u()(vn()(t))}));if(u()(b))if(u()(t)&&se()(t))d=!0,l=[];else{const e=yield wc(Mn.c),t=Object(Tr.m)(e,su.e);l=Object(Tr.l)(t),d=Object(Tr.y)(t)}else{const e=(e=>e.map((e=>nu()(e)?{message:{text:e},isSentByUser:!1}:nu()(e.message)?{...e,message:{text:e.message}}:e)))(b),t=yield al();l=Gs()(e.map(((e,n)=>{if(!e.isSentByUser)return e.message.text?pu(e.message.text,o,`${n}`,e.message.disableManualResponse):void 0;const{maskedText:a,maskedValues:r}=Object(ph.a)({text:e.message.text,maskingConfigs:c.maskingConfigs});return t.makeTextMessage({text:a||"",conversationId:o,sender:s,maskingDetails:r,disableManualResponse:e.message.disableManualResponse})}))),d=!0}yield Ic({type:Ie.K,payload:{conversationId:o,messages:l,conversationContext:n,hasInitialItems:d,createCase:a,assignToUser:i,additional:r}})}catch(s){throw Object(ht.b)(s),s}}function*Ih(e,t){const{payload:{silent:n},promise:a}=t;try{let r=yield wc((e=>e));const i=$t.a.getCustomizationConfig(e),o=(e,t)=>s()(e,t),c=Object(Tr.q)(Object(Mn.c)(r));me()(Object(Tr.v)(c))&&(yield Ic({type:Ie.C,payload:{}}),yield mc(Ie.bb),r=yield wc((e=>e)));const{isLocked:l}=Object(Pp.e)(r,i,o);if(l){if(!n){const e=Object(Tr.b)(c);yield Sc(e?gh:jh)}throw _t.a.LIMIT_REACHED}const u=`${su.e}_${dh()()}`;yield Sc(mh,{...t.payload,conversationId:u,applicationConfig:e});const d=yield Sc(kp);if(n&&(yield Ic({type:Ie.L,payload:{conversationId:u,appContext:d},promise:a})),!n){const e=Object(ve.b)(),{isConversationPath:t}=Dp(e.location.pathname,e.location.hash),n=`/conversation/new/${u}`;!!t?e.replace(n):e.push(n),yield Sc(vh)}}catch(r){a&&a.reject(hu(r)),Object(ht.b)(r)}}function*Eh(e){const{payload:t,promise:n}=e;let a,r;try{let e=yield wc(Mn.c),i=Object(Tr.q)(e);if(a=t.conversationId,r=t.externalCaseId,!a)if(Object(Tr.b)(i)||(yield mc(Ie.g),e=yield wc(Mn.c),i=Object(Tr.q)(e)),r){if(a=Object(Tr.d)(Object(Tr.w)(e),r),!a&&e.conversations.hasMore){yield Ic(Object(Zs.b)({externalCaseId:r}));const[t,n]=yield Cc([mc(Oh(r)),mc(yh(r))]);if(n)throw n.payload.error;a=s()(t,"payload.conversationResponse.id"),e=yield wc(Mn.c),i=Object(Tr.q)(e)}}else a=Object(Tr.e)(Object(Tr.w)(e));if(!a)return void(n&&n.reject(_t.a.NOT_FOUND));const o=Object(ve.b)(),{isConversationPath:c,matchedConversationId:l}=Dp(o.location.pathname,o.location.hash),d=!!c,f=`/conversation/${a}`;let p=a,h=[];if(l!==a){if(Object(b.C)(a)){const e=Object(b.f)(a),t=Object(b.e)(e),n=Object(Tr.j)(i,e);if(p=t,!db()(i.ids,n)){const n=yield Sc(kp);yield Ic(Object(Zs.a)(e,t,n)),h=[Ie.t,Ie.u]}}else db()(i.ids,a)||(yield Ic(Object(Zs.b)({conversationId:a})),h=[Ie.w,Ie.x]);for(;!u()(h);){const[e,t]=yield Cc([mc(h[0]),mc(h[1])]);if(p===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}d?o.replace(f):o.push(f),yield Sc(vh),n&&n.resolve(a)}catch(i){n?n.reject(hu(i)):Object(ht.b)(i)}finally{(yield gc(vc,{}))&&n&&n.reject(_t.a.UNEXPECTED_ERROR)}}function*Ch(){try{const{payload:{applicationConfig:e}}=yield mc(ms.a);yield ws(hh.c,Ih,e)}catch(e){Object(ht.b)(e)}}function*Th(){try{yield function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return _c.apply(void 0,[As,e,t].concat(a))}(hh.a,Eh)}catch(e){Object(ht.b)(e)}}var Sh=n(697);const _h={[ol.c.PROGRESS_BAR]:e=>e.status===Sh.a.ABORTED||e.status===Sh.a.ERROR},Ah=e=>{const t=e.messagePayload.attachment,n=t&&_h[t.type];return n&&n(t)};class xh{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=z()(this.queueItems,(t=>qs.a.getId(e.message)===qs.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const wh="EXTERNAL_MESSAGE_SEND";function*Nh(e){try{const{message:t,externalMessageId:n}=e,a=yield Sc(el,t);a&&(yield Ic({type:wh,payload:{id:n,message:a}}))}catch(t){Object(ht.b)(t)}}function*Rh(e){try{for(;;){const t=yield mc(e);Ah(t.message)||(yield Sc(Nh,t))}}catch(t){Object(ht.b)(t)}}let Lh;function*Ph(e,t){try{var n;Lh||(Lh=yield Sc(Zc,new xh),yield Ac(Rh,Lh));const a=yield wc(Mn.c),r=Object(Tr.e)(Object(Tr.w)(a)),i=yield wc(Mn.g),o=Object(or.d)(i),c=e.message.text,s=e.isSentByUser?Object(ph.a)({text:c,maskingConfigs:null===t||void 0===t?void 0:t.maskingConfigs}):{text:c},l=(yield al()).makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:{...e.message,text:null!==(n=s.maskedText)&&void 0!==n?n:s.text,maskingDetails:s.maskedValues},conversationId:e.contextId||r,messageContext:e.messageContext,sender:e.isSentByUser?o:su.b});if(!l)return;const u={externalMessageId:e.id,message:l};!e.sprMsgId||Ah(l)?yield _c(Nh,u):yield Ic(Lh,u);const{payload:{id:d,message:b}}=yield mc(wh);return{id:d,message:b}}catch(a){return void Object(ht.b)(a)}}function*Mh(e){let{action:t,applicationConfig:n}=e;try{if(t.payload.type!==Nu.e)return;const e=yield Sc(Ph,t.payload.payload,n);if(!e)return void Object(de.a)({topic:fe,payload:{error:R.a.INCORRECT_PAYLOAD,request:t.payload}});const{id:a,message:r}=e;yield Ic(Object(gu.m)({id:a,conversationId:null===r||void 0===r?void 0:r.conversationId,messageId:null===r||void 0===r?void 0:r.id})),Object(de.a)({topic:fe,payload:{data:{id:a,conversationId:null===r||void 0===r?void 0:r.conversationId,messageId:null===r||void 0===r?void 0:r.id},request:t.payload}})}catch(a){Object(ht.b)(a)}}function*Dh(e){let{action:t}=e;try{if(t.payload.type!==Nu.d)return;const{payload:e}=t.payload,n=(yield al()).makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:yl()(e.event)},conversationId:e.contextId,sender:su.b});if(!n)return;yield Sc(el,n)}catch(n){Object(ht.b)(n)}}var kh=n(792),Uh=n.n(kh),Fh=n(698),Bh=n.n(Fh);const Gh=/\$\{(\w+)\}/g,$h=(e,t)=>{const n=Object.keys(t);return Bh()(e,Gh,((e,a)=>n.includes(a)?t[a]:e))},Vh=(e,t)=>{const{totalUnits:n,completedUnits:a,action:r,status:i}=t,o=e[`progress.${r}.${i}.title`];return $h(o,{completedUnits:a,totalUnits:n})},Hh=(e,t)=>{const{totalUnits:n,completedUnits:a,action:r,status:i}=t,o=e[`progress.${r}.${i}.description`];return $h(o,{completedUnits:a,totalUnits:n})};class Wh{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=z()(this.queueItems,(t=>e.action.payload.contextId===t.action.payload.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}flush(){return this.queueItems}}const zh=(e,t)=>`${e}_${t}`,qh=Uh()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*Kh(e){for(;;)try{const{action:n,localeData:a}=yield mc(e),{payload:{contextId:r,id:i,data:o,progressContext:c}}=n,s={type:ol.c.PROGRESS_BAR,title:Vh(a,o),description:Hh(a,o),progress:o.progress,status:o.status,action:o.action,enableCancel:o.enableCancel,enableRetry:o.enableRetry},l={attachment:s,disableManualResponse:o.disableManualResponse},u=yield Sc(Ph,{contextId:r,id:i,sprMsgId:qh().get(zh(r,s.action)),message:l,messageContext:c});if(!u)return void Object(de.a)({topic:fe,payload:{error:R.a.INCORRECT_PAYLOAD,request:n}});const{id:d,message:b}=u;yield Ic(Object(gu.n)({id:d,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id})),Object(de.a)({topic:fe,payload:{data:{id:i,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id},request:n}}),(t=s).status!==Sh.a.COMPLETED&&(t.status!==Sh.a.ABORTED&&t.status!==Sh.a.ERROR||t.enableRetry)?qh().set(zh(r,s.action),null===b||void 0===b?void 0:b.id):qh().remove(zh(r,s.action))}catch(n){Object(ht.b)(n)}var t}let Yh;function*Xh(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==Nu.g)return;Yh||(Yh=yield Sc(Zc,new Wh),yield Ac(Kh,Yh)),yield Ic(Yh,{action:t.payload,localeData:n})}catch(a){Object(ht.b)(a)}}function*Zh(e,t,n){try{yield Ec([Sc(Mh,{action:n,applicationConfig:t}),Sc(Dh,{action:n}),Sc(Xh,{action:n,localeData:e}),Sc(th,{action:n})])}catch(a){Object(ht.b)(a)}}function*Qh(e,t,n){try{e&&(yield ws(e,Zh,t,n))}catch(a){Object(ht.b)(a)}}function*Jh(){try{const{payload:{applicationConfig:t}}=yield mc(ms.a),n=yield Nc(Ie.z);let a;for(;;)try{const{payload:{data:e}}=yield mc(M.c);a&&(yield xc(a)),a=yield _c(Qh,n,e,t)}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*eO(){const e=Object(d.a)();yield Object(Ht.h)(e.appId)}function*tO(){yield ws(G.f,eO)}var nO=n(545),aO=n(456);function*rO(e,t){let{payload:n,promise:a}=t;try{if(!u()(n))switch(n.landingScreen){case kr.a.KNOWLEDGE_BASE_LIST:{var r,i,o;const t=null!==(r=null===(i=e.cardConfigs)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.cards)&&void 0!==r?r:e.cards,n=Object(ve.b)(),c=null===t||void 0===t?void 0:t.find((e=>e.type===aO.a.KNOWLEDGE_BASE)),s=Br(n.location.pathname);if(!c)return void a.reject({error:_t.a.NOT_FOUND});s!==kr.a.KNOWLEDGE_BASE_LIST&&n.push(nO.b);break}default:return void a.reject({error:_t.a.NOT_FOUND})}Object(b.Q)()&&(yield Ic({type:G.d,payload:{}})),a.resolve(void 0)}catch(c){Object(ht.b)(c),a.reject({error:_t.a.UNEXPECTED_ERROR})}}function*iO(){try{const{payload:{applicationConfig:e}}=yield mc(ms.a);yield ws(G.l,rO,e)}catch(e){Object(ht.b)(e)}}function*oO(){try{yield Ec([_c(Ch),_c(Th),_c(Jh),_c(tO),_c(iO)])}catch(e){Object(ht.b)(e)}}const cO=e=>{const t=Object(Tr.q)(Object(Mn.c)(e));return{totalCount:Object(Tr.x)(t),byExternalCaseIds:Object(Tr.t)(t)}};function*sO(){try{let t=yield wc(cO);for(;;)try{yield Cc({notificationReceived:mc(Ie.Q),notificationRead:mc(Ie.P),notificationsReceived:mc(Ie.O)});const e=yield wc(cO);t.totalCount!==e.totalCount&&(Object(de.a)({topic:Q.m,payload:{data:{count:e.totalCount,additional:{...u()(e.byExternalCaseIds)?{}:{byExternalCaseIds:e.byExternalCaseIds}}}}}),t=e)}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*lO(e){try{Object(de.a)({topic:Q.g,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Ht.a)(sn.a.getAppId(Object(d.a)()))}}}})}catch(t){Object(ht.b)(t)}}function*uO(){try{yield ws(Ie.A,lO)}catch(e){Object(ht.b)(e)}}function dO(e){try{Object(de.a)({topic:Q.f,payload:{data:e.payload.payload},callback:e.payload.callback})}catch(t){Object(ht.b)(t)}}function*bO(){try{yield ws(Ie.y,dO)}catch(e){Object(ht.b)(e)}}function*fO(){try{yield Ec([_c(sO),_c(uO),_c(bO)])}catch(e){Object(ht.b)(e)}}n(470),n(417);var pO=n(147),hO=n.n(pO);async function OO(e){return(await Ge.a.post(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`)).data}const yO=new yp.a;async function vO(e,t){let{bucket:n,domainName:a}=e;const r=await yO.post(`https://${n}.${null!==a&&void 0!==a?a:"s3.amazonaws.com"}/`,t);return decodeURIComponent(r.headers.location)}async function gO(e){return(await Ge.a.post("/livechat/upload",{file:e,fileName:e.name},{multipart:!0})).data}const jO=[{key:"Cache-Control",value:hO()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],mO=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*IO(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:a}=yield Promise.all([n.e(5),n.e(17)]).then(n.bind(null,1915));return yield Sc(a,e,t)}return yield Sc(vO,e,function(e,t){const n=new FormData;return mO.forEach((t=>{n.append(t,e[t])})),jO.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(a){return}}function*EO(e,t){try{if("SPR"===t)return{token:yield Sc(gO,e)};const n=yield Sc(OO,e.name);return n?{url:yield Sc(IO,n,e)}:{}}catch(n){return{}}}var CO=n(580),TO=n(553);function SO(e){return new Promise((t=>{if(!e)return void t({});const n=document.createElement("img");n.onload=e=>{const n=e.target;n&&t({height:n.naturalHeight,width:n.naturalWidth})},n.src=e}))}function*_O(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,db()(TO.c,c)){const e=o?void 0:URL.createObjectURL(a),{height:c,width:s}=yield Sc(SO,e),l=yield al(),u=yield Sc(Zs.p,l.makeImageAttachmentMessage({attachmentProperties:{height:c,width:s,url:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield Ic(u);const{token:d,url:b}=yield Sc(EO,a,i);if(d||b){const t=Object(CO.f)({chatMessage:u.payload.chatMessage,token:d,url:b});yield Sc(tl,t),e&&URL.revokeObjectURL(e)}else yield Ic({payload:{conversationId:t,transientId:u.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(ht.b)(s)}var c}function AO(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const a=document.createElement("canvas");a.height=n.videoHeight,a.width=n.videoWidth;const r=a.getContext("2d");if(r){r.drawImage(n,0,0,a.width,a.height);(a.toBlob||a.msToBlob).bind(a)((e=>{const a=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:a,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*xO(e,t){try{return yield Sc(EO,e,t)}catch(n){return void Object(ht.b)(n)}}function*wO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,db()(TO.e,c)){const e=URL.createObjectURL(a),{previewImageFile:c,height:s,width:l}=yield Sc(AO,e),u=URL.createObjectURL(c),d=yield al(),b=yield Sc(Zs.p,d.makeVideoAttachmentMessage({attachmentProperties:{height:s,width:l,previewImageUrl:o?null:u,url:o?null:e,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield Ic(b);const[{token:f,url:p},{token:h,url:O}]=yield Ec([Sc(EO,a,i),Sc(xO,c,i)]);if(f||p){const t=Object(CO.g)({chatMessage:Object(CO.f)({chatMessage:b.payload.chatMessage,token:f,url:p}),token:h,url:O});yield Sc(tl,t),URL.revokeObjectURL(e),URL.revokeObjectURL(u)}else yield Ic({payload:{conversationId:t,transientId:b.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(ht.b)(s)}var c}var NO=n(1041);const RO={"application/pdf":NO.a.PDF,"text/plain":NO.a.DOCUMENT,"application/msword":NO.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":NO.a.WORD_DOCUMENT,"application/vnd.ms-excel":NO.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":NO.a.EXCEL,"application/vnd.ms-powerpoint":NO.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":NO.a.PRESENTATION,"application/onenote":NO.a.ONENOTE,"application/json":NO.a.DOCUMENT};function*LO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,db()(TO.b,c)){const e=o?null:URL.createObjectURL(a),c=yield al(),s=yield Sc(Zs.p,c.makeDocumentAttachmentMessage({attachmentProperties:{url:e,title:a.name,documentType:RO[a.type]},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield Ic(s);const{token:l,url:u}=yield Sc(EO,a,i);if(l||u){const t=Object(CO.f)({chatMessage:s.payload.chatMessage,token:l,url:u});yield Sc(tl,t),e&&URL.revokeObjectURL(e)}else yield Ic({payload:{conversationId:t,transientId:s.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(ht.b)(s)}var c}function*PO(e){let{conversationId:t,chatUserId:n,file:a,inReplyToChatMessageId:r,uploadPolicy:i,isAttachmentMasked:o}=e;try{if(c=a.type,db()(TO.a,c)){const e=o?null:URL.createObjectURL(a),c=yield al(),s=yield Sc(Zs.p,c.makeAudioAttachmentMessage({attachmentProperties:{url:e,mimeType:a.type,title:a.name},conversationId:t,sender:n,inReplyToChatMessageId:r}));yield Ic(s);const{token:l,url:u}=yield Sc(EO,a,i);if(l||u){const t=Object(CO.f)({chatMessage:s.payload.chatMessage,token:l,url:u});yield Sc(tl,t),e&&URL.revokeObjectURL(e)}else yield Ic({payload:{conversationId:t,transientId:s.payload.chatMessage.id},type:Ie.G})}}catch(s){Object(ht.b)(s)}var c}function*MO(e,t){try{const{uploadPolicy:n,isAttachmentMasked:a}=e,{conversationId:r,chatUserId:i,file:o,inReplyToChatMessageId:c}=t.payload,s={conversationId:r,chatUserId:i,file:o,inReplyToChatMessageId:c,uploadPolicy:n,isAttachmentMasked:a};yield Ec([Sc(_O,s),Sc(wO,s),Sc(PO,s),Sc(LO,s)])}catch(n){Object(ht.b)(n)}}var DO=function*(){try{const{payload:{applicationConfig:e}}=yield mc(ms.a);yield ws(hh.b,MO,{uploadPolicy:e.uploadPolicy,isAttachmentMasked:!!e.maskAttachment})}catch(e){Object(ht.b)(e)}},kO=n(783);let UO;function*FO(e){for(;;)try{let t;yield mc(Ns.b),UO=Date.now(),yield mc(Ns.a),t=Date.now();(e||UO&&t-UO>=3e5)&&(UO=void 0,yield Ic({type:Ns.l,payload:{}}))}catch(t){Object(ht.b)(t)}}function*BO(){try{const e=Object(kO.a)();yield Ec([_c(FO,e)])}catch(e){Object(ht.b)(e)}}var GO=n(1021);function*$O(){try{for(;;)try{yield mc(G.g);Object(b.P)()?Object(de.a)({topic:Q.d}):yield Ic(Object(za.b)())}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*VO(){try{for(;;)try{const e=yield mc(G.k),{isMediaOpen:t}=e.payload;t?Object(de.a)({topic:Q.i}):Object(de.a)({topic:Q.h})}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*HO(){try{const{payload:{applicationConfig:e}}=yield mc(ms.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});ki()(t,(e=>{Object(GO.a)(e)}))}),1e4)}catch(e){Object(ht.b)(e)}}function*WO(){try{yield Ec([_c($O),_c(VO),_c(HO)])}catch(e){Object(ht.b)(e)}}function*zO(e){try{const{user:t,userContext:n,customUser:a}=e.payload||{},r=Object(or.c)(yield wc(Va.h)),i=gl.a.getId(r),o=Object(b.R)(n);if(!ru()(a)&&Object(Qt.b)(i)||ru()(a)&&Object(Qt.a)(t)&&!Object(Qt.b)(i)||Object(Qt.b)(i)&&Object(Qt.e)(t,r)){const e=P()(Object(d.a)(),{userContext:{$merge:o},user:{$set:{...Object(d.a)().user||{},...t||{}}},customUser:{$set:a}});Object(d.f)(e);const{data:n}=yield Sc(vl.d,{...r,...t,customContext:o,customUser:a});return yield Ic(Object(Cn.c)({action:Gr.a.USER_PROFILE_UPDATED})),void(yield Ic({type:M.g,payload:{users:[n]}}))}const c=P()(Object(d.a)(),{userContext:{$set:o},user:{$set:t},customUser:{$set:a}});return Object(d.f)(c),void Object(Kt.e)({shouldReboot:!0,shouldContinueSession:(!ru()(a)||!Object(Qt.a)(t))&&!Object(Qt.b)(i)})}catch(t){Object(ht.b)(t)}}function*qO(){try{yield ws(F,zO)}catch(e){Object(ht.b)(e)}}function*KO(e,t){try{yield Ic(Object(za.i)(e,t))}catch(n){Object(ht.b)(n)}}function*YO(e,t,n){try{const e=yield wc(Mn.b),t=Object(Pn.e)(e),n=Object(or.c)(yield wc(Va.h)).userId;let a={};ki()(t,((e,t)=>{a={...a,[t]:e.enabled}})),yield Object(Ht.o)(n,a)}catch(a){yield Sc(KO,e,n),Object(ht.b)(a)}}function*XO(){try{for(;;){const e=yield mc(G.r),{userPreferenceKey:t,newValue:n,oldValue:a}=e.payload;yield Sc(KO,t,n),yield Sc(YO,t,n,a)}}catch(e){Object(ht.b)(e)}}function*ZO(){try{yield Ec([_c(qO),_c(XO)])}catch(e){Object(ht.b)(e)}}function*QO(){return Qc((e=>{const t=()=>{e(Object(Cn.g)(!0))},n=()=>{e(Object(Cn.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*JO(){let e;try{for(e=yield Sc(QO);;){const t=yield mc(e);yield Ic(t)}}catch(t){Object(ht.b)(t)}finally{e&&e.close()}}function ey(){return Qc((e=>{const t=Object(d.b)();if(!t)return K.a;const n=()=>{const t=Object(Jt.d)();t||e({type:Ns.b}),t&&e({type:Ns.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*ty(){let e;try{for(e=yield Sc(ey);;){const t=yield mc(e);yield Ic(t)}}catch(t){Object(ht.b)(t)}finally{e&&e.close()}}function*ny(e){try{const{ssoId:t,conversationId:n,messageId:a}=e.payload;yield Zt({ssoId:t,conversationId:n,messageId:a}),e.promise&&e.promise.resolve(),Object(Kt.e)({shouldReboot:!0,shouldContinueSession:!0})}catch(t){yield Ic({type:Ns.c,payload:{}}),e.promise&&e.promise.reject()}}function*ay(){try{yield ws(Ns.d,ny)}catch(e){Object(ht.b)(e)}}function*ry(){try{yield Ec([_c(ay)])}catch(e){Object(ht.b)(e)}}let iy=!0;function*oy(){try{for(;;)try{yield mc(G.b),yield Ic({type:G.c,payload:{}})}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*cy(){try{for(;;)try{yield mc(G.d),yield Ic({type:G.e,payload:{}})}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*sy(e){try{iy=!1,yield Ic(Object(Cn.a)({ssoId:Vt.a.getAutoLoginSSOId($t.a.getCustomizationConfig(e))})())}catch(t){Object(ht.b)(t)}}function*ly(){try{const{payload:{applicationConfig:e}}=yield mc(ms.a);if(Object(b.P)())return;if(!iy||!Xt(e))return void(yield _c(cy));yield mc(G.d),yield Sc(sy,e),yield mc(Ns.c),yield _c(cy),yield Ic({type:G.d,payload:{}})}catch(e){Object(ht.b)(e)}}function*uy(){try{yield Ec([_c(ly),_c(oy)])}catch(e){Object(ht.b)(e)}}var dy=n(1042),by=n(1043);function*fy(e){try{const{type:t,buttonId:n,promptId:a}=e.payload,r=yield wc(Mn.d),i=Ws()(r,(e=>e.id===a));if(!i)return;t!==by.a.TRIGGERED&&(yield Ic(function(e){return{type:ae.b,payload:{promptId:e}}}(a)));const o=Ws()(i.buttons,(e=>e.id===n));t===by.a.ENGAGED&&o&&o.type===by.b.URL&&o.value?window.open(Object(qt.c)(o.value)):t!==by.a.ENGAGED||o&&o.type===by.b.CLOSE||(yield Ic(Object(be.b)({initialMessages:Gs()([...Wi()(i.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),o?{isSentByUser:!0,message:o.label}:void 0]),createCase:!!s()(i.additional,"createCase"),additional:{...hb()(i.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}})())),Object(de.a)({topic:Q.k,payload:{data:{type:t,id:a,button:o}}})}catch(t){Object(ht.b)(t)}}function*py(){try{yield ws(dy.a,fy)}catch(e){Object(ht.b)(e)}}var hy=n(1044);const Oy=()=>{let e=null;const t=n=>{let{sessionExpiryTimeInMinutes:a,sessionExpiryAlertTime:r}=n;if(a&&r)try{Object(hy.a)(),e=setTimeout((()=>{t({sessionExpiryTimeInMinutes:a,sessionExpiryAlertTime:r})}),((e,t)=>{const n=60*e*1e3-t,a=60*e*1e3/3;return n<=a?Math.max(n-2e3,0):a})(a,r))}catch(i){Object(ht.b)(i)}};return{startRefreshingSession:t,stopRefreshingSession:()=>{e&&clearTimeout(e)}}};function*yy(e){let{startEvents:t,stopEvents:n}=e;try{const e=t.map((e=>mc(e))),o=n.map((e=>mc(e))),{startRefreshingSession:c,stopRefreshingSession:s}=yield Sc(Oy);try{var a,r;const{payload:{applicationConfig:t}}=yield mc(ms.a),n=t.autoExpireUserSessionTimeInMinutes,i=null===(a=t.otherConfigs.settings)||void 0===a||null===(r=a.autoExpiryConfig)||void 0===r?void 0:r.alertTime;for(;n&&i;)yield Cc(e),yield Sc(c,{sessionExpiryTimeInMinutes:n,sessionExpiryAlertTime:i}),yield Cc(o),yield Sc(s)}catch(i){Object(ht.b)(i)}finally{yield Sc(s)}}catch(i){Object(ht.b)(i)}}function*vy(){try{const{appId:e}=Object(d.a)();yield Sc(rr.a.remove,e)}catch(e){Object(ht.b)(e)}}function*gy(e){try{const{conversationId:t,messageId:n,agentId:a}=e.payload.state,{appId:r}=Object(d.a)();yield Sc(rr.a.set,r,{conversationId:t,messageId:n,agentId:a})}catch(t){Object(ht.b)(t)}}function*jy(){try{yield ws([Rl.g,Rl.h],vy)}catch(e){Object(ht.b)(e)}}function*my(){try{yield ws(Rl.j,gy)}catch(e){Object(ht.b)(e)}}function*Iy(){try{yield Ec([_c(yy,{startEvents:[Rl.i,Rl.m,Rl.o,Rl.n,Rl.j,Rl.k,Rl.l],stopEvents:[Rl.h,Rl.p,Rl.g]}),_c(jy),_c(my)])}catch(e){Object(ht.b)(e)}}function*Ey(){try{yield Ec([_c(yy,{startEvents:[Ef.g,Ef.u,Ef.v],stopEvents:[Ef.e,Ef.c]})])}catch(e){Object(ht.b)(e)}}var Cy=n(592);function Ty(e){return e.type===ft}function*Sy(e){try{const{events:t}=e.payload,n=yield wc(Mn.g),a=Object(or.c)(n);yield Ec(t.filter(Ty).map((e=>(Object(Qt.d)(a)||Cy.d.emit({type:Cy.a,payload:{shouldReboot:e.payload.shouldReboot}}),null))))}catch(t){Object(ht.b)(t)}}function*_y(){try{yield ws(Ns.k,Sy)}catch(e){Object(ht.b)(e)}}var Ay=n(814);function xy(e){const t=()=>{Object(Ay.a)().disconnect().then((()=>{Object(h.a)("MQTT Client | Disconnected")})).catch((e=>{Object(On.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{Object(Ay.a)().connect().catch((e=>{Object(On.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=Object(Ay.a)();e.on("error",(()=>{Object(h.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(h.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(h.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(h.a)("MQTT Client | Closed")}))}(),Object(Ay.a)().subscribe().catch((e=>{Object(On.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),Object(Ay.a)().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(a){Object(ht.b)(a)}}))}catch(n){Object(ht.b)(n),t()}return t}var wy=n(1011);const Ny=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},Ry=Uh()((()=>{let e=Ny();return{set:t=>{e=t||e},get:()=>e}}));let Ly=!0;function Py(e,t){const n=Ry();return new wy.a((function(){return function(e){return Object(zs.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n,active:a}=e||$.a;return(yield js.a.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n,active:a},{headers:{"x-chat-auto":!0},backoff:!0})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:a,afterCursor:r}=t;e(null,a,{isFirstCall:Ly}),Ly=!1,n.set(r)})).catch((t=>{e(Object(On.c)(t)?t:null,[],{})}))}),{...t||{},pollInterval:15e3})}var My=n(1957);const Dy=Object(My.a)(["payload","type"]),ky=Object(ln.a)("conversationId"),Uy=Object(ln.a)("sender"),Fy=Object(ln.a)("payload"),By=Object(ln.a)("creationTime");class Gy{}Gy.getMessageType=Object(un.a)(Dy),Gy.getConversationId=Object(un.a)(ky),Gy.getSender=Object(un.a)(Uy),Gy.getCreationTime=Object(un.a)(By),Gy.getPayload=e=>Object(un.a)(Fy)(e);const $y={[Xe]:e=>({payload:{conversationId:Gy.getConversationId(e),messageId:Gy.getPayload(e).messageId},type:Xe}),[Ze]:e=>({payload:{conversationId:Gy.getConversationId(e),messageId:Gy.getPayload(e).messageId},type:Ze}),[Qe]:e=>({payload:{...Ut()(e.payload.externalEvent,["type","action","conversationId","payload"]),actionType:Gy.getPayload(e).externalEvent.action,externalParams:Gy.getPayload(e).externalEvent.payload,contextId:Gy.getConversationId(e)},type:Qe}),UI_CONTROL:e=>({type:Gy.getPayload(e).event.action,payload:Gy.getPayload(e).event.payload?JSON.parse(Gy.getPayload(e).event.payload):{}}),[Je]:e=>({payload:{conversationId:Gy.getConversationId(e),chatUserId:Gy.getPayload(e).chatUserId},type:Je}),[et]:e=>({payload:{conversationId:Gy.getConversationId(e),sender:Gy.getSender(e),actionTime:Gy.getCreationTime(e)},type:et}),[tt]:e=>({payload:{conversationId:Gy.getConversationId(e),sender:Gy.getSender(e),actionTime:Gy.getCreationTime(e)},type:tt}),[rt]:e=>({payload:{conversationId:Gy.getConversationId(e),sender:Gy.getSender(e),closed:Gy.getPayload(e).closed,deleted:Gy.getPayload(e).deleted,caseNumber:Gy.getPayload(e).caseNumber,caseId:Gy.getPayload(e).caseId,expireAssetUntilLastMessageId:Gy.getPayload(e).lastMessageId,requestClientId:null===e||void 0===e?void 0:e.requestClientId},type:rt}),[it]:e=>{const t=Gy.getPayload(e).audioOnly;return{payload:{videoConversationId:Gy.getPayload(e).videoConversationId,conversationId:Gy.getConversationId(e),participantInfos:Gy.getPayload(e).participantInfos,type:t?Wa.c.AUDIO:Wa.c.VIDEO},type:it}},[ot]:e=>({payload:{conversationId:Gy.getConversationId(e),videoConversationId:Gy.getPayload(e).videoConversationId},type:ot}),[ct]:e=>({payload:{conversationId:Gy.getConversationId(e),videoCallEnabled:Gy.getPayload(e).videoEnabled,audioCallEnabled:Gy.getPayload(e).audioEnabled},type:ct}),[pt]:e=>({payload:{conversationId:Gy.getConversationId(e),permissions:Gy.getPayload(e).permissions,callMode:Gy.getPayload(e).callMode,videoConversationId:Gy.getPayload(e).videoConversationId},type:pt}),[st]:e=>({payload:{conversationId:Gy.getConversationId(e),videoConversationId:Gy.getPayload(e).conversation.id,conversation:Gy.getPayload(e).conversation,participant:Gy.getPayload(e).participant},type:st}),[lt]:e=>({payload:{conversationId:Gy.getConversationId(e),videoConversationId:Gy.getPayload(e).videoConversationId},type:lt}),[ut]:e=>({payload:{conversationId:Gy.getConversationId(e),videoConversationId:Gy.getPayload(e).videoConversationId},type:ut}),[dt]:e=>({payload:{status:Gy.getPayload(e).status},type:dt}),[bt]:e=>{const{action:t}=Gy.getPayload(e);return{payload:{params:t.params,conversationId:Gy.getConversationId(e),type:t.actionType},type:bt}},[ft]:e=>{const{shouldReboot:t}=Gy.getPayload(e);return{payload:{shouldReboot:t},type:ft}}};function Vy(e){try{const t=Gy.getMessageType(e),n=$y[t];if(n)return n(e)}catch(t){Object(ht.b)(t)}}const Hy=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),Wy=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t||Object(Jt.d)()?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),zy=(e,t)=>function(e,t){let n;function a(){n&&n.stop()}try{n=Py(e,t),n.start()}catch{a()}return a}(((t,n,a)=>{let{isFirstCall:r}=a;if(e(Object(Cn.g)(!t)),t)return;const i=n.filter((e=>!Hy.has(e.id))).map(Vy).filter((e=>!!e)).filter((e=>!r||!(e=>e.type===st||e.type===it)(e)));e(i),Hy.clear()}),{...t,getLastActiveTimeDifference:Wy.getLastActiveTimeDifference});function qy(){return Qc((e=>{const t=(e=>xy((t=>{const n=Vy(t);n&&(Hy.add(t.id),e(n))})))(e);return()=>{t()}}))}function Ky(){return Qc((e=>{const t=zy(e);return()=>{t()}}))}function Yy(){return Qc((e=>{const t=zy(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const Xy=e=>e.type===Ns.e,Zy=e=>!Xy(e);function*Qy(e){try{yield Ec(e.filter(Xy).map((e=>Ic(e))))}catch(t){Object(ht.b)(t)}}function*Jy(e){try{let t=e.filter(Zy);if(Object(b.E)()){const{isConversationPath:e,conversationId:n}=yield wc(Pp.c);t=t.filter((t=>((e,t,n)=>{const a=s()(e.payload,"contextId")||s()(e.payload,"conversationId");return!!t&&(!a||!n||n.startsWith(su.e)||a===n)})(t,e,n)))}u()(t)||(yield Ic({type:Ns.k,payload:{events:t}}),yield Ic(Object(Cn.e)()))}catch(t){Object(ht.b)(t)}}function*ev(e){try{const t=yl()(e);yield Ec([Sc(Qy,t),Sc(Jy,t)])}catch(t){Object(ht.b)(t)}}function*tv(){try{let t,n;try{t=yield Sc(Yy),n=yield ws(t,ev),yield mc(Ns.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield xc(n))}}catch(t){Object(ht.b)(t)}}function*nv(){try{for(;;){yield mc(Ns.b);const[e,t]=yield Cc([mc(Ns.a),Rc(18e5)]);if(t)break}}catch(e){Object(ht.b)(e)}}function*av(){try{let t,n;try{t=yield Sc(Ky),n=yield ws(t,ev),yield Sc(nv)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield xc(n))}}catch(t){Object(ht.b)(t)}}function*rv(){try{for(;;){yield mc(Ns.b);const[e,t]=yield Cc([mc(Ns.a),Rc(108e5)]);if(t)break}}catch(e){Object(ht.b)(e)}}function*iv(){try{let t,n;for(;;)try{yield Cc([mc(Ns.i),mc(Ns.a)]),t=yield Sc(qy),n=yield ws(t,ev),yield Sc(rv)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield xc(n))}}catch(t){Object(ht.b)(t)}}function*ov(){try{for(yield Cc([mc(Ns.h),mc(Ns.a)]);;)yield Sc(av),yield Sc(tv)}catch(e){Object(ht.b)(e)}}function*cv(){try{for(;;){const[e,t]=yield Cc([mc(Ns.a),mc(Ns.b)]);Wy.setAppActive(!!e)}}catch(e){Object(ht.b)(e)}}function*sv(){try{yield Ec([_c(iv),_c(ov),_c(cv)])}catch(e){Object(ht.b)(e)}}var lv=n(25),uv=n.n(lv);var dv=async e=>{let t,{applicationConfig:a,preloadedState:r}=e;try{p.a.reset(),A(E),t=await rn(Object(d.a)()),en({handshakeDetails:t}),gn(t.chatUser),a.hasPrompts&&n.e(53).then(n.bind(null,1928)).then((e=>{let{default:n}=e;n(a,t)})),mv(null,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(d.a)(),subscribeToEvent:on,preloadedState:r})}catch(i){const e=sn.a.getUserSettings(Object(d.a)());Object(On.e)(i)&&e&&hn.getOneTimeToken(e)?mv(i,{applicationConfig:a,handshakeDetails:t,chatSettings:Object(d.a)(),subscribeToEvent:on,preloadedState:r}):await cn()}};function*bv(){try{const{payload:{applicationConfig:t}}=yield mc(ms.a);for(;;)try{const{payload:{shouldContinueSession:e}}=yield mc(ms.b);let n;e&&(n=yield wc(uv.a)),yield dv({applicationConfig:t,preloadedState:n})}catch(e){Object(ht.b)(e)}}catch(e){Object(ht.b)(e)}}function*fv(){try{yield Ec([_c(eh),_c(py),_c(oO),_c(fO),_c(DO),_c(JO),_c(ty),_c(BO),_c(ZO),_c(lh),_c(Iy),_c(Ey),_c(_y),_c(sv)])}catch(e){Object(ht.b)(e)}}function*pv(){try{yield mc(ms.c),A(S)}catch(e){Object(ht.b)(e)}}function*hv(){try{yield Ec([_c(WO),_c(bv),_c(uy),_c(ry),_c(pv)])}catch(e){Object(ht.b)(e)}}function*Ov(){try{yield _c(hv);const e=yield _c(fv);yield mc(ms.c),yield xc(e)}catch(e){Object(ht.b)(e)}}function*yv(){yield Ec([_c(Lp),_c(Ov)])}const vv=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new Is).setReducer(Mn.a).setSaga(yv).setPreloadedState(a).setHTTPClient(Ge.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function gv(e){let{applicationConfig:t,store:n,history:a}=e;const r=Object(d.b)().document,i=Object(b.P)()?b.b:b.c;En.a.render(Object(Tn.jsx)(uo,{applicationConfig:t,history:a,store:n}),i(r,"spr-live-chat-app"))}function jv(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:r,subscribeToEvent:i}=t;const o=vv(n,a,r),c=Object(ve.b)({isUnauthorized:!!e});Object(Ay.b)(a,n);i((t=>{e||o.dispatch(t)})),gv({applicationConfig:n,store:o,history:c})}function mv(e,t){let{applicationConfig:n,handshakeDetails:a,chatSettings:r,subscribeToEvent:i,preloadedState:o}=t;const c=vv(n,a,r,o),s=Object(ve.b)({isUnauthorized:!!e,reset:!o});Object(Ay.b)(a,n);i((t=>{e||c.dispatch(t)})),gv({applicationConfig:n,store:c,history:s}),o?s.goBack():s.go(s.entries.length-1)}async function Iv(){const e=Object(d.a)();let t,a;try{if(u()(e))throw new Error;await tn(e),en({getSessionToken:()=>Object(Ht.a)(e.appId)});const[r,i]=await(async e=>{const[t,n]=await Promise.allSettled([an(e),rn(e)]);if("rejected"===t.status||"rejected"===n.status)return[t,n];const a=t.value;if(n.value.chatUser.locale=n.value.chatUser.locale||a.defaultLocale,Object(b.Q)()||!Xt(a))return[t,n];try{var r;const e=null===(r=a.otherConfigs.settings)||void 0===r?void 0:r.autoLoginSSOId;e&&await Zt({ssoId:e})}catch(o){Object(ht.b)(o)}const i=await rn(e);return i.chatUser.locale=i.chatUser.locale||a.defaultLocale,[t,{value:i,status:"fulfilled"}]})(e);if("rejected"===r.status)throw new Error;if(t=r.value,"rejected"===i.status)throw i.reason;a=i.value,((e,t)=>{const{appId:n}=Object(d.a)(),{chatUser:a}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(ht.a)()})(a,t),(e=>{const t=!Vt.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),en({applicationConfig:t,handshakeDetails:a}),t.hasPrompts&&n.e(53).then(n.bind(null,1928)).then((e=>{let{default:n}=e;n(t,a)})),jv(null,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:on})}catch(r){const n=sn.a.getUserSettings(e);Object(On.e)(r)&&n&&hn.getOneTimeToken(n)?jv(r,{applicationConfig:t,handshakeDetails:a,chatSettings:e,subscribeToEvent:on}):await cn()}}const Ev=()=>{if(function(){async function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Dt(f.getQueue(),e,...n)}const t=Object(d.e)();e.q=t?t.q:[],e.loaded=!0,Object(d.b)().sprChat=e}(),Object(b.P)()){const e=Object(b.z)();ma.preload(e)}const e=Object(d.e)();f.addCmdToQueue(f.getQueue(),...e.q),Iv();const{meetingId:t,user:n,otp:a}=Object(d.a)(),i=s()(n,"oneTimeToken");u()(t)&&u()(i)&&u()(a)||e("open");const{autoTrigger:c}=Object(d.a)();let l;l=!0===c?0:r()(c)?1e3*Math.max(c,0):null,o()(l)||setTimeout((()=>{e("openNewConversation")}),l)}},269:function(e,t,n){"use strict";var a=n(262),r=n(530);t.a=function(){return Object(a.useContext)(r.a)}},272:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(658),r=n(270),i=n(262),o=n(690),c=n(263);const s=e=>{let{url:t,onLoad:n,onError:a,className:s,...l}=e;const u=Object(i.useRef)(null);return Object(i.useEffect)((()=>{u.current&&Object(o.a)({svgContainer:u.current,url:t,onSvgLoad:n,onSvgError:a})}),[t,a,n]),Object(c.jsx)("div",Object(r.a)({ref:u,key:t,id:t},l))},l={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",LANGUAGE:"language",MINIMIZE:"minimize",MAXIMIZE:"maximize",SNACKBAR_SUCCESS:"snackbarSuccess",SNACKBAR_FAILURE:"snackbarFailure",TEXT_TO_SPEECH:"textToSpeech"}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(472);function i(){return Object(a.useContext)(r.c).otherConfigs}},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(262),r=n(414),i=n(268);function o(e){const t=Object(i.c)();return Object(a.useMemo)((()=>Object(r.b)(e,t)),[e,t])}},283:function(e,t,n){"use strict";var a=n(265);t.a=Object(a.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"},close:{id:"close",defaultMessage:"Close"},openChat:{id:"openChat",defaultMessage:"Open chat"}})},289:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return h}));var a=n(683),r=n.n(a),i=n(330),o=n(376);function c(e){return{type:e?i.b:i.d,payload:{}}}function s(){return{type:i.j,payload:{}}}const l=r()(c,!0);r()(c,!1);function u(){return{type:i.g,payload:{}}}function d(e){return{type:i.k,payload:e}}function b(e,t,n){return{type:i.r,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function f(e,t){return{type:i.s,payload:{userPreferenceKey:e,value:t}}}const p=e=>({type:o.c,payload:e}),h=e=>{let{value:t}=e;return{type:i.o,payload:{value:t}}}},294:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(472);function i(){return Object(a.useContext)(r.c)}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1960),r=n(1861);const i=Object(a.a)("field"),o=Object(a.a)("values"),c=Object(a.a)("filterType"),s=Object(a.a)("filters"),l=Object(a.a)("details"),u=Object(a.a)("id");class d{}d.getField=Object(r.a)(i),d.getValues=Object(r.a)(o),d.getFilterType=Object(r.a)(c),d.getFilters=Object(r.a)(s),d.getDetails=Object(r.a)(l),d.getId=Object(r.a)(u)},298:function(e,t,n){"use strict";var a=n(262),r=n(307),i=n.n(r),o=n(7),c=n.n(o),s=n(116),l=n.n(s),u=n(269),d=n(453);t.a=()=>{const{locale:e,language:t}=Object(u.a)();return Object(a.useCallback)(((n,a)=>{const r=l()(n,"langVsTranslatedFieldValues");if(!c()(r))return l()(n,a);let o=l()(r,e)||l()(r,t);return o||(o=i()(r,((e,n)=>Object(d.b)(n)===t))),l()(o,a)||l()(n,a)}),[e,t])}},300:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},305:function(e,t,n){"use strict";var a=n(262),r=n(1298);t.a=function(){return Object(a.useContext)(r.a)}},318:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a=n(1960),r=n(1942),i=n(1861);const o=Object(a.a)("conversationScreen"),c=Object(a.a)("callScreen"),s=Object(a.a)("videoCall"),l=Object(a.a)("audioCall"),u=Object(a.a)("settings"),d=Object(a.a)("trigger"),b=Object(a.a)("proactivePrompt"),f=Object(a.a)("minimizeChatBoxOnCloseInPhone"),p=Object(a.a)("header"),h=Object(a.a)("label"),O=Object(a.a)("openInFullScreen"),y=Object(a.a)("label"),v=Object(a.a)("defaultHidden"),g=Object(a.a)("initiallyHidden"),j=Object(a.a)("hideWhenOpen"),m=Object(a.a)("canManuallyRemove"),I=Object(a.a)("invisibilityCriteria"),E=Object(a.a)("animation"),C=Object(a.a)("contactDetailsMessage"),T=Object(a.a)("maximumOpenConversations"),S=Object(a.a)("autoLoginSSOId"),_=Object(a.a)("hour12"),A=Object(a.a)("enableWatermark"),x=Object(a.a)("disableDebugMode"),w=Object(a.a)("externalLocaleData"),N=Object(a.a)("homeScreen"),R=Object(a.a)("conversationCard"),L=Object(a.a)("hideWavingHandIcon"),P=Object(a.a)("shouldShow"),M=Object(a.a)("agents"),D=Object(a.a)("button"),k=Object(a.a)("enableIndividualMessageDismissal"),U=Object(a.a)("infoCard"),F=Object(a.a)("existingConversationCard"),B=Object(a.a)("showHeader");class G{}G.getDefaultMessages=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.lastMessage},G.getWaitTimeConfig=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.waitTimeConfig},G.getSurveyActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.surveyScreen)||void 0===t?void 0:t.actionsToShowByVariant},G.getActionsToShowByVariant=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionsToShowByVariant},G.getConversationActionOnPageCloseByScope=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionOnPageCloseByScope},G.shouldShowAgentInitial=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showAgentInitial},G.shouldShowSenderNameInConversationScreen=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.showSenderName},G.getFooterActionsToShow=e=>{var t,n;return null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.actionsToShow},G.getActionOnPageCloseByScope=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.actionOnPageCloseByScope},G.getAnalyticsSettings=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.analyticsSettings},G.hour12Enabled=Object(r.a)(Object(i.a)(_),Object(i.a)(u)),G.conversationTagsEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.conversationTagsEnabled},G.showCaseNumberEnabled=e=>{var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showCaseNumber},G.isSprinklrAnalyticsEnabled=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.sprinklrAnalytics)||void 0===a?void 0:a.enabled},G.getGoogleTrackerId=e=>{var t,n,a;return null===(a=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.googleAnalytics)||void 0===a?void 0:a.trackerId},G.getMaximumOpenConversations=Object(r.a)(Object(i.a)(T),Object(i.a)(u)),G.getDisableManualNewConversation=e=>{var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.disableManualNewConversation},G.getUserPreferences=Object(i.a)(u),G.getContactDetailsMessage=Object(r.a)(Object(i.a)(C),Object(i.a)(o)),G.getTriggerConfig=Object(i.a)(d),G.getInvisibilityCriteriaOfTrigger=Object(r.a)(Object(i.a)(I),G.getTriggerConfig),G.getAnimationInfoOfTrigger=Object(r.a)(Object(i.a)(E),G.getTriggerConfig),G.getTriggerLabel=Object(r.a)(Object(i.a)(y),G.getTriggerConfig),G.isChatTriggerHidden=Object(r.a)(Object(i.a)(v),Object(i.a)(d)),G.isChatTriggerInitiallyHidden=Object(r.a)(Object(i.a)(g),Object(i.a)(d)),G.isTriggerHiddenWhenMaximised=Object(r.a)(Object(i.a)(j),Object(i.a)(d)),G.canTriggerBeManuallyRemoved=Object(r.a)(Object(i.a)(m),Object(i.a)(d)),G.getAutoLoginSSOId=Object(r.a)(Object(i.a)(S),Object(i.a)(u)),G.isWatermarkEnabled=Object(r.a)(Object(i.a)(A),Object(i.a)(u)),G.isDebugModeDisabled=Object(r.a)(Object(i.a)(x),Object(i.a)(u)),G.getExternalLocaleData=Object(r.a)(Object(i.a)(w),Object(i.a)(u)),G.shouldHideWavingHandIcon=Object(r.a)(Object(i.a)(L),Object(i.a)(R),Object(i.a)(N)),G.shouldShowAgents=Object(r.a)(Object(i.a)(P),Object(i.a)(M),Object(i.a)(R),Object(i.a)(N)),G.getAgents=Object(r.a)(Object(i.a)(M),Object(i.a)(R),Object(i.a)(N)),G.shouldShowHeaderInExistingConversationCard=Object(r.a)(Object(i.a)(B),Object(i.a)(F),Object(i.a)(N)),G.isMinimizeOnCloseInPhoneForVideoCall=Object(r.a)(Object(i.a)(f),Object(i.a)(s)),G.getNewConversationButton=Object(r.a)(Object(i.a)(D),Object(i.a)(R),Object(i.a)(N)),G.isMinimizeOnCloseInPhoneForAudioCall=Object(r.a)(Object(i.a)(f),Object(i.a)(l)),G.shouldCallOpenInFullScreen=Object(r.a)(Object(i.a)(O),Object(i.a)(c)),G.getVideoCallHeaderLabel=Object(r.a)(Object(i.a)(h),Object(i.a)(p),Object(i.a)(s)),G.getAudioCallHeaderLabel=Object(r.a)(Object(i.a)(h),Object(i.a)(p),Object(i.a)(l)),G.getPromptEnableIndividualMessageDismissal=Object(r.a)(Object(i.a)(k),Object(i.a)(b)),G.getChatMessageComposerMaxCharacters=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.maxCharacters},G.getChatMessageComposerSendButton=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.sendButton},G.shouldHideOnDisableManualResponse=e=>{var t,n,a;return null===(a=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===a?void 0:a.hideOnDisableManualResponse},G.getInfoCard=Object(r.a)(Object(i.a)(U),Object(i.a)(o))},323:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"j",(function(){return O}));const a="unreadCountChanged",r="externalEventTriggered",i="externalCallback",o="loaded",c="loadCompleted",s="closed",l="availabilityChanged",u="promptActionTriggered",d="mediaShown",b="mediaClosed",f="eventTriggered",p="registerDeviceTriggered",h="unregisterDeviceTriggered",O="onPermissionSeeked"},329:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"B",(function(){return h})),n.d(t,"A",(function(){return O})),n.d(t,"w",(function(){return y})),n.d(t,"v",(function(){return v})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return j})),n.d(t,"x",(function(){return m})),n.d(t,"y",(function(){return I})),n.d(t,"o",(function(){return E})),n.d(t,"l",(function(){return C})),n.d(t,"n",(function(){return T})),n.d(t,"E",(function(){return S})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return A})),n.d(t,"F",(function(){return x})),n.d(t,"z",(function(){return w})),n.d(t,"k",(function(){return N})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return L})),n.d(t,"q",(function(){return P})),n.d(t,"c",(function(){return M})),n.d(t,"r",(function(){return D})),n.d(t,"m",(function(){return k})),n.d(t,"j",(function(){return U}));var a=n(311),r=n(451),i=n(601),o=n(302);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:a.f}},s=(e,t)=>{let{cursor:n,size:r}=t;return t=>({payload:{conversationId:e,cursor:n,size:r},type:a.l,promise:t})},l=e=>{let{conversationId:t,query:n,faqAttachment:r,locale:i}=e;return e=>({payload:{conversationId:t,query:n,faqAttachment:r,locale:i},type:a.B,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.i,promise:e})},d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:a.h,promise:e})},b=e=>({type:a.j,payload:e}),f=e=>t=>({payload:{conversationId:e},type:a.o,promise:t}),p=e=>({type:a.I,payload:{chatMessage:e,conversationId:o.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:r,disableManualResponse:i,inReplyToChatMessageId:o,maskingDetails:c}=e;return{type:a.ab,payload:{text:t,conversationId:n,sender:r,disableManualResponse:i,inReplyToChatMessageId:o,maskingDetails:c}}},O=e=>{let{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return e=>({type:a.Z,payload:{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i},promise:e})},y=e=>({type:a.A,payload:e}),v=e=>{let{action:t,conversationId:n,callback:o}=e;const c=Object(i.a)(t.actionId,t.attachment),s=Object(i.c)(t);return(e=>({type:a.y,payload:e}))({type:r.c,payload:{contextId:n,actionId:c.externalCallParams,actionPayload:s},callback:o})},g=e=>{let{action:t,conversationId:n}=e;const a=Object(i.a)(t.actionId,t.attachment);return y({type:r.a,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},j=e=>{let{action:t,conversationId:n}=e;const a=Object(i.a)(t.actionId,t.attachment);return y({type:r.b,payload:{contextId:n,actionId:a.params,actionPayload:t.values}})},m=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:r.f,payload:{id:t,contextId:n,sprMsgId:a}})},I=e=>{let{id:t,conversationId:n,messageId:a}=e;return y({type:r.h,payload:{id:t,contextId:n,sprMsgId:a}})},E=e=>{let{attachment:t,actionId:n}=e;return e=>{const r=Object(i.a)(n,t);return{type:a.R,payload:{url:r.url,target:r.target},promise:e}}},C=e=>{let{attachment:t,actionId:n}=e;return e=>{const r=Object(i.a)(n,t);return{type:a.p,payload:{phoneNumber:r.phoneNumber},promise:e}}},T=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:r}=e;return{type:a.V,payload:{surveyUrl:t,shouldReplace:n,conversationId:r}}},S=()=>({type:a.X,payload:{}}),_=()=>({type:a.U,payload:{}}),A=()=>({type:a.Y,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:r,appContext:o,inReplyToChatMessageId:c}=e;return e=>({type:a.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(i.b)(t)}),conversationId:n,sender:r,appContext:o,inReplyToChatMessageId:c},promise:e})},w=e=>{let{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return{type:a.S,payload:{postback:t,conversationId:n,sender:r,inReplyToChatMessageId:i}}},N=(e,t)=>n=>({type:a.L,payload:{conversationId:e,appContext:t},promise:n}),R=e=>{let{conversationId:t,externalCaseId:n}=e;return{type:a.v,payload:{conversationId:t,externalCaseId:n}}},L=(e,t,n)=>({type:a.s,payload:{conversationId:t,caseId:e,context:n}}),P=(e,t)=>({type:a.E,payload:{chatMessage:e,conversationId:o.a.getConversationId(e),alternateUserIds:t}}),M=(e,t)=>n=>({type:a.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),D=(e,t)=>({type:a.F,payload:{chatMessageId:t,conversationId:e}});function k(e,t){return{type:a.P,payload:{conversationId:e,lastReadMessageId:t}}}function U(){return{type:a.C,payload:{}}}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1013);function i(){return Object(a.useContext)(r.a)}},340:function(e,t,n){"use strict";var a=n(262);const r={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,i]=Object(a.useState)();Object(a.useLayoutEffect)((()=>{const a=[];if(n){if(e.MutationObserver){const i=new e.MutationObserver(t);i.observe(n,r),a.push((()=>i.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),a.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));a.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(270),r=n(262),i=n.n(r),o=n(276),c=n.n(o),s=n(295),l=n(272),u=n(264),d=n(263),b=n(267);const f=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",b.m,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),p={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:o,onLoad:u,onClick:b,...h}=e,{isKeyboardEventLast:O}=Object(s.a)(),y=Object(r.useCallback)((e=>{O||e.currentTarget.blur(),b&&b(e)}),[O,b]),v=Object(r.useMemo)((()=>i?[p,i]:[p]),[i]);return Object(d.jsx)(f,Object(a.a)({},h,{ref:t,className:c()("center-x-y",e.className),onClick:y}),Object(d.jsx)(l.c,{alt:o,name:n,css:v,onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},355:function(e,t,n){"use strict";var a=n(751);const r=new(n(771).a);r.on((e=>{const{topic:t,payload:n={},callback:r}=e;t&&Object(a.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request,shouldLogEvent:n.shouldLogEvent},callback:r})})),t.a=function(e){r.emit(e)}},369:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(116),r=n.n(a),i=n(1960),o=n(1861),c=n(1942);const s=Object(i.a)("otherConfigs"),l=Object(i.a)("workQueueId"),u=Object(i.a)("cards"),d=Object(i.a)("partnerId"),b=Object(i.a)("name"),f=Object(i.a)("id"),p=Object(i.a)("accountUserId"),h=Object(i.a)("filter"),O=Object(i.a)("visibilityConfig"),y=Object(i.a)("noDisplayConfig"),v=Object(i.a)("triggerAnimationConfig"),g=Object(i.a)("defaultLocale"),j=Object(i.a)("supportedLocales"),m=Object(i.a)("callConfiguration"),I=Object(i.a)("autoExpireUserSessionTimeInMinutes");class E{}E.getCustomizationConfig=Object(o.a)(s),E.getWorkQueueId=Object(o.a)(l),E.getCards=Object(o.a)(u),E.getParnterId=Object(o.a)(d),E.getAppId=Object(o.a)(f),E.getAccountUserId=Object(o.a)(p),E.getVisibilityConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(O)),E.getNoDisplayConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(y)),E.getTriggerAnimationConfigFilter=Object(c.a)(Object(o.a)(h),Object(o.a)(v)),E.getDefaultLocale=Object(o.a)(g),E.getSupportedLocales=Object(o.a)(j),E.getAccountDisplayName=Object(o.a)(b),E.getCallConfiguration=Object(o.a)(m),E.getAutoExpireUserSessionTimeInMinutes=Object(o.a)(I),E.getAudioCallConfiguration=e=>{const t=E.getCallConfiguration(e);return r()(t,"audioConfig")||e.audioChatConfiguration},E.getVideoCallConfiguration=e=>{const t=E.getCallConfiguration(e);return r()(t,"videoConfig")||e.videoChatConfiguration},E.getCallAccountId=e=>{const t=E.getCallConfiguration(e);return r()(t,"accountId")||e.videoChatProviderAccountId}},370:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));n(470),n(417);const a=/^https?:\/\//i,r=e=>e.match(a)?e:`https://${e}`,i=e=>`tel:${e}`,o=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},371:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return b}));var a=n(356),r=n(597);const i=e=>{let{ssoId:t,conversationId:n,messageId:r}=e;return e=>({type:a.d,payload:{ssoId:t,conversationId:n,messageId:r},promise:e})};function o(){return{type:a.h,payload:{}}}function c(e){return{type:a.e,payload:{status:e?r.a.CONNECTED:r.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:a.j,payload:{waitTime:t,reason:n}}}function l(){return{type:a.m,payload:{}}}function u(e){return{type:a.g,payload:e}}function d(){return{type:a.f,payload:{}}}function b(){return{type:a.i,payload:{}}}},372:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var a=n(262),r=n.n(a),i=n(288),o=n.n(i),c=n(686),s=n.n(c),l=n(263);const u={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=r.a.createContext({notification:void 0,setNotification:o.a}),b=e=>{const[t,n]=Object(a.useState)(void 0),r=s()(),i=Object(a.useCallback)((e=>{r()&&n(e)}),[r]),o=Object(a.useMemo)((()=>({notification:t,setNotification:i})),[t,i]);return Object(l.jsx)(d.Provider,{value:o},e.children)};t.c=d},379:function(e,t,n){"use strict";var a=n(1023),r=n(262);t.a=function(){return Object(r.useContext)(a.a)}},380:function(e,t,n){"use strict";var a=n(329);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.g})),n.d(t,"c",(function(){return a.h})),n.d(t,"d",(function(){return a.l})),n.d(t,"e",(function(){return a.n})),n.d(t,"f",(function(){return a.o})),n.d(t,"g",(function(){return a.q})),n.d(t,"h",(function(){return a.r})),n.d(t,"i",(function(){return a.t})),n.d(t,"j",(function(){return a.u})),n.d(t,"k",(function(){return a.v})),n.d(t,"l",(function(){return a.w})),n.d(t,"m",(function(){return a.x})),n.d(t,"n",(function(){return a.y})),n.d(t,"o",(function(){return a.z})),n.d(t,"p",(function(){return a.A})),n.d(t,"q",(function(){return a.C})),n.d(t,"r",(function(){return a.D})),n.d(t,"s",(function(){return a.E})),n.d(t,"t",(function(){return a.F}));n(811)},388:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},400:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},403:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return y}));var a=n(364),r=n.n(a),i=n(68),o=n.n(i),c=n(42),s=n.n(c),l=n(67),u=n.n(l),d=n(296),b=n(388);const f=(e,t)=>{const n=d.a.getField(e);if(n)return n===t;let a=!1;return o()(d.a.getFilters(e),(e=>!f(e,t)||(a=!0,!1))),a},p=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),h=e=>p(e)?e.match(/PROFILE\.(\w+)/)[1]:"",O=e=>{let{currentValueMap:t,filter:n}=e;const a=d.a.getField(n);return a&&p(a)?t[b.a.PROFILE_CUSTOM_FIELD](n):s()(t[a])?t[a](n):t[a]},y=e=>{var t,n;if(e)return(null===e||void 0===e?void 0:e.filters)?Object.assign(Object.assign({},e),{details:Object.assign({id:r()()},null!==(n=null===e||void 0===e?void 0:e.details)&&void 0!==n?n:{}),filters:u()(null===e||void 0===e?void 0:e.filters,(e=>y(e)))}):Object.assign(Object.assign({},e),{details:Object.assign({id:r()()},null!==(t=null===e||void 0===e?void 0:e.details)&&void 0!==t?t:{})})}},405:function(e,t,n){"use strict";var a=n(262),r=n(372);t.a=function(){return Object(a.useContext)(r.c)}},406:function(e,t,n){"use strict";var a=n(262),r=n(312),i=n(321);t.a=(e,t)=>{let{onSuccess:n,onFailure:o,ignoreResults:c}=t;const s=Object(a.useRef)(0),[l,u]=Object(a.useState)(),d=r.a.getType(e),b=r.a.getUrl(e),f=Object(a.useCallback)((()=>(s.current+=1,s.current)),[]),p=Object(a.useCallback)((e=>s.current===e),[]);return[Object(a.useCallback)((async e=>{const t=f();try{const a=await i.a[d](b,e);return!c&&p(t)&&u(a.data),n&&n(a.data),a.data}catch(a){throw o&&o(a),!c&&p(t)&&u(void 0),a}}),[d,b,f,p]),{data:l}]}},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"x",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return I})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return C})),n.d(t,"p",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"k",(function(){return _}));var a=n(543);function r(e){return{type:a.g,payload:e}}function i(e){return{type:a.h,payload:e}}function o(e){return{type:a.m,payload:e}}function c(e){return{type:a.t,payload:e}}function s(e){return{type:a.i,payload:e}}function l(e){return{type:a.p,payload:e}}function u(e){return{type:a.y,payload:e}}function d(e){return{type:a.w,payload:e}}function b(e){return{type:a.c,payload:e}}function f(e){return{type:a.d,payload:e}}function p(e){return{type:a.f,payload:e}}function h(e){return{type:a.e,payload:e}}function O(e){return{type:a.n,payload:e}}function y(e){return{type:a.b,payload:e}}function v(e){return{type:a.o,payload:e}}function g(e){return{type:a.l,payload:e}}function j(e){return{type:a.s,payload:e}}function m(e){return{type:a.u,payload:e}}function I(e){return{type:a.a,payload:e}}function E(e){return{type:a.j,payload:e}}function C(e){return{type:a.q,payload:e}}function T(e){return{type:a.v,payload:e}}function S(e){return{type:a.k,payload:e}}function _(e){return{type:a.r,payload:e}}},422:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1027);const i=()=>Object(a.useContext)(r.a)},429:function(e,t,n){"use strict";var a=n(262),r=n(1008),i=n(531),o=n(296);var c=()=>{const{subscribe:e,getValue:t}=Object(i.a)();return{subscribe:Object(a.useCallback)(((t,n)=>{const a=o.a.getId(t);return e(a,n)}),[e]),getValue:t}},s=n(293),l=n.n(s),u=n(300),d=n.n(u),b=n(116),f=n.n(b),p=n(326),h=n.n(p),O=n(68),y=n.n(O),v=n(450),g=n.n(v),j=(n(270),n(1010));n(263);var m=function(){return Object(a.useContext)(j.b)},I=n(299);const E=(e,t)=>(h()(f()(e,t))||I.a).startTime||0,C=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:a}=e;const r=n-(t?Date.now()-t:0);let i;return r>0&&(i=window.setTimeout((()=>{a()}),r)),i};var T=()=>{const{pagesMetaData:e,currentPageUrl:t}=m(),n=Object(a.useRef)(E(e,t));n.current=E(e,t);const r=Object(a.useRef)({}),i=Object(a.useCallback)(((e,t)=>{const a=o.a.getId(e),i=d()(o.a.getValues(e));return r.current={...r.current,[a]:{timeoutId:C({startTime:n.current,expectedElapsedTime:i,onTimeout:t}),onChangeCallback:t,filterValue:i}},()=>{clearTimeout(f()(r.current,`${a}.timeoutId`)),r.current=l()(r.current,a)}}),[]);g()((()=>{y()(r.current,(e=>{const{timeoutId:t,onChangeCallback:a,filterValue:r}=e;clearTimeout(t),a(),e.timeoutId=C({startTime:n.current,expectedElapsedTime:r,onTimeout:a})}))}),[t]);return{subscribe:i,getValue:Object(a.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},S=n(268),_=n(600),A=n.n(_),x=n(67),w=n.n(x),N=n(343),R=n.n(N),L=n(286),P=n(279),M=n(277),D=n(329),k=n(371);const U=e=>Object(L.v)(Object(L.q)(Object(P.c)(e))),F={fetchOpenConversationCount:D.j,initPusherConnection:k.e};var B=()=>{const e=Object(a.useRef)(),t=Object(a.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:r}=Object(M.a)(F),i=Object(S.d)(U);e.current=i;const c=A()(i);Object(a.useEffect)((()=>{R()(e.current)&&n()}),[]),g()((()=>{w()(t.current,(e=>{e()}))}),[e.current]),g()((()=>{R()(c)&&i&&r()}),[i,c,r]);return{subscribe:Object(a.useCallback)(((e,n)=>{const a=o.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=l()(t.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e.current),[])}},G=n(436),$=n(386);var V=()=>{const e=Object(a.useRef)(0),t=Object(G.a)();e.current=$.a.getTimeToAvailability(t);const n=Object(a.useRef)({}),r=Object(a.useCallback)((()=>e.current),[]);return{subscribe:Object(a.useCallback)(((t,a)=>{const r=o.a.getId(t),i=f()(t,"details.timeToBusinessHours");let c,s=-1;return!R()(i)&&i>0?s=i:!R()(e.current)&&e.current>0&&(s=e.current),s>=0&&(c=window.setTimeout(a,s)),n.current={...n.current,[r]:c},()=>{clearTimeout(f()(n.current,`${r}.timeoutId`)),n.current=l()(n.current,r)}}),[]),getValue:r}},H=n(288),W=n.n(H),z=n(23),q=n.n(z),K=(n(282),n(321)),Y=n(1011);const X=new class{constructor(){this.subscribers={},this.filterPoller=void 0,this.visibilitychangeHandler=()=>{var e;if(document.hidden)null===(e=this.filterPoller)||void 0===e||e.stop();else if(Object.keys(this.subscribers).length>0){var t;null===(t=this.filterPoller)||void 0===t||t.start()}},this.startPolling=()=>{var e;window.document.addEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.start()},this.stopPolling=()=>{var e;window.document.removeEventListener("visibilitychange",this.visibilitychangeHandler),null===(e=this.filterPoller)||void 0===e||e.stop()},this.subscribe=(e,t)=>{const n=e.id;return this.subscribers[n]={cb:t,filter:{field:e.field,filterType:e.filterType,details:e.details}},1===Object.keys(this.subscribers).length&&this.startPolling(),()=>{delete this.subscribers[n],0===Object.keys(this.subscribers).length&&this.stopPolling()}},this.subscribers={};this.filterPoller=new Y.a((async()=>{try{const{data:e}=await K.a.post("livechat/conversation/process-filters",{filterDetails:Object.keys(this.subscribers).reduce(((e,t)=>(e.push({id:t,filter:this.subscribers[t].filter}),e)),[])},{headers:{"x-chat-auto":!0}});Object.keys(e).forEach((t=>{this.subscribers[t].cb(e[t])}))}catch(e){}}),{pollInterval:15e3})}};var Z=Object.freeze(X),Q=n(275),J=n(1012);const ee=(()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n}}})(),te=e=>{var t,n;const r=null===(t=Object(Q.a)().settings)||void 0===t||null===(n=t.filterPoll)||void 0===n?void 0:n.enable;Object(J.a)({route:"/logout"},(()=>{Z.stopPolling()}));return{getValue:Object(a.useCallback)((()=>e=>ee.get(e.id)),[]),subscribe:Object(a.useCallback)(((t,n)=>{q()(ee.get(t.id))&&ee.set(t.id,e(t));const a=r?Z.subscribe(t,(a=>{const r=e({details:a});ee.get(t.id)!==r&&(ee.set(t.id,r),n())})):W.a;return()=>{a()}}),[r])}};var ne=()=>{const e=Object(G.a)(),t=$.a.getNoOfAgentsAvailable(e),n=Object(a.useCallback)((e=>{var n,a;return null!==(n=null===(a=e.details)||void 0===a?void 0:a.noOfAgentsAvailable)&&void 0!==n?n:t}),[t]);return te(n)};var ae=()=>{const e=Object(G.a)(),t=$.a.getNumberOfPendingCases(e),n=Object(a.useCallback)((e=>{var n,a;return null!==(n=null===(a=e.details)||void 0===a?void 0:a.numberOfPendingCases)&&void 0!==n?n:t}),[t]);return te(n)},re=n(387);var ie=()=>{const{device:e}=Object(re.a)(),t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,g()((()=>{w()(t.current,(e=>{e()}))}),[n.current]);const r=Object(a.useCallback)(((e,n)=>{const a=o.a.getId(e);return t.current={...t.current,[a]:n},()=>{t.current=l()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((()=>n.current),[]),subscribe:r}},oe=n(388);const ce="city",se="countryLong",le="region";var ue=()=>{const e=Object(a.useRef)(),t=Object(G.a)();e.current=$.a.getUserIPDetails(t);const n=Object(a.useRef)({});g()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=o.a.getId(e);return n.current={...n.current,[a]:t},()=>{n.current=l()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>t=>{const n=o.a.getField(t),a=e.current;switch(n){case oe.a.USER_IP_DETAILS_CITY:return null===a||void 0===a?void 0:a[ce];case oe.a.USER_IP_DETAILS_COUNTRY:return null===a||void 0===a?void 0:a[se];case oe.a.USER_IP_DETAILS_REGION:return null===a||void 0===a?void 0:a[le];default:return}}),[])}},de=n(403),be=n(2),fe=n(0);var pe=()=>{const e=Object(be.a)(),t=Object(a.useRef)(e.userContext),n=Object(a.useRef)({}),r=Object(a.useCallback)((e=>{t.current=e,w()(n.current,(e=>{e()}))}),[]);Object(a.useEffect)((()=>(Object(fe.T)("userContext",r),()=>{Object(fe.U)("userContext",r)})),[]);return{subscribe:Object(a.useCallback)(((e,t)=>{const a=e.id;return n.current={...n.current,[a]:t},()=>{n.current=l()(n.current,a)}}),[]),getValue:Object(a.useCallback)((()=>e=>{var n,a;const r=e.field,i=Object(de.b)(r);return null===(n=t.current)||void 0===n||null===(a=n[i])||void 0===a?void 0:a[0]}),[])}},he=n(1014),Oe=n(1016),ye=n(342);var ve=()=>{const{getValue:e,subscribe:t}=c(),{getValue:n,subscribe:r}=T(),{getValue:i,subscribe:s}=B(),{getValue:l,subscribe:u}=V(),{getValue:d,subscribe:b}=ne(),{getValue:f,subscribe:p}=ae(),{getValue:h,subscribe:O}=ie(),{getValue:y,subscribe:v}=ue(),{getValue:g,subscribe:j}=pe(),{getValue:m,subscribe:I}=Object(he.a)(),{getValue:E,subscribe:C}=Object(Oe.a)();return{getValue:Object(a.useCallback)((()=>({[oe.a.CURRENT_URL]:e(),[oe.a.TOTAL_TIME_SPENT]:n(),[oe.a.IS_CONVERSATION_OPEN]:i(),[oe.a.AVAILABLE_AGENTS]:d(),[oe.a.AGENT_OUT_OF_CAPACITY]:f(),[oe.a.BUSINESS_HOURS]:l(),[oe.a.DEVICE_TYPE]:h(),[oe.a.USER_IP_DETAILS_CITY]:y(),[oe.a.USER_IP_DETAILS_COUNTRY]:y(),[oe.a.USER_IP_DETAILS_REGION]:y(),[oe.a.USER_AGENT]:Object(ye.e)(),[oe.a.PROFILE_CUSTOM_FIELD]:g(),[oe.a.VERTICAL_PAGE_SCROLL_DEPTH]:m(),[oe.a.HORIZONTAL_PAGE_SCROLL_DEPTH]:E()})),[e,n,i,l,d,f,h,y,g,m,E]),subscribe:Object(a.useCallback)(((e,n)=>{if(Object(de.e)(o.a.getField(e)))return j(e,n);switch(o.a.getField(e)){case oe.a.TOTAL_TIME_SPENT:return r(e,n);case oe.a.CURRENT_URL:return t(e,n);case oe.a.IS_CONVERSATION_OPEN:return s(e,n);case oe.a.AVAILABLE_AGENTS:return b(e,n);case oe.a.AGENT_OUT_OF_CAPACITY:return p(e,n);case oe.a.BUSINESS_HOURS:return u(e,n);case oe.a.DEVICE_TYPE:return O(e,n);case oe.a.USER_IP_DETAILS_CITY:case oe.a.USER_IP_DETAILS_COUNTRY:case oe.a.USER_IP_DETAILS_REGION:return v(e,n);case oe.a.VERTICAL_PAGE_SCROLL_DEPTH:return I(e,n);case oe.a.HORIZONTAL_PAGE_SCROLL_DEPTH:return C(e,n);default:return null}}),[t,r,s,u,b,p,O,v,j,I,C])}};t.a=(e,t)=>{const{getValue:n,subscribe:i}=ve(),o=Object(a.useCallback)((()=>{var e,a;return{...null!==(e=null===t||void 0===t||null===(a=t._getStaticValueMap)||void 0===a?void 0:a.call(t))&&void 0!==e?e:I.a,...n()}}),[n,null===t||void 0===t?void 0:t._getStaticValueMap]);return Object(r.a)(e,{...t,getValue:o,subscribe:i})}},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(270),r=(n(262),n(16)),i=n.n(r),o=n(1286),c=n(284),s=n(264);const l=Object(s.a)("div",{target:"enf2rlz0"})({name:"1txt44t",styles:"top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:var(--spr-lc-bgc-9);"}),u=Object(s.a)("div",{target:"enf2rlz1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"});var d=n(263);var b=()=>Object(d.jsx)(l,null,Object(d.jsx)(u,null,Object(d.jsx)(c.c,null))),f=n(269),p=n(275);var h=e=>{var t;const{direction:n,localeDataLoading:r}=Object(f.a)(),c=Object(p.a)(),s=(e=>i()(e,((e,t,n)=>(e[n]=i()(t,((e,t)=>{let{type:n,src:a}=t;return"SCRIPT"===n?`${e} <script defer src="${a}"><\/script>`:"CSS"===n?`${e} <link rel="stylesheet" href="${a}">`:e}),""),e)),{}))(null===c||void 0===c||null===(t=c.settings)||void 0===t?void 0:t.externalResources),{shouldHideLocaleLoader:l,...u}=e;return Object(d.jsx)(o.a,Object(a.a)({},u,{direction:n,externalResources:s}),e.children,!l&&r&&Object(d.jsx)(b,null))}},435:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const a=new(n(926).a)({middlewares:[],getContext:()=>Promise.resolve({})}),r=e=>{a.clone(e)};t.a=a},451:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return b}));const a="CALLBACK_ACTION",r="ACTION_START",i="ACTION_STOP",o="MSG_PUBLISHED",c="PROGRESS_PUBLISHED",s="MSG_PUBLISH",l="EVENT_PUBLISH",u="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",b="SESSION_PROCESS_STOP"},454:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n(264),r=n(266);const i=Object(a.a)("div",{target:"eg4ezm10"})("min-height:",(e=>Object(r.f)("header.minHeight")(e)),";padding:",(e=>Object(r.h)("header.padding")(e)),";display:flex;justify-content:flex-end;align-items:center;"),o=Object(a.a)("div",{target:"eg4ezm11"})("width:100%;",(e=>!e.isContained&&{backgroundColor:`${Object(r.f)("header.backgroundColor")(e)}`,backgroundImage:`${Object(r.f)("header.gradients")(e)}`,borderBottom:`${Object(r.f)("header.borderBottom")(e)}`,padding:"var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) 0 var(--spr-lc-safe-area-left)"}),""),c=e=>Object(r.f)("header.lg.paddingTop",0)(e)+Object(r.f)("header.lg.paddingBottom",0)(e)+Object(r.f)("header.lg.logo.height",0)(e)+Object(r.f)("header.lg.logo.marginTop",0)(e)+Object(r.f)("header.lg.logo.marginBottom",0)(e)+Object(r.f)("header.lg.description.marginTop",0)(e)+Object(r.f)("header.lg.description.marginBottom",0)(e)+52},455:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={CONVERSATION:"CONVERSATION",CONVERSATION_LIST:"CONVERSATION_LIST",HOME:"HOME",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",KNOWLEDGE_BASE_LIST:"KNOWLEDGE_BASE_LIST",SURVEY:"SURVEY",GUIDED_WORKFLOW:"GUIDED_WORKFLOW",401:"401",LOGOUT:"LOGOUT"}},456:function(e,t,n){"use strict";t.a={CONVERSATION:"CONVERSATION",BANNER:"BANNER",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",INFO_CARD:"INFO_CARD",STATUS_CARD:"STATUS_CARD",CONVERSATION_HISTORY:"CONVERSATION_HISTORY"}},457:function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return N}));n(40);var a=n(116),r=n.n(a),i=n(307),o=n.n(i),c=n(343),s=n.n(c),l=n(1475),u=n.n(l),d=n(68),b=n.n(d),f=n(606),p=n(318),h=n(420),O=n(281),y=n(286),v=n(434),g=n(402),j=n(71),m=n(0);const I=/^CASE_(\w+)/,E=/^CONVERSATION_(\w+)/,C=e=>e&&!!e.match(E),T=e=>e&&!!e.match(I),S=e=>T(e)?e.match(I)[0].split("_")[1]:void 0;function _(e,t,n){const a=Object(O.e)(e),i=Object(y.q)(Object(O.c)(e)),o=Object(h.a)(a),c=Object(h.d)(a),l=p.a.getMaximumOpenConversations(t),u=r()(l,"limit"),d=Object(y.v)(i),b=!!u&&!s()(d)&&u<=d,f=!!r()(l,"replaceNewConversationButton");let v;return o?v=c:b&&(v=f?void 0:n(l,"label")),{isLocked:o||b,lockReason:v}}const A=(e,t)=>{const n=o()(g.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},x=e=>{const t=Object(O.c)(e),n=Object(y.q)(t),a=Object(v.b)().location.pathname,r=Object(f.a)(a,{path:"/conversation/:conversationId/:transientId?"});if(!r)return{isConversationPath:!1,conversationId:void 0};const i=null===r||void 0===r?void 0:r.params.conversationId,o=null===r||void 0===r?void 0:r.params.transientId;if("survey"===o)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:o||j.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(y.b)(n)?Object(y.e)(Object(y.w)(t))||j.e:void 0}}if(C(i))return{isConversationPath:!0,conversationId:i};const c=S(i);return T(i)&&c?{isConversationPath:!0,conversationId:Object(y.j)(n,c)}:{isConversationPath:!0,conversationId:i}},w=(e,t)=>-1===u()(Object(y.r)(e),t),N=e=>{const t=e.chatConversations.conversations.byId;let n=e.chatConversations.conversations.ids;if(Object(m.E)()){const{conversationId:t}=x(e);if(!t)return!1;n=[t]}let a=!1;return b()(n,(e=>{if(!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},469:function(e,t,n){"use strict";var a=n(262),r=n(686),i=n.n(r),o=n(1017);var c=function(){return Object(a.useContext)(o.a)};t.a=e=>{const[t,n]=c(),r=i()(),o=Object(a.useCallback)((t=>{r()&&n({stateKey:e,state:t})}),[e,n,r]);return Object(a.useEffect)((()=>()=>{n({stateKey:e,state:null})}),[]),[t&&t.stateKey===e?t.state:null,o]}},470:function(e,t,n){"use strict";n(773);var a,r=n(118),i=n(17),o=n(758),c=n(3),s=n(140),l=n(80),u=n(587),d=n(12),b=n(774),f=n(775),p=n(126).codeAt,h=n(779),O=n(535),y=n(417),v=n(78),g=c.URL,j=y.URLSearchParams,m=y.getState,I=v.set,E=v.getterFor("URL"),C=Math.floor,T=Math.pow,S="Invalid scheme",_="Invalid host",A="Invalid port",x=/[A-Za-z]/,w=/[\d+-.A-Za-z]/,N=/\d/,R=/^0x/i,L=/^[0-7]+$/,P=/^\d+$/,M=/^[\dA-Fa-f]+$/,D=/[\0\t\n\r #%/:<>?@[\\\]^|]/,k=/[\0\t\n\r #/:<>?@[\\\]^|]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\t\n\r]/g,B=function(e,t){var n,a,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return _;if(!(n=$(t.slice(1,-1))))return _;e.host=n}else if(X(e)){if(t=h(t),D.test(t))return _;if(null===(n=G(t)))return _;e.host=n}else{if(k.test(t))return _;for(n="",a=f(t),r=0;r<a.length;r++)n+=K(a[r],H);e.host=n}},G=function(e){var t,n,a,r,i,o,c,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(n=[],a=0;a<t;a++){if(""==(r=s[a]))return e;if(i=10,r.length>1&&"0"==r.charAt(0)&&(i=R.test(r)?16:8,r=r.slice(8==i?1:2)),""===r)o=0;else{if(!(10==i?P:8==i?L:M).test(r))return e;o=parseInt(r,i)}n.push(o)}for(a=0;a<t;a++)if(o=n[a],a==t-1){if(o>=T(256,5-t))return null}else if(o>255)return null;for(c=n.pop(),a=0;a<n.length;a++)c+=n[a]*T(256,3-a);return c},$=function(e){var t,n,a,r,i,o,c,s=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,b=function(){return e.charAt(d)};if(":"==b()){if(":"!=e.charAt(1))return;d+=2,u=++l}for(;b();){if(8==l)return;if(":"!=b()){for(t=n=0;n<4&&M.test(b());)t=16*t+parseInt(b(),16),d++,n++;if("."==b()){if(0==n)return;if(d-=n,l>6)return;for(a=0;b();){if(r=null,a>0){if(!("."==b()&&a<4))return;d++}if(!N.test(b()))return;for(;N.test(b());){if(i=parseInt(b(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;d++}s[l]=256*s[l]+r,2!=++a&&4!=a||l++}if(4!=a)return;break}if(":"==b()){if(d++,!b())return}else if(b())return;s[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(o=l-u,l=7;0!=l&&o>0;)c=s[l],s[l--]=s[u+o-1],s[u+--o]=c;else if(8!=l)return;return s},V=function(e){var t,n,a,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",a=function(e){for(var t=null,n=1,a=null,r=0,i=0;i<8;i++)0!==e[i]?(r>n&&(t=a,n=r),a=null,r=0):(null===a&&(a=i),++r);return r>n&&(t=a,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),a===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},W=b({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),z=b({},W,{"#":1,"?":1,"{":1,"}":1}),q=b({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return d(Y,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},J=function(e,t){var n;return 2==e.length&&x.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&J(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&J(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},ae={},re={},ie={},oe={},ce={},se={},le={},ue={},de={},be={},fe={},pe={},he={},Oe={},ye={},ve={},ge={},je={},me={},Ie={},Ee={},Ce=function(e,t,n,r){var i,o,c,s,l,u=n||ae,b=0,p="",h=!1,O=!1,y=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(U,"")),t=t.replace(F,""),i=f(t);b<=i.length;){switch(o=i[b],u){case ae:if(!o||!x.test(o)){if(n)return S;u=ie;continue}p+=o.toLowerCase(),u=re;break;case re:if(o&&(w.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return S;p="",u=ie,b=0;continue}if(n&&(X(e)!=d(Y,p)||"file"==p&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(X(e)&&Y[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=Oe:X(e)&&r&&r.scheme==e.scheme?u=oe:X(e)?u=ue:"/"==i[b+1]?(u=ce,b++):(e.cannotBeABaseURL=!0,e.path.push(""),u=me)}break;case ie:if(!r||r.cannotBeABaseURL&&"#"!=o)return S;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ee;break}u="file"==r.scheme?Oe:se;continue;case oe:if("/"!=o||"/"!=i[b+1]){u=se;continue}u=de,b++;break;case ce:if("/"==o){u=be;break}u=je;continue;case se:if(e.scheme=r.scheme,o==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&X(e))u=le;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=Ie;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=je;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ee}break;case le:if(!X(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=je;continue}u=be}else u=de;break;case ue:if(u=de,"/"!=o||"/"!=p.charAt(b+1))continue;b++;break;case de:if("/"!=o&&"\\"!=o){u=be;continue}break;case be:if("@"==o){h&&(p="%40"+p),h=!0,c=f(p);for(var v=0;v<c.length;v++){var g=c[v];if(":"!=g||y){var j=K(g,q);y?e.password+=j:e.username+=j}else y=!0}p=""}else if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(h&&""==p)return"Invalid authority";b-=f(p).length+1,p="",u=fe}else p+=o;break;case fe:case pe:if(n&&"file"==e.scheme){u=ve;continue}if(":"!=o||O){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(X(e)&&""==p)return _;if(n&&""==p&&(Z(e)||null!==e.port))return;if(s=B(e,p))return s;if(p="",u=ge,n)return;continue}"["==o?O=!0:"]"==o&&(O=!1),p+=o}else{if(""==p)return _;if(s=B(e,p))return s;if(p="",u=he,n==pe)return}break;case he:if(!N.test(o)){if(o==a||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)||n){if(""!=p){var m=parseInt(p,10);if(m>65535)return A;e.port=X(e)&&m===Y[e.scheme]?null:m,p=""}if(n)return;u=ge;continue}return A}p+=o;break;case Oe:if(e.scheme="file","/"==o||"\\"==o)u=ye;else{if(!r||"file"!=r.scheme){u=je;continue}if(o==a)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=Ie;else{if("#"!=o){ee(i.slice(b).join(""))||(e.host=r.host,e.path=r.path.slice(),te(e)),u=je;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ee}}break;case ye:if("/"==o||"\\"==o){u=ve;break}r&&"file"==r.scheme&&!ee(i.slice(b).join(""))&&(J(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=je;continue;case ve:if(o==a||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&J(p))u=je;else if(""==p){if(e.host="",n)return;u=ge}else{if(s=B(e,p))return s;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ge}continue}p+=o;break;case ge:if(X(e)){if(u=je,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=a&&(u=je,"/"!=o))continue}else e.fragment="",u=Ee;else e.query="",u=Ie;break;case je:if(o==a||"/"==o||"\\"==o&&X(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(te(e),"/"==o||"\\"==o&&X(e)||e.path.push("")):ne(p)?"/"==o||"\\"==o&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&J(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==a||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=Ie):"#"==o&&(e.fragment="",u=Ee)}else p+=K(o,z);break;case me:"?"==o?(e.query="",u=Ie):"#"==o?(e.fragment="",u=Ee):o!=a&&(e.path[0]+=K(o,H));break;case Ie:n||"#"!=o?o!=a&&("'"==o&&X(e)?e.query+="%27":e.query+="#"==o?"%23":K(o,H)):(e.fragment="",u=Ee);break;case Ee:o!=a&&(e.fragment+=K(o,W))}b++}},Te=function(e){var t,n,a=u(this,Te,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),c=I(a,{type:"URL"});if(void 0!==r)if(r instanceof Te)t=E(r);else if(n=Ce(t={},String(r)))throw TypeError(n);if(n=Ce(c,o,null,t))throw TypeError(n);var s=c.searchParams=new j,l=m(s);l.updateSearchParams(c.query),l.updateURL=function(){c.query=String(s)||null},i||(a.href=_e.call(a),a.origin=Ae.call(a),a.protocol=xe.call(a),a.username=we.call(a),a.password=Ne.call(a),a.host=Re.call(a),a.hostname=Le.call(a),a.port=Pe.call(a),a.pathname=Me.call(a),a.search=De.call(a),a.searchParams=ke.call(a),a.hash=Ue.call(a))},Se=Te.prototype,_e=function(){var e=E(this),t=e.scheme,n=e.username,a=e.password,r=e.host,i=e.port,o=e.path,c=e.query,s=e.fragment,l=t+":";return null!==r?(l+="//",Z(e)&&(l+=n+(a?":"+a:"")+"@"),l+=V(r),null!==i&&(l+=":"+i)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==c&&(l+="?"+c),null!==s&&(l+="#"+s),l},Ae=function(){var e=E(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Te(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&X(e)?t+"://"+V(e.host)+(null!==n?":"+n:""):"null"},xe=function(){return E(this).scheme+":"},we=function(){return E(this).username},Ne=function(){return E(this).password},Re=function(){var e=E(this),t=e.host,n=e.port;return null===t?"":null===n?V(t):V(t)+":"+n},Le=function(){var e=E(this).host;return null===e?"":V(e)},Pe=function(){var e=E(this).port;return null===e?"":String(e)},Me=function(){var e=E(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=E(this).query;return e?"?"+e:""},ke=function(){return E(this).searchParams},Ue=function(){var e=E(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Se,{href:Fe(_e,(function(e){var t=E(this),n=String(e),a=Ce(t,n);if(a)throw TypeError(a);m(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Ae),protocol:Fe(xe,(function(e){var t=E(this);Ce(t,String(e)+":",ae)})),username:Fe(we,(function(e){var t=E(this),n=f(String(e));if(!Q(t)){t.username="";for(var a=0;a<n.length;a++)t.username+=K(n[a],q)}})),password:Fe(Ne,(function(e){var t=E(this),n=f(String(e));if(!Q(t)){t.password="";for(var a=0;a<n.length;a++)t.password+=K(n[a],q)}})),host:Fe(Re,(function(e){var t=E(this);t.cannotBeABaseURL||Ce(t,String(e),fe)})),hostname:Fe(Le,(function(e){var t=E(this);t.cannotBeABaseURL||Ce(t,String(e),pe)})),port:Fe(Pe,(function(e){var t=E(this);Q(t)||(""==(e=String(e))?t.port=null:Ce(t,e,he))})),pathname:Fe(Me,(function(e){var t=E(this);t.cannotBeABaseURL||(t.path=[],Ce(t,e+"",ge))})),search:Fe(De,(function(e){var t=E(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Ie)),m(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(ke),hash:Fe(Ue,(function(e){var t=E(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,Ee)):t.fragment=null}))}),l(Se,"toJSON",(function(){return _e.call(this)}),{enumerable:!0}),l(Se,"toString",(function(){return _e.call(this)}),{enumerable:!0}),g){var Be=g.createObjectURL,Ge=g.revokeObjectURL;Be&&l(Te,"createObjectURL",(function(e){return Be.apply(g,arguments)})),Ge&&l(Te,"revokeObjectURL",(function(e){return Ge.apply(g,arguments)}))}O(Te,"URL"),r({global:!0,forced:!o,sham:!i},{URL:Te})},472:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(270),r=n(262),i=n.n(r),o=n(263);const c=i.a.createContext(void 0),s=e=>function(t){return Object(o.jsx)(c.Consumer,null,(n=>Object(o.jsx)(e,Object(a.a)({},t,{applicationConfig:n}))))},l=e=>function(t){return Object(o.jsx)(c.Consumer,null,(n=>Object(o.jsx)(e,Object(a.a)({},t,{customization:n.otherConfigs}))))};t.c=c},475:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},476:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(316),r=n(435),i=n(447),o=n.n(i);const c="/livechat/conversation";function s(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield r.a.post(`${c}/chatUsers`,e)).data}))}const l=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return yield r.a.post(`${c}/chatUser`,o()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]))}));function u(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:a=0}=e;return(yield r.a.post(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${a}`)).data}))}function d(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield r.a.get(`/livechat/user/fetch/${e}`)).data}))}},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),a=t(e,"firstName"),r=t(e,"lastName");if(n)return n;const i=r?` ${r}`:"",o=a||"";return`${o}${i}`}},479:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(600),o=n.n(i),c=n(343),s=n.n(c),l=n(695),u=n(263);const d=e=>{let{shouldPlay:t,unreadCount:n,children:i}=e;const{play:c}=Object(l.b)(),d=o()(n);return Object(a.useEffect)((()=>{!s()(d)&&n&&t&&n>d&&c(l.a.MESSAGE)}),[n,c,d,t]),Object(u.jsx)(r.a.Fragment,null,i)};t.a=r.a.memo(d)},495:function(e,t,n){var a=n(1454),r=n(87),i=n(1455);e.exports=function(e){return r(e)?i(e):a(e)}},496:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION"}},497:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(262);const r=e=>{const t=Object(a.useRef)(e);return t.current=e,t}},498:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},499:function(e,t,n){"use strict";var a=n(262),r=n(340);t.a=(e,t)=>{const[n,i]=Object(a.useState)(),o=Object(r.a)(e,t);Object(a.useLayoutEffect)((()=>{const a=[];if(n)if(e.ResizeObserver){const r=new e.ResizeObserver(t);r.observe(n),a.push((()=>r.disconnect()))}else o(n);return()=>{a.forEach((e=>e()))}}),[n,t]);return Object(a.useCallback)((e=>{e&&i(e)}),[])}},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(270),r=n(262),i=n.n(r),o=n(492),c=n(263);const s=i.a.createContext((()=>o.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(a.a)({},t,{getUserType:n}))))};t.b=s},501:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return E})),n.d(t,"w",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"t",(function(){return S})),n.d(t,"f",(function(){return _})),n.d(t,"s",(function(){return A})),n.d(t,"o",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"x",(function(){return N})),n.d(t,"v",(function(){return R})),n.d(t,"p",(function(){return L})),n.d(t,"r",(function(){return P})),n.d(t,"m",(function(){return M})),n.d(t,"q",(function(){return D})),n.d(t,"n",(function(){return k}));var a=n(316),r=n(67),i=n.n(r),o=n(7),c=n.n(o),s=n(435),l=n(665),u=n(772),d=n(76);const b=new l.a,f="/livechat/conversation";function p(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:r}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){let e=`${f}/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),r&&r.after&&(e=`${e}&after=${r.after}`),r&&r.before&&(e=`${e}&before=${r.before}`);return(yield s.a.post(e)).data}))}function h(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{submitResponseUrl:n,httpHeaders:a,multiSubmitResponseUrl:r}=e;let o={data:null};return o=r?yield b.post(r,t,{headers:Object.assign(Object.assign({},a),{"Content-Type":"application/json"}),baseURL:""}):yield b.post(n,t,{headers:a,baseURL:"",transformRequest:e=>i()(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(c()(e)?JSON.stringify(e):e)}`)).join("&")}),o.data}))}function O(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/fetch/${e}`)).data}))}function y(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/fetch/case/${e}`)).data}))}function v(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/fetch/externalCase/${e}`)).data}))}function g(e,t){let{size:n,cursor:r}=t;return Object(a.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),r&&t.push({key:"cursor",value:r}),t.push({key:"includeMaskedDeletedMessages",value:!0});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield s.a.post(`${f}/fetchMessages?${a}`)).data}))}function j(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield s.a.post(`${f}/closeConversation?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(d.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function m(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield s.a.post(`${f}/closeAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(d.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function I(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const n=yield s.a.post(`${f}/delete?conversationId=${e}`);return null===t||void 0===t||t.resolve(),n.data}catch(n){if(Object(d.d)(n))return null===t||void 0===t?void 0:t.resolve();throw null===t||void 0===t||t.reject(n),n}}))}function E(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){try{const t=yield s.a.post(`${f}/deleteAll`);return null===e||void 0===e||e.resolve(),t.data}catch(t){if(Object(d.d)(t))return null===e||void 0===e?void 0:e.resolve();throw null===e||void 0===e||e.reject(t),t}}))}function C(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function T(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield s.a.post(`${f}/fetchMessage`,void 0,{params:n,backoff:!0})).data}))}function S(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/send`,e)).data}))}function _(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function A(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function x(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/new`,e)).data}))}function w(e,t,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/suggestions`,Object.assign({conversationId:e,query:t,locale:r},n))).data}))}function N(e){let{context:t,updateLatest:n,payload:a}=e;return u.a.info({chatConversationId:null===a||void 0===a?void 0:a.conversationId,message:`${null===a||void 0===a?void 0:a.conversationId}: Update latest conversation context service called`,additionalDetails:{actionPayload:a}}),s.a.post(`${f}/updateConversationDetails?updateLatest=${n}`,t)}function R(e){let{conversationId:t,context:n,payload:a}=e;return u.a.info({chatConversationId:t,message:`${t}: Update conversation context service called`,additionalDetails:{actionPayload:a}}),s.a.post(`${f}/updateConversationDetails?conversationId=${t}`,n)}function L(e){return s.a.post(`${f}/cancelAsset/${e}`)}function P(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return s.a.post(`${f}/markSurveyOpened/${e}`)}))}function M(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/fetchNumberOfOpenConversations`)).data}))}function D(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return s.a.post(`${f}/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}function k(e){let{messageId:t,conversationId:n,text:r,language:i,additional:o}=e;return Object(a.__awaiter)(this,void 0,void 0,(function*(){return(yield s.a.post(`${f}/generateVoiceNote`,{messageId:t,tempConversationId:n,text:r,language:i,additional:o})).data}))}},530:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"c",(function(){return J})),n.d(t,"b",(function(){return Q}));var a=n(270),r=n(262),i=n.n(r),o=n(268),c=n(265),s=n(16),l=n.n(s),u=n(116),d=n.n(u),b=n(452),f=n.n(b),p=n(307),h=n.n(p),O=n(288),y=n.n(O),v=n(343),g=n.n(v),j=n(277),m=n(294),I=n(405),E=n(921),C=n(676),T=n(476),S=n(304),_=n(279),A=n(289),x=n(0),w=n(15),N=n(448),R=n(449),L=n(453),P=n(66),M=n(315),D=n.n(M),k=n(68),U=n.n(k),F=n(2),B=n(309);const G=Object(L.a)();var $=n(345),V=n(372),H=n(376),W=n(400),z=n(263);const q=Object(L.a)(),K=[H.e],Y=i.a.createContext({locale:q,language:Object(L.b)(q),defaultLocale:q,direction:$.b.LTR,localeDataLoading:!0,changeLocale:y.a}),X={onLocaleDataLoaded:A.d},Z=e=>h()(((e,t)=>f()(l()(t,((t,n)=>{const a=d()(e,`${n}.actionsToShowByVariant`),r=Object(x.A)();return[...t,...r&&(d()(a,r)||d()(a,w.a))||N.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:R.a.CHANGE_LOCALE}),Q=e=>{var t,n;const a=Object(o.d)(_.g),i=Object(S.c)(a)||{},s=Object(m.a)(),l=(null===i||void 0===i?void 0:i.locale)||(e=>{const t=(null===e||void 0===e?void 0:e.defaultLocale)||G,n=(null===e||void 0===e?void 0:e.supportedLocales)||[],a=Object(F.a)().locale,r=Object(B.a)(),i=[...n,t],o=a?[a,...r]:r;let c=t;return U()(o,(e=>D()(i,e)?(c=e,!1):D()(i,Object(L.b)(e))?(c=Object(L.b)(e),!1):null)),c})(s),[u,d]=Object(r.useState)({localeDataLoading:!0,localeData:void 0}),b=Object(r.useRef)(!1),{setNotification:f}=Object(I.a)(),{onLocaleDataLoaded:p}=Object(j.a)(X),h=s.defaultLocale||q,O=null===(t=s.otherConfigs)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.externalLocaleData,{errorNotificationMessage:y,successNotificationMessage:v}=Z(s.otherConfigs)||{},A=Object(E.a)({externalLocaleData:O}),x=Object(r.useCallback)((async e=>{let{locale:t,shouldSyncWithBackend:n=!0,userInitiated:a=!0,promise:r}=e;a&&d((e=>({...e,localeDataLoading:!0})));try{const{localeData:e}=await A(t);if(n){if((await Object(T.d)({...i,locale:t})).data.locale===i.locale)throw new Error(W.a.INCORRECT_PAYLOAD);a&&v&&f({message:v,type:V.a.SUCCESS})}p({locale:t,data:e.messages}),e&&d((t=>({...t,localeData:e}))),null===r||void 0===r||r.resolve({locale:t})}catch(o){n&&a&&y&&f({message:y,type:V.a.FAILURE}),null===r||void 0===r||r.reject(o.message===W.a.INCORRECT_PAYLOAD?W.a.INCORRECT_PAYLOAD:W.a.NETWORK_FAILURE),Object(P.b)(o)}d((e=>({...e,localeDataLoading:!1})))}),[A,p,v,y,i]),w=Object(r.useCallback)((e=>{const{payload:{locale:t},promise:n}=e;x({locale:t,userInitiated:!1,promise:n})}),[x]);Object(C.a)(K,w),b.current||(b.current=!0,x({locale:l,shouldSyncWithBackend:!1}));const N=Object(r.useMemo)((()=>{var e;const{language:t,direction:n}=Object(E.b)(l);return{...null!==(e=u.localeData)&&void 0!==e?e:{},defaultLocale:h,locale:l,language:t,direction:n,localeDataLoading:u.localeDataLoading,changeLocale:x}}),[h,l,x,u]);return g()(u.localeData)?null:Object(z.jsx)(Y.Provider,{value:N},Object(z.jsx)(c.e,{defaultLocale:h,locale:N.reactIntlLocale,messages:N.messages},e.children))},J=e=>function(t){return Object(z.jsx)(Y.Consumer,null,(n=>Object(z.jsx)(e,Object(a.a)({},t,{intlContext:n}))))};Y.Consumer},548:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(){return Object(a.z)()}},549:function(e,t,n){"use strict";var a=n(262),r=n(804);t.a=function(){const e=Object(a.useContext)(r.a),t=Object(a.useRef)(null);return Object(a.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(a.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},550:function(e,t,n){"use strict";var a=c(n(1465)),r=c(n(1470)),i=c(n(1032)),o=c(n(1029));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:i.default,ReplaceTransition:r.default,CSSTransition:a.default}},552:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));const a=313,r=314,i=340,o=394},553:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));const a=["video/mp4","video/quicktime"],r=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],i=[...r,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],o=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},580:function(e,t,n){"use strict";n.d(t,"f",(function(){return P})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return L}));var a=n(292),r=n(361),i=n(302),o=n(494),c=n(1960),s=n(1861);const l=Object(c.a)("height"),u=Object(c.a)("width"),d=Object(c.a)("url"),b=Object(c.a)("fileToken");class f extends o.a{setHeight(e){return this.set(l,e)}setWidth(e){return this.set(u,e)}setUrl(e){return e?this.set(d,e):this}setFileToken(e){return e?this.set(b,e):this}}f.getUrl=Object(s.a)(d);var p=n(315),h=n.n(p);const O=Object(c.a)("title");class y extends f{constructor(e){super(e),this.setType(a.c.IMAGE)}setTitle(e){return this.set(O,e)}}function v(e){return(new y).setHeight(e.height).setWidth(e.width).setUrl(e.url).setTitle(e.title).build()}const g=Object(c.a)("previewImageUrl"),j=Object(c.a)("title"),m=Object(c.a)("previewFileToken");class I extends f{constructor(e){super(e),this.setType(a.c.VIDEO)}setPreviewImageUrl(e){return this.set(g,e)}setTitle(e){return this.set(j,e)}setPreviewImageToken(e){return e?this.set(m,e):this}}function E(e){return(new I).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).setTitle(e.title).build()}function C(e){let{chatMessage:t,url:n,token:a}=e;const o=r.a.getAttachment(i.a.getMessagePayload(t));let c;c=a?new I(o).setPreviewImageToken(a).build():new I(o).setPreviewImageUrl(n).build();const s=new r.a(i.a.getMessagePayload(t)).setAttachment(c).build();return new i.a(t).setMessagePayload(s).build()}function T(e){return(new y).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}I.getPreviewImageUrl=Object(s.a)(g);const S=Object(c.a)("title"),_=Object(c.a)("documentType");class A extends f{constructor(e){super(e),this.setType(a.c.DOCUMENT)}setTitle(e){return this.set(S,e)}setDocumentType(e){return this.set(_,e)}}function x(e){return(new A).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}const w=Object(c.a)("title"),N=Object(c.a)("mimeType");class R extends f{constructor(e){super(e),this.setType(a.c.AUDIO)}setTitle(e){return this.set(w,e)}setMimeType(e){return this.set(N,e)}}function L(e){return(new R).setUrl(e.url).setTitle(e.title).setMimeType(e.mimeType).build()}function P(e){let{chatMessage:t,url:n,token:c}=e;const s=r.a.getAttachment(i.a.getMessagePayload(t));if(!function(e){return h()(a.b,o.a.getType(e))}(s))return t;const l=new f(s);c?l.setFileToken(c):l.setUrl(n);const u=new r.a(i.a.getMessagePayload(t)).setAttachment(l.build()).build();return new i.a(t).setMessagePayload(u).build()}},583:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return _}));var a=n(262),r=n.n(a),i=n(807),o=n.n(i),c=n(268),s=n(288),l=n.n(s),u=n(804),d=n(696),b=n(116),f=n.n(b),p=n(275),h=n(318);const O=()=>{const e=Object(p.a)();return!!f()(h.a.getUserPreferences(e),"enableSoundNotification")};var y=n(279),v=n(346);const g=e=>Object(v.e)(Object(y.b)(e));var j=n(1028),m=n(281),I=n(304),E=n(263);const C={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},T=r.a.createContext({play:l.a,pause:l.a}),S={[C.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[C.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3",[C.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},_=e=>{let{children:t}=e;const n=Object(c.d)(m.h),r=Object(I.d)(n),i=Object(j.a)({category:"LIVE_CHAT",userId:r}),[s,,l,b]=o()({src:"","data-testid":"messageAudio",preload:"none"}),[f,,p,h]=o()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),[y,,v,_]=o()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),A=Object(d.a)(),x=(()=>{const e=Object(c.d)(g).enableSoundNotification.enabled,t=O();return e&&t})(),w=O(),N=Object(a.useCallback)((()=>{b.current&&(b.current.src=S.MESSAGE),h.current&&(h.current.src=S.AGENT_ASSIGNMENT),_.current&&(_.current.src=S.CALL)}),[]),R=Object(a.useCallback)((e=>{switch(e){case C.MESSAGE:return x?l.play():Promise.resolve();case C.AGENT_ASSIGNMENT:return p.play();case C.CALL:return v.play()}return Promise.resolve()}),[l,p,v,x]),L=Object(a.useCallback)((e=>{const t=R(e);"object"===typeof t&&t.catch((t=>i.warning(`Sound Notification Failed for ${e}:  ${t}`)))}),[R]),P=Object(a.useCallback)((e=>{switch(e){case C.MESSAGE:return l.pause();case C.AGENT_ASSIGNMENT:return p.pause();case C.CALL:return v.pause()}}),[l,p,v]),M=Object(a.useMemo)((()=>({play:L,pause:P})),[L,P]);return Object(E.jsx)(T.Provider,{value:M},Object(E.jsx)(u.b,{onClick:N},w&&s,A&&f,A&&y,t))};t.c=T},594:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(675);const r=e=>{let{file:t,conversationId:n,sender:r,inReplyToChatMessageId:i}=e;return{type:a.b,payload:{file:t,conversationId:n,chatUserId:r,inReplyToChatMessageId:i}}},i=e=>{let{initialMessages:t,createCase:n,conversationContext:r,silent:i,assignToUser:o,additional:c}=e;return e=>({type:a.c,payload:{initialMessages:t,createCase:n,assignToUser:o,silent:i,conversationContext:r,additional:c},promise:e})},o=(e,t)=>{let{conversationId:n,externalCaseId:r}=e;return{type:a.a,payload:{conversationId:n,externalCaseId:r},promise:t}}},595:function(e,t,n){var a=n(46),r=n(177),i=n(119),o=n(780),c=n(1395),s=n(120),l=n(41);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return r(e);if(!e||!(t=a(t)))return e;var u=s(e),d=s(t),b=c(u,d),f=o(u,d)+1;return i(u,b,f).join("")}},601:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return C}));var a=n(68),r=n.n(a),i=n(307),o=n.n(i),c=n(496),s=n(292),l=n(602),u=n(451);const d=e=>t=>t.type===e,b=e=>t=>t.id===e,f=(e,t)=>o()(e,t),p=(e,t)=>f(e.buttons,t),h=(e,t)=>p(t,b(e)),O=(e,t)=>{const n=e.cardAttachmentList;let a;return r()(n,(e=>{const n=p(e,t);if(n)return a=n,!1})),a},y=(e,t)=>O(t,b(e)),v={[c.a.POST_BACK]:(e,t)=>{const n=e;return n.makeExternalCall?[u.c,n.postBackHandlerType]:[n.postBackHandlerType]},[c.a.EXTERNAL]:(e,t)=>{const n=t.attachment;if(n.type===s.c.PROGRESS_BAR){return["CANCEL"===t.actionId?u.b:u.a]}return n.type===s.c.FORM?[l.a.FORM_POST_BACK,u.a]:[l.a.TEXT_POST_BACK,u.a]},[c.a.CLIENT_ONLY]:(e,t)=>t.attachment.type===s.c.VIDEO_CHAT?[t.actionId]:t.attachment.type===s.c.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[l.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[l.a.RESERVE_APPOINTMENT_TIME_SLOT]:[l.a.APPOINTMENT_POST_BACK]:[]},g={[s.c.CONTACT_DETAILS_FORM]:(e,t)=>t.submit,[s.c.FORM]:(e,t)=>t.submit,[s.c.SECURE_FORM]:(e,t)=>t.submit,[s.c.FEEDBACK_FORM]:(e,t)=>t.submit,[s.c.PROGRESS_BAR]:(e,t)=>{const n=t;return{id:"",title:"",type:c.a.EXTERNAL,params:n.action}},[s.c.PERSISTENT_MENU]:(e,t)=>p(t,b(e)),[s.c.CARD]:(e,t)=>p(t,b(e)),[s.c.RICH_TEXT_CAROUSEL]:y,[s.c.PRODUCT_CARD]:(e,t)=>p(t,b(e)),[s.c.PRODUCT_SHOWCASE_CARD]:(e,t)=>p(t,b(e)),[s.c.INFO_CARD]:(e,t)=>p(t,b(e)),[s.c.PRODUCT_BANNER]:(e,t)=>((e,t)=>{if(e.buttons){const n=f(e.buttons,t);if(n)return n}return O(e,t)})(t,b(e)),[s.c.PRODUCT_LIST]:(e,t)=>p(t,b(e)),[s.c.CO_BROWSE_INVITE]:(e,t)=>p(t,b(e)),[s.c.QUICK_SELECT_CARD]:h,[s.c.QUICK_SELECT_PILLS]:h,[s.c.CAROUSEL]:y,[s.c.APPOINTMENT]:()=>({type:c.a.CLIENT_ONLY,id:"",title:""}),[s.c.VIDEO_CHAT]:()=>({type:c.a.CLIENT_ONLY,title:"",id:""}),[s.c.SURVEY]:(e,t)=>t.surveyButton};function j(e,t){const n=g[t.type];if(n)return n(e,t)}function m(e){const t=j(e.actionId,e.attachment);if(t)return((e,t)=>{const n=v[e.type];return n?n(e,t):[e.type]})(t,e)}const I=e=>{switch(e.type){case s.c.CARD:return!!p(e,d(c.a.EXTERNAL));case s.c.CAROUSEL:return!!O(e,d(c.a.EXTERNAL));case s.c.FORM:return e.submit.type===c.a.EXTERNAL;default:return!1}},E={[s.c.SECURE_FORM]:e=>e.values.originalData},C=e=>{const t=E[e.attachment.type];if(t)return t(e)}},602:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW"}},604:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(265);const r=Object(a.g)({coBrowseControl:{id:"coBrowseControl",defaultMessage:"Co-browse control"},coBrowseInformation:{id:"coBrowseInformation",defaultMessage:"Co-browse information"},agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopScreenShare:{id:"stopScreenShare",defaultMessage:"Stop Screen Share"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},allowScreenShare:{id:"allowScreenShare",defaultMessage:"Allow Screen Share"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Accepting this will allow them to interact with your screen."},cobrowseFullScreenControlConfirmationMessage:{id:"cobrowseFullScreenControlConfirmationMessage",defaultMessage:"{agentName} is requesting you to share your screen. Accepting this will share your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},605:function(e,t,n){"use strict";n.d(t,"p",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"i",(function(){return g}));var a=n(682);function r(){return{type:a.m,payload:{}}}function i(e){let{messageId:t,conversationId:n,agentId:r}=e;return{type:a.i,payload:{messageId:t,conversationId:n,agentId:r}}}function o(){return{type:a.n,payload:{}}}function c(e){return{type:a.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:a.h,payload:e}}function l(e){return{type:a.c,payload:e}}function u(e){return{type:a.f,payload:e}}function d(e){return{type:a.a,payload:e}}function b(e){return{type:a.d,payload:e}}function f(e){return{type:a.b,payload:e}}function p(e){return{type:a.e,payload:e}}function h(e){return{type:a.o,payload:e}}function O(e){return{type:a.p,payload:e}}function y(e){return{type:a.k,payload:e}}function v(e){return{type:a.l,payload:e}}const g=e=>({type:a.j,payload:e})},606:function(e,t,n){"use strict";n(282);var a=n(1040),r=n.n(a),i={},o=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,a=i[n]||(i[n]={});if(a[e])return a[e];var c=[],s={re:r()(e,c,t),keys:c};return o<1e4&&(a[e]=s,o++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var a=t,r=a.path,i=a.exact,o=void 0!==i&&i,s=a.strict,l=void 0!==s&&s,u=a.sensitive,d=void 0!==u&&u;if(null==r)return n;var b=c(r,{end:o,strict:l,sensitive:d}),f=b.re,p=b.keys,h=f.exec(e);if(!h)return null;var O=h[0],y=h.slice(1),v=e===O;return o&&!v?null:{path:r,url:"/"===r&&""===O?"/":O,isExact:v,params:p.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}}},607:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},658:function(e,t,n){"use strict";var a=n(270),r=n(262),i=n(364),o=n.n(i),c=n(297),s=n(116),l=n.n(s),u=n(274),d=n(690),b=n(264);const f=Object(b.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&"var(--spr-lc-d-3)"),";");var p=n(263);const h=e=>{let{name:t,className:n,theme:i,window:c,css:s,onLoad:u,...b}=e;const h=Object(r.useMemo)((()=>`${t}_${o()()}`),[t]),[O,y]=Object(r.useState)(!1),v=Object(r.useRef)(null);return Object(r.useEffect)((()=>{O&&u&&u()}),[O,u]),Object(r.useEffect)((()=>{const e=l()(i,["icons",t]),n=()=>{y(!0)};v.current&&Object(d.a)({svgContainer:v.current,url:e,onSvgLoad:n,className:"spa full-height full-width"})}),[h,t]),Object(p.jsx)(f,Object(a.a)({ref:v,key:h,className:`spr ${n}`,css:s,id:h,svgLoaded:O,"data-testid":"Custom header icon"},b))},O=e=>{const{name:t,className:n,theme:a,css:i,onClick:o,onKeyPress:c,alt:s,onLoad:u}=e,d=l()(a,`icons.${t}`);if(Object(r.useEffect)((()=>{!d&&u&&u()}),[d,u]),d)return Object(p.jsx)(h,e);const b=s;return Object(p.jsx)(b,{className:n,css:i,onClick:o,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(r.memo)(Object(u.c)((e=>Object(p.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(p.jsx)(O,Object(a.a)({},e,{window:n}))})))))},672:function(e,t){e.exports=function(e){return null===e}},674:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(70),r=n(66);const i="debug",o="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:u}=t;this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=window.setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;const t=this.adapter(e);return(e=>{const{level:t,message:n,category:l}=e,u=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case i:Object(a.a)(u);break;case s:Object(r.b)(u);break;case o:console.info(u);break;case c:console.warn(u)}})(t),this.batch?(this.batchTimeoutId||this.batchLogs(),void this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log(Object.assign(Object.assign({},e),{level:i}))},this.info=e=>{this.log(Object.assign(Object.assign({},e),{level:o}))},this.warning=e=>{this.log(Object.assign(Object.assign({},e),{level:c}))},this.error=e=>{this.log(Object.assign(Object.assign({},e),{level:s}))},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=u,this.batchTimeoutId=null}}},675:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const a="@conversation/NEW_CONVERSATION_OPEN",r="@conversation/EXISTING_CONVERSATION_OPEN",i="@conversation/MEDIA_SEND"},683:function(e,t,n){var a=n(123),r=n(791),i=n(680),o=n(598),c=a((function(e,t){var n=o(t,i(c));return r(e,32,void 0,t,n)}));c.placeholder={},e.exports=c},685:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var a=n(262),r=n.n(a),i=n(268),o=n(469),c=n(592),s=n(330),l=n(0),u=n(263);const d="sessionExpiryModal",b=r.a.createContext(null),f=Object(a.memo)((e=>{const[t,n]=Object(a.useState)(null),[r,f]=Object(o.a)(d),p=Object(i.c)(),h=Object(l.Q)();return Object(a.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(a.useEffect)((()=>{if(t)return h&&p({type:s.d}),void f(!0);r&&f(!1)}),[t]),Object(u.jsx)(b.Provider,{value:t},e.children)}));t.c=b},686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(262);t.default=function(){var e=a.useRef(!1),t=a.useCallback((function(){return e.current}),[]);return a.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1021);async function r(e){let{url:t,svgContainer:n,onSvgLoad:r,onSvgError:i,className:o}=e;try{const e=(await Object(a.a)(t)).documentElement.cloneNode(!0);o&&e.setAttribute("class",o),e.setAttribute("style","top:0px;left:0px"),n.appendChild(e),null===r||void 0===r||r()}catch(c){null===i||void 0===i||i()}}},691:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(264),r=n(266);const i=Object(a.a)("div",{target:"eciyldu0"})((e=>({backgroundColor:Object(r.f)("header.lg.backgroundColor",Object(r.f)("header.backgroundColor")(e))(e),backgroundImage:Object(r.f)("header.lg.gradients")(e)})),";padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"),o=Object(a.a)("div",{target:"eciyldu1"})("border-radius:",Object(r.a)("card.borderRadius"),";background-color:",Object(r.f)("card.backgroundColor"),";")},692:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(264),r=n(266),i=n(454);const o=32,c=Object(a.a)("div",{target:"e1eed02v0"})("background-color:",(e=>Object(r.f)("header.lg.backgroundColor",Object(r.f)("header.backgroundColor")(e))(e)),";background-image:",Object(r.f)("header.lg.gradients"),";padding:",Object(r.h)("header.lg.padding"),";padding-bottom:",(e=>o+Object(r.f)("header.lg.paddingBottom")(e)),"px;height:",(e=>e.height||(e=>Object(i.c)(e)+o)(e)),"px;transition:",(e=>e.showTransition&&"height 0.2s ease-out"),";"),s=Object(a.a)("div",{target:"e1eed02v1"})({name:"anqr8i",styles:"width:100%;height:100%;padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"})},694:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(367),r=n.n(a);let i;function o(e,t){const n=r()(e);return function(e,t,n){return[...Array(n)].map(((n,a)=>(a+t)%e.length)).map((t=>e[t]))}(n,function(e){return i||(i=Math.floor(Math.random()*e.length)),i}(n),t)}},695:function(e,t,n){"use strict";var a=n(262),r=n(583);n.d(t,"a",(function(){return r.b})),t.b=function(){return Object(a.useContext)(r.c)}},696:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(294),r=n(369);const i=()=>{const e=Object(a.a)();return!!e&&!!r.a.getCallAccountId(e)}},697:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},698:function(e,t,n){n(39);var a=n(41);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},748:function(e,t,n){"use strict";var a=n(264),r=(n(262),n(266)),i=n(283),o=n(270),c=n(265),s=n(263);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(o.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const u=Object(a.a)("div",{target:"e1bo82op0"})("background:var(--spr-lc-bgc-15);color:var(--spr-lc-c-15);font-size:",Object(r.e)("xs"),";font-weight:600;border-radius:50%;");t.a=function(e){return Object(s.jsx)(u,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?i.a.newNotification:i.a.newNotifications,unreadCount:e.count}),(t=e.count)>=10?"9+":t);var t}},751:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return m}));var a=n(433),r=n.n(a),i=n(68),o=n.n(i),c=n(42),s=n.n(c),l=n(322),u=n.n(l),d=n(70),b=n(772),f=n(323),p=n(980),h=n.n(p);const O=[f.c,f.m,f.b],y=(()=>{const e={};return{shouldStoreInCache:e=>O.includes(e),shouldCallSubscriberOnSubscribe:t=>O.includes(t)&&(t=>h()(e,t))(t),setCache:(t,n)=>{e[t]=n},getCache:t=>e[t]}})(),v={};function g(e,t){const{topic:n,subscriber:a}=t;if(u()(n)&&s()(a)){const e=v[n];v[n]=e?[...e,a]:[a]}y.shouldCallSubscriberOnSubscribe(n)&&a(y.getCache(n))}function j(e,t){const{topic:n,subscriber:a}=t;if(u()(n)&&s()(a)){const e=v[n],t=r()(e,(e=>e===a));-1!==t&&(e.splice(t,1),v[n]=e)}}function m(e){let{topic:t,payload:n,callback:a}=e;const r=v[t];if(n.shouldLogEvent){var i,c,s,l;const e=null===n||void 0===n||null===(i=n.request)||void 0===i?void 0:i.conversationId;b.a.info({chatConversationId:e,message:`${e?`${e} : `:""}${null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&c.error?"Error":"Success"} event published - ${t}`,additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(s=n.response)||void 0===s?void 0:s.error)||(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.data),subscriberCount:(null===r||void 0===r?void 0:r.length)||0}})}y.shouldStoreInCache(t)&&y.setCache(t,n),o()(r,((e,t)=>{try{e(n,a)}catch(r){Object(d.a)(r)}}))}},772:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(316),r=n(674),i=n(435);const o=new r.a((e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return(yield i.a.post("/livechat/logging/log/event",e)).data}))),{batch:!0,adapter:e=>{const{message:t,chatConversationId:n,additionalDetails:a}=e;return{logMessage:t,logTime:Date.now(),additionalDetails:a,chatConversationId:n}}})},773:function(e,t,n){"use strict";var a=n(126).charAt,r=n(78),i=n(757),o="String Iterator",c=r.set,s=r.getterFor(o);i(String,"String",(function(e){c(this,{type:o,string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})}))},774:function(e,t,n){"use strict";var a=n(17),r=n(4),i=n(141),o=n(139),c=n(137),s=n(75),l=n(121),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(a&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||i(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),r=arguments.length,u=1,d=o.f,b=c.f;r>u;)for(var f,p=l(arguments[u++]),h=d?i(p).concat(d(p)):i(p),O=h.length,y=0;O>y;)f=h[y++],a&&!b.call(p,f)||(n[f]=p[f]);return n}:u},775:function(e,t,n){"use strict";var a=n(588),r=n(75),i=n(776),o=n(766),c=n(74),s=n(778),l=n(590);e.exports=function(e){var t,n,u,d,b,f,p=r(e),h="function"==typeof this?this:Array,O=arguments.length,y=O>1?arguments[1]:void 0,v=void 0!==y,g=l(p),j=0;if(v&&(y=a(y,O>2?arguments[2]:void 0,2)),void 0==g||h==Array&&o(g))for(n=new h(t=c(p.length));t>j;j++)f=v?y(p[j],j):p[j],s(n,j,f);else for(b=(d=g.call(p)).next,n=new h;!(u=b.call(d)).done;j++)f=v?i(d,y,[u.value,j],!0):u.value,s(n,j,f);return n.length=j,n}},776:function(e,t,n){var a=n(13),r=n(777);e.exports=function(e,t,n,i){try{return i?t(a(n)[0],n[1]):t(n)}catch(o){throw r(e),o}}},777:function(e,t,n){var a=n(13);e.exports=function(e){var t=e.return;if(void 0!==t)return a(t.call(e)).value}},778:function(e,t,n){"use strict";var a=n(88),r=n(44),i=n(82);e.exports=function(e,t,n){var o=a(t);o in e?r.f(e,o,i(0,n)):e[o]=n}},779:function(e,t,n){"use strict";var a=2147483647,r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",c=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var a=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;a+=36)e=c(e/35);return c(a+36*e/(e+38))},d=function(e){var t=[];e=function(e){for(var t=[],n=0,a=e.length;n<a;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<a){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);var n,r,i=e.length,d=128,b=0,f=72;for(n=0;n<e.length;n++)(r=e[n])<128&&t.push(s(r));var p=t.length,h=p;for(p&&t.push("-");h<i;){var O=a;for(n=0;n<e.length;n++)(r=e[n])>=d&&r<O&&(O=r);var y=h+1;if(O-d>c((a-b)/y))throw RangeError(o);for(b+=(O-d)*y,d=O,n=0;n<e.length;n++){if((r=e[n])<d&&++b>a)throw RangeError(o);if(r==d){for(var v=b,g=36;;g+=36){var j=g<=f?1:g>=f+26?26:g-f;if(v<j)break;var m=v-j,I=36-j;t.push(s(l(j+m%I))),v=c(m/I)}t.push(s(l(v))),f=u(b,y,h==p),b=0,++h}}++b,++d}return t.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+d(n):n);return a.join(".")}},780:function(e,t,n){var a=n(596);e.exports=function(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}},794:function(e,t,n){var a=n(160),r=n(153),i=n(117),o=4294967295,c=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=o,s=c(e,o);t=r(t),e-=o;for(var l=a(s,t);++n<e;)t(n);return l}},795:function(e,t,n){var a=n(96),r=n(85),i=n(10),o=n(322),c=n(495);e.exports=function(e){if(null==e)return 0;if(i(e))return o(e)?c(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:a(e).length}},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(264),r=n(267);const i=Object(a.a)("div",{target:"ed7mwts0"})((e=>Object(r.a)(e)),";")},799:function(e,t,n){"use strict";var a=n(262),r=n(268),i=n(312),o=n(406),c=n(281),s=n(304),l=n(324),u=n(674);const d=(new i.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),b="AUDIO_CALL",f="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:i}=e;const[l]=Object(o.a)(d,{ignoreResults:!0}),p=Object(a.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(r.d)(c.h),O=Object(s.d)(h),y=i?b:f,v=Object(a.useCallback)((e=>{const{message:a}=e;return{videoConversationId:t,logMessage:`USER: ${a}`,loggerSnUserId:O,category:y,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,O,y]),g=Object(a.useMemo)((()=>new u.a(p,{batch:!0,adapter:v,skip:!t})),[p,v,t]);return Object(a.useEffect)((()=>()=>{g.cleanup()}),[]),g}},800:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(280);const r=Object(a.a)((()=>n.e(18).then(n.bind(null,1859))))},801:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(262),r=n.n(a),i=n(288),o=n.n(i),c=n(1024),s=n(263);const l={debug:o.a,info:o.a,error:o.a,warning:o.a},u=r.a.createContext(l),d=e=>{let{videoConversationId:t,conversationId:n,children:a}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(u.Provider,{value:r},a)}},802:function(e,t,n){"use strict";var a=n(742),r=n(363),i=n(2);const o=e=>`spr-cobrowse-state_${e}`,c=!!r.a.getSessionOrigin(Object(i.a)());t.a={get:async e=>{try{const t=o(e);if(!c)return a.d.getItem(t);const n=await a.c.getItem(t);if(!n){const e=await a.d.getItem(t);if(e)return a.d.removeItem(t),await a.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>c?a.c.setItem(o(e),t):a.d.setItem(o(e),t),remove:e=>c?a.c.removeItem(o(e)):a.d.removeItem(o(e))}},803:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},804:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(262),r=n.n(a),i=n(288),o=n.n(i),c=n(309),s=n(263);const l=r.a.createContext({addPublisher:o.a,removePublisher:o.a});let u=!1;const d="sprappinteract",b=e=>{let{onClick:t,children:n}=e;const r=Object(a.useRef)([]),i=Object(a.useCallback)((()=>{window.dispatchEvent(new Event(d))}),[]);Object(a.useEffect)((()=>{const e=()=>{u=!0,null===t||void 0===t||t(),r.current.forEach((e=>{e.removeEventListener("click",i,{capture:!0})})),r.current=[]};return window.addEventListener(d,e),()=>window.removeEventListener(d,e)}),[t]);const o=Object(a.useMemo)((()=>({addPublisher:e=>{u||(r.current=[...r.current,e],e.addEventListener("click",i,{capture:!0}))},removePublisher:e=>{u||(e.removeEventListener("click",i,{capture:!0}),r.current=r.current.filter((t=>t!==e)))}})),[i]);return Object(a.useEffect)((()=>{const e=Object(c.b)();return Object(c.c)(e)&&o.addPublisher(e.document),()=>{Object(c.c)(e)&&o.removePublisher(e.document)}}),[]),Object(s.jsx)(l.Provider,{value:o},n)};t.b=r.a.memo(b)},805:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(262),r=n(1026);const i=()=>"MOBILE"===Object(a.useContext)(r.a)},806:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(262);var a=n(263);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e){return Object(a.jsx)("svg",r({viewBox:"0 0 14 14","data-icon-name":"Chevron",focusable:"false"},e),Object(a.jsx)("path",{d:"M13.728 4.935a.931.931 0 00-1.316 0L7 10.346l-5.41-5.41a.932.932 0 00-1.318 0 .929.929 0 000 1.315l6.07 6.07a.931.931 0 001.316 0l6.07-6.07a.931.931 0 000-1.315z"}))}},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(407).__importDefault(n(1462)).default("audio");t.default=a},808:function(e,t,n){"use strict";var a=n(262),r=n(294),i=n(0),o=n(456);const c=new Set([o.a.CONVERSATION,o.a.KNOWLEDGE_BASE,o.a.CONVERSATION_HISTORY]);t.a=()=>{var e,t,n,s;const l=Object(r.a)(),u=Object(i.j)(),d=null===(e=l.cardConfigs)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cards,b=(null===(n=l.otherConfigs)||void 0===n||null===(s=n.homeScreen)||void 0===s?void 0:s.conversationCard)||{},f=(null===l||void 0===l?void 0:l.cards)||[],p=Object(a.useMemo)((()=>[{type:o.a.CONVERSATION,id:o.a.CONVERSATION,...b},...f]),[b,f]);return Object(a.useMemo)((()=>u?(null!==d&&void 0!==d?d:p).filter((e=>c.has(e.type))):null!==d&&void 0!==d?d:p),[u,d,p])}},811:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(311);const r=(e,t)=>{const n={conversationId:t};return e?{type:a.cb,payload:n}:{type:a.db,payload:n}}},812:function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return I}));var a=n(40),r=n.n(a),i=n(116),o=n.n(i),c=n(544),s=n(317),l=n(292),u=n(681),d=n(328),b=n(543),f=n(286);const p=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),h=e=>e===s.f.WAITING,O=e=>e===s.h.WAITING?s.h.WAITING:s.h.SETUP,y=(e,t)=>((e,t)=>{switch(e.state){case u.a.CALL_INITIATED:case u.a.CALL_STARTING:return t.WAITING;case u.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.f:s.h),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=e=>{let{callDetails:t}=e;return!r()(t)},j=e=>t=>(t.type===b.x||t.type===b.e)&&o()(t,"payload.videoConversationId")===e,m=e=>t=>(t.type===b.l||t.type===b.e)&&o()(t,"payload.videoConversationId")===e,I=(e,t,n)=>Object(f.m)(e,t).items.find((e=>{var t;return(null===(t=e.messagePayload.attachment)||void 0===t?void 0:t.type)===l.c.VIDEO_CHAT&&e.messagePayload.attachment.videoChatConversationId===n}))},813:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(39);var a=n(40),r=n.n(a),i=n(16),o=n.n(i);const c=(e,t)=>o()(t,((e,t)=>{if(!t)return e;const n="*".repeat(null===t||void 0===t?void 0:t.length);return e.replace(t,n)}),e),s=e=>{let{text:t,maskingConfigs:n}=e;if(!t)return{};const{maskedText:a,maskedValues:i}=o()(n,((e,t)=>{const n=new RegExp(t.jsRegex,"g"),{updatedText:a,capturedGroups:r}=((e,t,n,a)=>{let r=e.exec(t),i=t;const o={};for(;r;)n&&r.groups&&Object.entries(r.groups).forEach((e=>{var t;let[n,i]=e;o[n]=null!==(t=o[n])&&void 0!==t?t:[];let c={};if(a){const e=r.index;c={startIndex:e,endIndex:e+i.length-1}}o[n].push({...c,value:i})})),i=c(i,r),r=e.exec(i);return{capturedGroups:o,updatedText:i}})(n,e.maskedText,t.saveMaskedData,t.showAgentUnmaskedData);return{maskedText:a,maskedValues:{...e.maskedValues,...r}}}),{maskedText:t,maskedValues:{}});return{maskedText:a,maskedValues:r()(i)?void 0:i}}},814:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(932),r=n(386),i=n(332),o=n(369);const c=(e,t)=>`${o.a.getParnterId(t)}_${o.a.getAppId(t)}_${i.a.getId(r.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let s;const l=(e,t)=>{const n=r.a.getChatSessionToken(e),i=c(e,t),o=r.a.getInboxServerUrl(e),l=r.a.getUserInbox(e),u=null===e||void 0===e?void 0:e.fanPublishTopic;return s=new a.a({userName:n,clientId:i,inboxServerUrl:o,userInbox:l,fanPublishTopic:u}),s},u=()=>s},918:function(e,t,n){"use strict";n.d(t,"a",(function(){return ht})),n.d(t,"c",(function(){return bt})),n.d(t,"b",(function(){return ft}));var a=n(262),r=n.n(a),i=n(274),o=n(263),c=n(268),s=n(265),l=n(600),u=n.n(l),d=n(297),b=n(40),f=n.n(b),p=n(264),h=n(116),O=n.n(h),y=n(267),v=n(430),g=n(658),j=n(266),m=n(421),I=n(345);const E={PULSE:e=>{const t=Object(j.f)("trigger.borderColor")({theme:e}),n=o.keyframes`0%{box-shadow:0 0 0 0 ${Object(m.k)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(m.k)(t,0)}}`;return Object(o.css)("animation:",n," 2s ease infinite;")}},C=e=>{const{triggerAnimationInfo:t,theme:n}=e,a=O()(t,"effect"),r=E[a];return r?r(n):""},T=e=>{const t=Object(j.f)("trigger.size")(e);return Math.min(Object(j.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},S=e=>.13*Object(j.f)("trigger.overlayIconButton.button.height")(e),_=e=>Object(j.f)("trigger.size")(e)-.5*Object(j.f)("trigger.overlayIconButton.button.height")(e)-(T(e)-S(e)),A=e=>{let{direction:t,theme:n}=e;return`${t===I.b.LTR?"right":"left"}: ${-.5*Object(j.f)("trigger.overlayIconButton.button.height")({theme:n})+T({theme:n})-S({theme:n})}px`},x=Object(p.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(j.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(j.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(j.a)("trigger.overlayIconButton.borderRadius",Object(j.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(j.f)("trigger.removeIcon.backgroundColor"),";position:absolute;bottom:",(e=>_(e)),"px;",(e=>A(e)),";cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;transform:translatez(",Object(j.f)("frame.translateZ"),"px);z-index:",Object(j.f)("frame.zIndex"),";",y.m,"{visibility:visible;}"),w=Object(p.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),N=Object(p.a)(g.a,{target:"e1hh16yv2"})("width:",(e=>Object(j.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(j.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(j.f)("trigger.removeIcon.fill"),";"),R=`\n  ${x} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,L=Object(p.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&R};\n    }\n  `),";"),P=Object(p.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(j.f)("trigger.boxShadow"),";border-radius:",(e=>Object(j.a)("trigger.borderRadius",Object(j.f)("trigger.size")(e)/2+"px}")(e)),";height:",Object(j.f)("trigger.size"),"px;position:relative;transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>(e=>{let{showTrigger:t,showLabel:n,labelWidth:a,theme:r}=e;return n&&t?a+Object(j.f)("trigger.icon.width")({theme:r})+8+48:Object(j.f)("trigger.size")({theme:r})})(e)),"px;&:focus{",y.k,";}&:active:focus,&:focus:hover{",y.f,";}",y.m,"{&:focus{",y.f,";}}"),M=Object(p.a)(v.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(j.a)("trigger.borderRadius",Object(j.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),D=(e,t)=>{const n=!((Object(j.f)("trigger.backgroundUrls")({theme:e})||Object(j.f)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(o.css)("body{background-color:",n?Object(j.f)("trigger.backgroundColor")({theme:e}):"transparent",";}")},k=Object(p.a)("div",{target:"e1hh16yv6"})({name:"gztsdx",styles:"position:absolute;top:0;left:0;height:100%;width:100%;cursor:pointer;-webkit-touch-callout:none !important;-webkit-user-select:none !important;background:transparent;"});var U=n(942),F=n(288),B=n.n(F),G=n(662);const $=Object(p.a)("div",{target:"elocrnu0"})("cursor:pointer;position:relative;overflow:hidden;border-radius:",(e=>Object(j.a)("trigger.borderRadius",Object(j.f)("trigger.size")(e)/2+"px")(e)),";height:",(e=>Object(j.f)("trigger.size")(e)),"px;background-color:transparent;"),V=Object(p.a)($,{target:"elocrnu1"})("border:",(e=>`${Object(j.f)("trigger.borderWidth")(e)}px solid ${Object(j.f)("trigger.borderColor")(e)}`),";background-size:cover;"),H=Object(p.a)($,{target:"elocrnu2"})("background-color:",Object(j.f)("trigger.backgroundColor"),";"),W={name:"15vzngf",styles:"bottom:0;top:0;transform:translate3d(-50%,-50%,0);transition:transform 0.16s linear,opacity 0.08s linear,-webkit-transform 0.16s linear;width:100%;"},z={name:"w8476o",styles:"transform:rotate(90deg) scale(0);opacity:0;"},q={name:"12ovxee",styles:"transform:scale(0);opacity:0;"},K={name:"k4n0ja",styles:"transform:rotate(0deg) scale(1);opacity:1;"},Y={name:"20dbs8",styles:"transform:scale(1);opacity:1;"},X=Object(p.a)(G.a,{target:"elocrnu3"})("fill:",Object(j.f)("trigger.closeIcon.color"),";height:",Object(j.f)("trigger.closeIcon.height"),"px;width:",Object(j.f)("trigger.closeIcon.width"),"px;"),Z=Object(p.a)("div",{target:"elocrnu4"})(W,";"),Q=Object(p.a)("div",{target:"elocrnu5"})(W,";"),J=Object(p.a)("h2",{target:"elocrnu6"})("color:",Object(j.f)("trigger.icon.color"),";",(e=>Object(y.b)("font-size",Object(j.e)("lg")(e),Object(j.e)("xl")(e))(e))," font-weight:600;margin-bottom:0;margin-top:0;line-height:1.4;white-space:nowrap;",Object(y.c)("margin-left: 8px","margin-right: 8px;"),";"),ee=Object(p.a)(G.a,{target:"elocrnu7"})("height:",Object(j.f)("trigger.icon.height"),"px;width:",Object(j.f)("trigger.icon.width"),"px;fill:",Object(j.f)("trigger.icon.color"),";");var te=n(805),ne=n(422);function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ae.apply(this,arguments)}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},re.apply(this,arguments)}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ie.apply(this,arguments)}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ce.apply(this,arguments)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},se.apply(this,arguments)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},le.apply(this,arguments)}var ue=n(806);function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},de.apply(this,arguments)}var be=n(694);function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fe.apply(this,arguments)}let pe;const he=e=>Object(j.f)("trigger.backgroundUrls")({theme:e})||Object(j.f)("trigger.icon.url")({theme:e});var Oe=r.a.memo((e=>{const{customTriggerIconUrls:t,onLoad:n,onError:r,...i}=e,c=Object(a.useRef)(null),s=pe||(pe=Object(be.a)(t,1)[0]);return Object(a.useEffect)((()=>{if(c.current){const e=new Image,t=()=>{c.current.style.backgroundImage=`url("${s}")`,n(!0)};return e.addEventListener("load",t),e.addEventListener("error",r),e.src=s,()=>{e.removeEventListener("load",t),e.removeEventListener("error",r)}}}),[s,r,n]),Object(o.jsx)(V,fe({},i,{ref:c}))})),ye=n(693);const ve={MINIMIZED:"MINIMIZED",MAXIMIZED:"MAXIMIZED"},ge={[ye.a.BOX]:{Icon:function(e){return Object(o.jsx)("svg",ae({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBox",focusable:"false"},e),Object(o.jsx)("path",{d:"M12.7,0.3L12.7,0.3H1.3C-0.2,0.3,0,1.7,0,1.7v7.7c0,1.1,0.9,1.2,1.2,1.2c0.1,0,0.1,0,0.1,0h3.6c0.5,0,0.7,0.2,0.7,0.2 l4.5,2.9c0.1,0.1,0.2,0.1,0.3,0.1c0.6,0,0.7-0.8,0.7-0.8v-2.3h1.6c1.3,0,1.4-1.2,1.4-1.2V1.5C14.1,0.4,12.9,0.3,12.7,0.3z M8.2,7.4 H2.5C2.2,7.4,2,7.2,2,6.9c0-0.3,0.2-0.5,0.5-0.5h5.7c0.3,0,0.5,0.2,0.5,0.5S8.5,7.4,8.2,7.4z M11.2,4.4H2.5C2.2,4.4,2,4.2,2,3.9 c0-0.3,0.2-0.5,0.5-0.5h8.8c0.3,0,0.5,0.2,0.5,0.5C11.7,4.2,11.5,4.4,11.2,4.4z"}))},Component:ee},[ye.a.BUBBLE]:{Icon:function(e){return Object(o.jsx)("svg",re({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBubble",focusable:"false"},e),Object(o.jsx)("path",{d:"M12.9,2.5c-0.9-1.1-2.5-2-3.8-2.3C3.5-0.9,0.7,3.3,0.3,4.9c-0.9,4.9,1.2,7.6,2.5,8.9C2.9,14,3.1,14,3.1,13.9 c-0.2-3,1.7-3.5,5.6-3.3c1.4,0.1,4.7-1.1,5-3.7C14,5.3,14.1,4.1,12.9,2.5z M3.1,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8 s0.8,0.4,0.8,0.8C3.9,6.1,3.5,6.5,3.1,6.5z M6.9,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8 C7.7,6.1,7.3,6.5,6.9,6.5z M10.7,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.6,6.1,11.2,6.5,10.7,6.5z"}))},Component:ee},[ye.a.COLLABORATORS]:{Icon:function(e){return Object(o.jsx)("svg",ie({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCollaborators",focusable:"false"},e),Object(o.jsx)("path",{d:"M12.103 7.498c.077 0 .145 0 .216.005l.11.013-.02-.157a5.233 5.233 0 00-2.392-3.729l-.247-.148A2.925 2.925 0 017.22 5.37l-.224.008A2.944 2.944 0 014.3 3.673l-.078-.192-.212.126a5.236 5.236 0 00-2.445 3.908 1.823 1.823 0 01.325-.018 2.893 2.893 0 012.945 2.836A2.797 2.797 0 014.11 12.2l-.155.16.114.072a5.598 5.598 0 002.625.822l.322.01.336-.01a5.591 5.591 0 002.724-.894 2.744 2.744 0 01-.88-2.026 2.86 2.86 0 012.907-2.836z"}),Object(o.jsx)("path",{d:"M1.893 8.51a1.934 1.934 0 00-1.087.332l-.015.011a1.801 1.801 0 00-.792 1.481 1.858 1.858 0 001.72 1.816l.174.008.17-.008a1.856 1.856 0 001.723-1.816A1.889 1.889 0 001.893 8.51zm10.214 0a1.864 1.864 0 00-1.893 1.824 1.837 1.837 0 001.248 1.715 1.936 1.936 0 00.477.102l.168.007.17-.008a1.822 1.822 0 00-.17-3.64zM6.998 4.366a1.864 1.864 0 001.894-1.824A1.848 1.848 0 006.998.737 1.864 1.864 0 005.105 2.56a1.849 1.849 0 001.893 1.805z"}))},Component:ee},[ye.a.CLOUD]:{Icon:function(e){return Object(o.jsx)("svg",oe({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCloud",focusable:"false"},e),Object(o.jsx)("path",{d:"M7.1,0C3.2,0,0.1,3.1,0.1,6.9c0,1.7,0.5,3,1.5,4.2l-1,2.5C0.5,13.8,0.6,14,0.8,14h0.1l3.7-0.6C5.4,13.7,6,13.8,7,13.8h0.1 c3.8,0,6.8-3.1,6.8-6.9C13.9,3.1,10.9,0,7.1,0z M3.2,7.8C2.8,7.8,2.4,7.4,2.4,7s0.4-0.8,0.8-0.8S4,6.6,4,7C4,7.5,3.7,7.8,3.2,7.8z M7.2,7.8C6.7,7.8,6.4,7.4,6.4,7s0.4-0.8,0.8-0.8S8,6.6,8,7C7.9,7.5,7.6,7.8,7.2,7.8z M11,7.8c-0.4,0-0.8-0.4-0.8-0.8 s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.8,7.5,11.5,7.8,11,7.8z"}))},Component:ee},[ye.a.MIC]:{Icon:function(e){return Object(o.jsx)("svg",le({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerMic",focusable:"false"},e),Object(o.jsx)("path",{id:"Shape-Copy-3",d:"M7.1,0C4.5,0,2.5,2,2.5,4.5V6H2.3c-1.1,0-2,0.9-2,2v1.2c0,1.1,0.9,2,2,2h1.5c0.3,0,0.5-0.2,0.5-0.5V6.4 C4.3,6.2,4.1,6,3.9,6H3.4V4.5c0-2,1.6-3.6,3.7-3.6s3.7,1.6,3.7,3.6V6h-0.5C9.9,6,9.8,6.2,9.8,6.4v4.2c0,0.3,0.2,0.5,0.5,0.5h0.4 c-0.1,0.3-0.3,0.5-0.6,0.7c-0.4,0.3-1,0.5-1.9,0.6c-0.2-0.4-0.6-0.7-1.1-0.7c-0.7,0-1.2,0.5-1.2,1.2C5.8,13.5,6.3,14,7,14 c0.5,0,0.9-0.3,1.1-0.8c1-0.1,1.9-0.3,2.4-0.8c0.5-0.4,0.8-0.9,0.9-1.4h0.2c1.1,0,2-0.9,2-2V7.9c0-1.1-0.9-2-2-2h-0.2V4.5 C11.6,2,9.6,0,7.1,0z"}))},Component:ee},[ye.a.ELLIPSIS]:{Icon:function(e){return Object(o.jsx)("svg",ce({viewBox:"0 0 32 32","data-icon-name":"ChatTriggerEllipsis",focusable:"false"},e),Object(o.jsx)("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M28.28387,3.51813C30.33623,3.51813,32,5.1819,32,7.23426 v14.45782c0,2.05236-1.66377,3.71613-3.71613,3.71613l-1.29445-0.00002l0.61046,3.88583 c0.02475,0.1576,0.00841,0.31823-0.04651,0.46661l-0.04838,0.10876c-0.21984,0.41951-0.71518,0.60119-1.14754,0.43933 l-0.10658-0.04768l-9.26093-4.85285L3.71613,25.40821C1.66377,25.40821,0,23.74444,0,21.69208V7.23426 C0,5.1819,1.66377,3.51813,3.71613,3.51813H28.28387z M16,11.3664c-1.7103,0-3.09677,1.38647-3.09677,3.09677 S14.2897,17.55995,16,17.55995s3.09678-1.38647,3.09678-3.09678S17.7103,11.3664,16,11.3664z M7.52941,12.639 c-1.03959,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417s1.88235-0.81671,1.88235-1.82417 S8.56901,12.639,7.52941,12.639z M24.47059,12.639c-1.0396,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417 c1.03959,0,1.88235-0.81671,1.88235-1.82417S25.51018,12.639,24.47059,12.639z"}))},Component:ee},[ye.a.ELLIPSIS_STROKE]:{Icon:function(e){return Object(o.jsx)("svg",se({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerEllipsisStroke",focusable:"false"},e),Object(o.jsx)("path",{d:"M2.4,13.8c-0.2-0.1-0.3-0.2-0.3-0.4v-2.6H1.7C0.7,10.8,0,10,0,9.1V1.9c0-1,0.8-1.7,1.7-1.7h10.5c1,0,1.7,0.8,1.7,1.7v7.2 c0,1-0.8,1.7-1.7,1.7H5.7l-2.8,2.8C2.7,13.8,2.5,13.9,2.4,13.8L2.4,13.8z M0.8,1.9v7.2c0,0.5,0.4,0.9,0.9,0.9h0.8 C2.8,10,3,10.2,3,10.5v2l2.2-2.3C5.3,10.1,5.4,10,5.5,10h6.8c0.5,0,0.9-0.4,0.9-0.9V1.9c0-0.5-0.4-0.9-0.9-0.9H1.7 C1.2,1,0.8,1.4,0.8,1.9z M6.2,5.5C6.2,5,6.6,4.7,7,4.7c0.5,0,0.8,0.4,0.8,0.8C7.8,6,7.5,6.3,7,6.3S6.2,6,6.2,5.5L6.2,5.5z M9.3,5.5 c0-0.5,0.4-0.8,0.8-0.8c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.3,0.8-0.8,0.8S9.3,6,9.3,5.5L9.3,5.5z M3,5.5C3,5,3.4,4.7,3.8,4.7 c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.4,0.8-0.8,0.8l0,0C3.4,6.3,3,6,3,5.5L3,5.5z"}))},Component:ee},[ye.a.CROSS]:{Icon:function(e){return Object(o.jsx)("svg",de({viewBox:"0 0 14 14","data-icon-name":"Close",focusable:"false"},e),Object(o.jsx)("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"}))},Component:X},[ye.a.CHEVRON]:{Icon:ue.a,Component:X}};var je=r.a.memo((e=>{const{className:t,minimizedIconClassName:n,maximizedIconClassName:c,triggerIconName:s=ye.a.BUBBLE,label:l,innerLabelRef:u,mode:d=ve.MINIMIZED,closeIconName:b=ye.a.CROSS,onLoad:p=B.a}=e,{Icon:h,Component:O}=ge[s],{Icon:y,Component:v}=ge[b],g=Object(i.b)(),[j,m]=Object(a.useState)(!1),I=Object(a.useMemo)((()=>he(g)),[g]),E=Object(te.a)(),C=Object(ne.a)(),T=d===ve.MINIMIZED,S=!f()(I)&&T&&!j,_=!E,A=_||T;Object(a.useEffect)((()=>(S||p(!0),()=>p(!1))),[p,S]);const x=Object(a.useCallback)((()=>{m(!0)}),[]);return S?Object(o.jsx)(Oe,{className:t,theme:g,customTriggerIconUrls:I,onLoad:p,onError:x}):Object(o.jsx)(H,{className:t,theme:g},Object(o.jsx)(r.a.Fragment,null,_&&Object(o.jsx)(Z,{className:`center-x-y ${c}`,css:T?z:K},Object(o.jsx)(v,{alt:y})),A&&Object(o.jsx)(Q,{className:`center-x-y ${n}`,css:T?Y:q,"data-testid":"default-trigger"},Object(o.jsx)(O,{alt:h}),l?Object(o.jsx)(J,{ref:u,className:"m-b-0",direction:C,isPhone:E,theme:g},l):null)))})),me=n(325),Ie=n(275),Ee=n(549),Ce=n(277),Te=n(298),Se=n(305),_e=n(271),Ae=n(294),xe=n(429),we=n(369),Ne=n(318);var Re=n(289),Le=n(279),Pe=n(346),Me=n(70);const De=e=>Object(Pe.g)(Object(Le.b)(e));var ke=n(368),Ue=n(281),Fe=n(304),Be=n(330),Ge=n(350);const $e=e=>Object(Le.b)(e).meta.isTriggerManuallyHidden,Ve=()=>{var e;(()=>{const e=Object(Ce.a)(Re.h),t=Object(Ae.a)(),n=we.a.getNoDisplayConfigFilter(t),{hasPassed:r}=Object(xe.a)(n,{defaultValue:!1,logOnSuccess:!0}),i=Object(c.d)(De);Object(a.useEffect)((()=>{!f()(n)&&i&&(r&&Object(Me.a)("Sprinklr Chat hidden by display criteria"),e({value:r}))}),[n,i,r])})();const t=Object(Ce.a)(Re.c),n=null===(e=Object(Ie.a)().trigger)||void 0===e?void 0:e.hideTimeout,r=Object(c.c)(),i=Object(a.useRef)(null),o=Object(a.useRef)(!n),s=Object(c.d)($e),l=Object(c.d)(Ue.h),u=Object(Fe.d)(l),d=Object(Se.a)();o.current||(o.current=!0,Object(ke.c)(u).then((e=>{e&&Date.now()<=e?i.current=window.setTimeout((()=>{r({type:Be.n,payload:{}})}),e-Date.now()):r({type:Be.n,payload:{}})})));const b=Object(a.useCallback)((async()=>{n&&(await Object(ke.m)(u,Date.now()+n),i.current=window.setTimeout((()=>{r({type:Be.n,payload:{}})}),n)),d({action:Ge.a.CHAT_TRIGGER_REMOVED}),t()}),[n,t,r,u]);return Object(a.useEffect)((()=>{s||(Object(ke.j)(u),i.current&&(window.clearTimeout(i.current),i.current=null))}),[s]),b};var He=n(269),We=n(283),ze=n(351),qe=n(272);const Ke=e=>Object(Pe.g)(Object(Le.b)(e)),Ye=e=>Object(Pe.f)(Object(Le.b)(e)),Xe=e=>Object(Le.d)(e),Ze=e=>e?Math.ceil(e.clientWidth):0;var Qe=r.a.memo(Object(s.h)((e=>{const t=Object(a.useRef)(null),{direction:n}=Object(He.a)(),{showTrigger:r,handleShowTriggerStateChange:s}=e,l=Object(Ie.a)(),b=Object(i.b)(),p=Object(_e.a)(),h=Object(a.useRef)(),y=Object(a.useRef)(null),v=Object(Te.a)()(Ne.a.getTriggerConfig(l),"label"),g=Ve(),[m,I]=Object(a.useState)(!0),[E,T]=Object(a.useState)(v),[S,_]=Object(a.useState)(!1),[A,R]=Object(a.useState)(0),F=Object(c.d)(Ke),B=Object(c.d)(Ye),G=Object(c.d)(Xe),$=Object(Ce.a)(Re.g),V=Object(Se.a)(),H=Ne.a.getAnimationInfoOfTrigger(l),{showChatTriggerAnimation:W}=(()=>{const[e,t]=Object(a.useState)(!1),n=Object(Ae.a)(),r=we.a.getTriggerAnimationConfigFilter(n),{hasPassed:i}=Object(xe.a)(r,{defaultValue:!1,logOnSuccess:!0}),o=Ne.a.getAnimationInfoOfTrigger(we.a.getCustomizationConfig(n)),c=O()(o,"effect");return Object(a.useEffect)((()=>{!f()(r)&&c&&t(i)}),[r,c,i]),{showChatTriggerAnimation:e}})(),z=u()(B),q=u()(r),K=u()(E);Object(a.useEffect)((()=>{(z||!q)&&!(B||!r)&&V({action:Ge.a.TRIGGER_VISIBLE})}),[r,q,B,z,V]),Object(a.useEffect)((()=>(r&&!p&&(h.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{_(!0)}))}))),()=>{h.current&&window.cancelAnimationFrame(h.current)})),[r,p]),Object(a.useEffect)((()=>{const e=p?"":v;K!==e&&T(e)}),[p,v,K]);const Y=e.intl.formatMessage,X=Ne.a.canTriggerBeManuallyRemoved(l)&&F&&f()(G),Z=Object(a.useMemo)((()=>Object(j.f)("trigger.icon.type")({theme:b})),[b]),Q=Object(a.useMemo)((()=>Object(j.f)("trigger.closeIcon.type")({theme:b})),[b]),J=Object(Ee.a)(),ee=Object(a.useMemo)((()=>he(b)),[b]),te=Object(a.useCallback)((()=>{$(!F),F&&(null===ee||void 0===ee?void 0:ee.length)>1&&V({action:Ge.a.CHAT_TRIGGER_CLICKED,additional:{triggerImageUrl:pe}})}),[F,$]),ne=Object(a.useCallback)((()=>{r&&R(Ze(y.current)),J(t)}),[r,J]),ae=Object(a.useCallback)((()=>{R(Ze(y.current))}),[]),re=Object(a.useCallback)((e=>{s(e),R(Ze(y.current))}),[]),ie=Object(a.useCallback)((e=>{I(e)}),[]),oe=B||p&&!F,ce=Y(F?We.a.openChat:We.a.closeChat),se=Object(a.useRef)(),le=()=>{se.current&&window.clearTimeout(se.current)};return oe?null:Object(o.jsx)(L,{enableTriggerHideIcon:X,applyRemoveIconStyles:m,"data-testid":"triggerContainer"},Object(o.jsx)(me.a,{component:P,showTrigger:r,showLabel:F&&!!E,css:W?C({triggerAnimationInfo:H,theme:b}):"",labelWidth:A,enableTriggerWidthTransition:S,theme:b,className:"spr-chat__trigger-box spr-live-chat-frame",id:"spr-chat__trigger-button",onClick:te,ariaLabel:ce,onTouchStart:()=>{ie(!1),se.current=window.setTimeout((()=>{ie(!0),se.current=void 0}),700)},onTouchEnd:le,onTouchCancel:le,onContextMenu:e=>{e.preventDefault(),ie(!0)}},Object(o.jsx)(M,{"aria-label":Y(We.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:ne,shouldHideLocaleLoader:!0,title:Y(We.a.liveChat)},Object(o.jsx)(o.Global,{styles:D(b,{isMinimized:F})}),Object(o.jsx)("div",{className:"full-height full-width",ref:t},Object(o.jsx)(d.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(o.jsx)(U.a,{window:t,onResize:ae,resizeRefs:y},(e=>Object(o.jsx)(je,{className:"full-width",label:E,triggerIconName:Z,closeIconName:Q,mode:F?ve.MINIMIZED:ve.MAXIMIZED,onLoad:re,innerLabelRef:e,minimizedIconClassName:"spa",maximizedIconClassName:"spa"})))})))),Object(o.jsx)(k,null)),X&&r&&Object(o.jsx)(x,{onClick:g,"data-testid":"triggerCloseIconContainer",direction:n},Object(o.jsx)(w,null,Object(o.jsx)(N,{alt:ze.a,name:qe.b.CLOSE}))))}))),Je=n(542),et=n(748);const tt=Object(p.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(j.a)("trigger.overlayIconButton.borderRadius",Object(j.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";position:absolute;bottom:",(e=>_(e)),"px;",(e=>A(e)),";height:",Object(j.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(j.f)("trigger.overlayIconButton.button.width"),"px;transform:translatez(",Object(j.f)("frame.translateZ"),"px);z-index:",Object(j.f)("frame.zIndex"),";box-shadow:var(--spr-lc-bxs-3);"),nt=Object(p.a)(v.a,{target:"egvnsbi1"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),at=Object(p.a)(et.a,{target:"egvnsbi2"})("font-size:",Object(j.f)("trigger.overlayIconButton.fontSize"),";height:",Object(j.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(j.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(j.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(j.a)("trigger.overlayIconButton.borderRadius",Object(j.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),rt="spr-chat-proactive-box-anim",it=Object(o.css)(".",rt,"-enter{opacity:0;}.",rt,"-enter.",rt,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",rt,"-enter-done,.",rt,"-appear{}.",rt,"-exit{opacity:1;}.",rt,"-exit.",rt,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),ot=Object(p.a)("div",{target:"egvnsbi3"})({name:"79elbk",styles:"position:relative;"});var ct=n(479),st=n(550),lt=n(286);const ut=Object(Je.a)((e=>Object(Pe.g)(Object(Le.b)(e))),(e=>Object(Pe.f)(Object(Le.b)(e))),(e=>Object(lt.x)(Object(lt.q)(Object(Le.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var dt=r.a.memo(Object(s.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:a}=Object(c.d)(ut),s=Object(i.b)(),{direction:l}=Object(He.a)(),{isTriggerLoaded:u}=e,d=e.intl.formatMessage;return a?null:Object(o.jsx)(r.a.Fragment,null,Object(o.jsx)(o.Global,{styles:it}),Object(o.jsx)(st.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:rt,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(o.jsx)(ot,{className:"notification-container"},Object(o.jsx)(ct.a,{unreadCount:n,shouldPlay:!0}),n>0&&u?Object(o.jsx)(tt,{className:"spr-chat__notification-box spr-live-chat-frame","data-testid":"notification-frame-container",theme:s,direction:l},Object(o.jsx)(nt,{name:"spr-chat__notification-frame","aria-label":d(We.a.liveChatNotification),title:d(We.a.liveChatNotification)},Object(o.jsx)(at,{className:"center-x-y",count:n}))):null)))})));const bt=e=>Object(j.f)("trigger.xPadding",20)({theme:e}),ft=e=>Object(j.f)("trigger.yPadding",20)({theme:e}),pt=Object(p.a)("div",{target:"e1d0iltl0"})("position:fixed;bottom:",(e=>ft(e.theme)),"px;",(e=>{return t=e.theme,`${Object(j.f)("trigger.align","right")({theme:t})}: ${bt(t)}px`;var t}),";z-index:",(e=>Object(j.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(j.f)("frame.translateZ")(e)),"px);");var ht=()=>{const e=Object(i.b)(),[t,n]=Object(a.useState)(!1);return Object(o.jsx)(pt,{theme:e},Object(o.jsx)(Qe,{showTrigger:t,handleShowTriggerStateChange:n}),Object(o.jsx)(dt,{isTriggerLoaded:t}))}},940:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return E}));var a=n(68),r=n.n(a),i=n(1477),o=n.n(i),c=n(7),s=n.n(c),l=n(40),u=n.n(l),d=n(399),b=n.n(d),f=n(321),p=n(2),h=n(324);const O="x-chat-token",y=e=>{let{data:t,url:n}=e,a="";return u()(t)||r()(t,(function(e,t){t!==O&&(a+=`${encodeURIComponent(t)}=${encodeURIComponent(s()(e)?JSON.stringify(e):e)}&`)})),a?`${n}?${a.slice(0,-1)}`:n};async function v(e){const{webview:t}=Object(p.a)();let n=e;if(t){const{url:t,data:a={}}=e,r=y({url:t,data:{...a,generateUrl:!0}}),{data:i}=await f.a.post(r);n={url:"https://prod4-live-chat.sprinklr.com/api/livechat/conversation/webview/downloadFile",data:i}}const a=function(e){let{url:t,data:n,method:a=h.a.POST,contentType:r}=e;const i=b()(),c=document.createElement("form"),{body:s}=document,l=y({data:n,url:t});return c.setAttribute("id",`spr-chat-download-form-${i}`),c.setAttribute("target","_top"),c.setAttribute("action",l),c.setAttribute("method",a),c.style.display="none",r&&(c.enctype=r),null!==n&&void 0!==n&&n[O]&&(c.innerHTML=`<input type="hidden" id="x-chat-token" name="x-chat-token" value="${o()(n[O])}">`),s.appendChild(c),c}(n);a.submit(),setTimeout((()=>(e=>{var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)})(a)),3e4)}var g=n(368),j=n(363),m=n(342);async function I(e){const t=await Object(g.a)(j.a.getAppId(Object(p.a)()));v({url:"https://prod4-live-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(m.f)(),"x-chat-token":t,conversationId:e}})}async function E(e){const t=await Object(g.a)(j.a.getAppId(Object(p.a)()));v({url:"https://prod4-live-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(m.f)(),"x-chat-token":t,...e}})}},942:function(e,t,n){"use strict";var a=n(262),r=n.n(a),i=n(367),o=n.n(i),c=n(499),s=n(303),l=n(263);var u=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(a.useMemo)((()=>[...o()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),i=Object(s.a)(...n);return Object(l.jsx)(r.a.Fragment,null,e.children(i))};t.a=u},979:function(e,t,n){var a=n(5).isFinite;e.exports=function(e){return"number"==typeof e&&a(e)}},980:function(e,t,n){var a=n(1392),r=n(172);e.exports=function(e,t){return null!=e&&r(e,t,a)}},981:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}}}]);