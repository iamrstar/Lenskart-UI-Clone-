(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405,5065],{64510:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}r.d(t,{Z:function(){return h}});var s=r(14027);function u(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=r(59499),d=r(67294),f=r(85893);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,s,u=v(c);function c(){var e;n(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=u.call.apply(u,[this].concat(r)),(0,l.Z)(i(e),"state",{hasError:!1}),e}return t=c,s=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?(0,f.jsx)("h1",{children:"Sorry.. there was an error"}):this.props.children}}])&&o(t.prototype,r),s&&o(t,s),c}(d.Component),h=p},32609:function(e,t){"use strict";t.Z=function(e,t){var r,n=void 0;return function(){for(var o=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n?r=a:(e.apply(this,a),r=a,n=setTimeout((function(){e.apply(o,r),clearTimeout(n),n=void 0}),t))}}},32700:function(e,t,r){"use strict";var n=r(32609),o=r(67294),i=r(50549);t.Z=function(e,t){var r=(0,o.useState)(0),a=r[0],s=r[1],u=(0,o.useState)(!0),c=u[0],l=(u[1],(0,o.useState)(!1)),d=l[0],f=l[1],v=(0,o.useState)(!0),p=v[0],h=v[1],g=(0,i.Z)(a),b=(0,n.Z)((function(){var t,r=null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollTop;s(Number(r)||0)}),200),y=(0,n.Z)((function(){s(window.scrollY)}),200);return(0,o.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;if(t)return t.addEventListener("scroll",b,{passive:!0}),function(){t.removeEventListener("scroll",b)}}),[b,e]),(0,o.useEffect)((function(){if(null===e||void 0===e||!e.current)return y(),window.addEventListener("scroll",y),function(){window.removeEventListener("scroll",y)}}),[]),(0,o.useEffect)((function(){Math.floor(a)<=(t||5)?(h(!0),f(!1)):(a&&f(!0),g&&a&&(g>a?h(!0):g<a&&h(!1)))}),[g,a]),{showBottomBar:c,mainDivRef:e,showHeaderShadow:d,showTopBar:p}}},60010:function(e,t,r){"use strict";var n=r(84627),o=r(32609),i=r(96285),a=r(67294),s=r(9473),u=r(11776);t.Z=function(e,t,r){var c=(0,s.v9)((function(e){return e.pageInfo})),l=(0,s.v9)((function(e){return e.userInfo}));(0,a.useEffect)((function(){if(t){var o=document.querySelectorAll('[data-clarity="clarity-unvisited"]:not([data-clarity="clarity-visited"])'),a=new IntersectionObserver((function(t,r){t.forEach((function(t){if(t.isIntersecting){var o=t.target;if("IMG"===o.tagName&&!o.getAttribute("src")){var a=o.getAttribute("data-src");a&&(o.setAttribute("src",a),o.setAttribute("loading","eager"))}var s=o.getAttribute("data-promoid"),d=o.getAttribute("data-promoname"),f=o.getAttribute("data-creativename");"clarity-visited"===o.getAttribute("data-clarity")||((0,i.vk)(c.country,l.isLogin,l.sessionId||"".concat((0,n.ej)(u.B$)),s||"",d||"",e,f||""),o.setAttribute("data-clarity","clarity-visited")),r.unobserve(o)}}))}),{threshold:.1,root:r});o.forEach((function(e){a.observe(e)}))}}),[t]),(0,a.useEffect)((function(){var a=(0,o.Z)((function(){var t=document.querySelectorAll('[data-clarity="clarity-unvisited"]:not([data-clarity="clarity-visited"])'),o=new IntersectionObserver((function(t,r){t.forEach((function(t){if(t.isIntersecting){var o=t.target;if("IMG"===o.tagName&&!o.getAttribute("src")){var a=o.getAttribute("data-src");a&&(o.setAttribute("src",a),o.setAttribute("loading","eager"))}var s=o.getAttribute("data-promoid"),d=o.getAttribute("data-promoname"),f=o.getAttribute("data-creativename");"clarity-visited"===o.getAttribute("data-clarity")||((0,i.vk)(c.country,l.isLogin,l.sessionId||"".concat((0,n.ej)(u.B$)),null!==s&&void 0!==s?s:"",null!==d&&void 0!==d?d:"",e,null!==f&&void 0!==f?f:""),o.setAttribute("data-clarity","clarity-visited")),r.unobserve(o)}}))}),{threshold:.1,root:r});t.forEach((function(e){o.observe(e)}))}),200);return t&&(r?r.addEventListener("scroll",a):window.addEventListener("scroll",a)),function(){t&&(r?r.removeEventListener("scroll",a):window.removeEventListener("scroll",a))}}),[t])}},50549:function(e,t,r){"use strict";var n=r(67294);t.Z=function(e){var t=(0,n.useRef)();if((0,n.useEffect)((function(){t.current=e})),void 0!==t.current&&t.current)return t.current}},80539:function(e,t,r){"use strict";var n=r(50029),o=r(87794),i=r.n(o),a=r(60719),s=r(11254),u=r(84627),c=r(84313),l=r(67294),d=r(11776),f=r(9473),v=r(1882),p=r(72914),h=r(90884);t.Z=function(){var e=(0,l.useState)(null),t=e[0],r=e[1],o=(0,l.useState)(!1),g=o[0],b=o[1],y=(0,f.v9)((function(e){return e.userInfo})),m=y.userLoading,E=y.userError,w=(0,f.v9)((function(e){return e.pageInfo.subdirectoryPath})),I=(0,f.I0)();function S(e){return k.apply(this,arguments)}function k(){return(k=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setMethod(a.S.POST),e.next=3,s.rg.createNewSession(t);case 3:if(r=e.sent,n=r.data,!r.error.isError){e.next=8;break}return e.abrupt("return",{notFound:!0});case 8:(0,u.d8)(d.B$,n.sessionId),t.resetHeaders(),t.sessionToken=n.sessionId,t.setHeaders(u.zb).setMethod(a.S.GET);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useLayoutEffect)((function(){return(0,n.Z)(i().mark((function e(){var t,n,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,c.a)({}),(0,u.h2)(d.B$)){e.next=10;break}if((0,u.h2)(d.vK)&&null!==(n=function(){try{return JSON.parse("".concat((0,u.ej)(d.vK)))}catch(e){return(0,u.ej)(d.vK)||null}}())&&void 0!==n&&n.id&&(0,u.d8)(d.B$,n.id),(0,u.h2)(d.B$)){e.next=10;break}return e.next=9,S(t);case 9:I((0,v.fc)(!1));case 10:if(o="".concat((0,u.ej)(d.B$)),!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(o)){e.next=29;break}return""===t.sessionToken&&(t.sessionToken=o),t.resetHeaders(),t.setHeaders(u.zb).setMethod(a.S.GET),e.next=17,s.rg.validateSession(t);case 17:if(l=e.sent,f=l.data,!l.error.isError){e.next=26;break}return e.next=23,S(t);case 23:r({id:"".concat((0,u.ej)(d.B$)),wishlist:[],isLoggedIn:!1}),e.next=27;break;case 26:r(f.customerInfo||null);case 27:e.next=32;break;case 29:return e.next=31,S(t);case 31:r({id:"".concat((0,u.ej)(d.B$)),wishlist:[],isLoggedIn:!1});case 32:case"end":return e.stop()}}),e)})))(),function(){}}),[I]),(0,l.useLayoutEffect)((function(){!m&&E&&(0,n.Z)(i().mark((function e(){var t,n,o,l,f,p,h,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.a)({}),n="".concat((0,u.ej)(d.B$)),""===t.sessionToken&&(t.sessionToken=n),t.resetHeaders(),t.setHeaders(u.zb).setMethod(a.S.GET),e.next=7,s.rg.validateSession(t);case 7:if(o=e.sent,l=o.data,f=o.error,p=null===l||void 0===l?void 0:l.customerInfo,!f.isError){e.next=24;break}return e.next=14,S(t);case 14:return I((0,v.fc)(!1)),t.sessionToken=n,e.next=18,s.rg.validateSession(t);case 18:h=e.sent,g=h.data,h.error,r(g.customerInfo||null),e.next=25;break;case 24:r(l.customerInfo||null);case 25:I((0,v.Al)({userError:!1,userErrorMessage:"",userLoading:!1,sessionId:null===p||void 0===p?void 0:p.id,isLogin:!(null===p||void 0===p||!p.isLoggedIn),mobileNumber:null!==p&&void 0!==p&&p.customerMobile?null===p||void 0===p?void 0:p.customerMobile:null,email:null!==p&&void 0!==p&&p.customerEmail?null===p||void 0===p?void 0:p.customerEmail:null,cartId:null!==p&&void 0!==p&&p.cartIds?null===p||void 0===p?void 0:p.cartIds:null,isWhatsappOptingLoading:!1,whatsAppOptingStatus:!1,isGuestFlow:!1,guestEmail:"",guestNumber:null,whatsAppChecked:!0,loyaltyData:{tierName:"",tierLabel:"",loyaltyExpiryDate:Date.now()},prescription:{lastPrescriptionDate:""},frameSize:{createdAt:"",imageUrl:"",faceShape:""}}));case 26:case"end":return e.stop()}}),e)})))()}),[I,null===t||void 0===t?void 0:t.id,m,E,null===t||void 0===t?void 0:t.isLoggedIn,null===t||void 0===t?void 0:t.customerMobile,null===t||void 0===t?void 0:t.customerEmail,null===t||void 0===t?void 0:t.cartIds,null===t||void 0===t?void 0:t.itemsCount]),(0,l.useLayoutEffect)((function(){null!==t&&void 0!==t&&t.id&&!g&&(I((0,h.l2)({sessionId:null===t||void 0===t?void 0:t.id})),I((0,p.BW)({sessionId:(0,u.ej)(d.B$),subdirectoryPath:w})),b(!0)),null!==t&&void 0!==t&&t.id&&null!==t&&void 0!==t&&t.isLoggedIn?I((0,v.r3)({sessionId:null===t||void 0===t?void 0:t.id})):null===t||void 0===t||!t.id||null!==t&&void 0!==t&&t.isLoggedIn||I((0,v.fc)(!1))}),[null===t||void 0===t?void 0:t.id,null===t||void 0===t?void 0:t.isLoggedIn,null===t||void 0===t?void 0:t.wishlist,I]),{userSessionId:!(null===t||void 0===t||!t.id),isLoggedInUser:!(null===t||void 0===t||!t.isLoggedIn)}}},72249:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return v},default:function(){return p}});var n=r(48266),o=r(23592),i=r(44608),a=r(67294),s=r(21573),u=r(5152),c=r.n(u),l=r(85893),d=c()((function(){return Promise.all([r.e(7052),r.e(1354),r.e(8167),r.e(5675),r.e(3886),r.e(3031),r.e(5378),r.e(8096),r.e(4070)]).then(r.bind(r,1068))}),{loadableGenerated:{webpack:function(){return[1068]}}}),f=function(e){var t=e.data,r=e.device;return e.designSys===i.Xd.clarity&&r===o.h7.MOBILE?(0,l.jsx)(s.ZP,{data:t}):(0,l.jsx)(d,{data:t})},v=!0,p=function(e){var t=e.data,r=e.designSys,o=e.device;return(0,a.useEffect)((function(){sessionStorage.setItem("prevPath","home")}),[]),(0,a.useEffect)((function(){var e={pageName:"Home Page"};window.setTimeout((function(){(0,n.Eg)("Page Visited",n.N9.EVENT,e)}),500)}),[]),t?(0,l.jsx)(f,{data:t,designSys:r,device:o}):(0,l.jsx)("h3",{children:"Error in fetching data, please refresh the page"})}},48312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(72249)}])}},function(e){e.O(0,[7034,9926,6285,3096,7015,5332,2925,282,1573,9774,2888,179],(function(){return t=48312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);