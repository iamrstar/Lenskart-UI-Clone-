"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1573],{21573:function(e,o,n){n.d(o,{ZP:function(){return U},Qj:function(){return J}});var t=n(59499),i=n(27812),l=n(67294),a=n(11776),r=n(4771),s=n(11163),d=n(19521),u=n(22367),c=n(9473),v=n(70914),f=n(32700),g=n(80539),p=n(59855),m=n(5152),h=n.n(m),y=n(64510),E=n(96285),D=n(60010),T=n(84627),_=n(45816),I=n(46591),A=n(62925),b=n(9008),O=n.n(b),L=n(48266),C=n(23592),P=n(32424),R=n(3096),S=n(15934),x=n(82589),N=n(32017),w=n(60282),k=n(7406),B=n(28809),Y=n(85893);function j(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.push.apply(n,t)}return n}function F(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?j(Object(n),!0).forEach((function(o){(0,t.Z)(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}(0,p.Z)(h()((function(){return Promise.all([n.e(7052),n.e(7430),n.e(5675),n.e(6916),n.e(6600)]).then(n.bind(n,96600))}),{loadableGenerated:{webpack:()=>[96600]}}));var H=h()((function(){return n.e(3031).then(n.bind(n,93031))}),{ssr:!1,loadableGenerated:{webpack:function(){return[93031]}}}),M=h()((function(){return Promise.all([n.e(1608),n.e(5147)]).then(n.bind(n,74273)).then((function(e){return e.FrameSize}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[74273]}}}),G=h()((function(){return Promise.all([n.e(1608),n.e(5309),n.e(6761)]).then(n.bind(n,25309)).then((function(e){return e.IntersticeBottom}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[25309]}}}),Z=h()((function(){return Promise.all([n.e(7052),n.e(8167),n.e(3886)]).then(n.bind(n,73886))}),{loadableGenerated:{webpack:function(){return[73886]}}}),J=(d.default.div.withConfig({displayName:"HomeClarity__VerticalSpacer",componentId:"sc-1lyfkgq-0"})(["margin-bottom:64px;"]),function(e){return["TYPE_PRODUCTLIST_CLARITY","TYPE_SLIDER_CLARITY","TYPE_GRID_CLARITY","TYPE_BANNER_GRID","TYPE_FEATURE_BOARD_CLARITY","TYPE_LENSKARD_CLARITY","TYPE_REORDER_CLARITY","TYPE_BANNER_MINI","TYPE_BANNER_CLARITY","TYPE_BANNERS","TYPE_BANNER_PAGER","TYPE_BANNER","TYPE_SETTING","TYPE_STORE_LOCATOR_CLARITY"].includes(e)}),U=function(e){var o,n,t,d,p,m,h,b,j,U,V,z,W,X,K,q,$,Q,ee,oe,ne,te,ie,le,ae,re,se,de,ue,ce,ve,fe,ge,pe,me,he,ye,Ee,De,Te,_e,Ie,Ae,be,Oe=e.data,Le=(0,s.useRouter)(),Ce=(0,g.Z)().userSessionId,Pe=(0,c.v9)((function(e){return e.wishListInfo})),Re=(0,c.v9)((function(e){return e.userInfo})),Se=(0,c.v9)((function(e){return e.cartInfo})),xe=(0,c.v9)((function(e){return e.clarityHome.lenskardData})),Ne=(0,l.useRef)(null),we=(0,f.Z)(null,5),ke=we.showBottomBar,Be=we.showHeaderShadow,Ye=we.showTopBar,je=(0,c.I0)(),Fe=(0,c.v9)((function(e){return e.clarityHome})),He=Fe.bottomSheetTitle,Me=Fe.bottomSheetData,Ge=Fe.isBottomSheetLoading,Ze=Fe.bottomSheetError,Je=Fe.showBottomSheet,Ue=(Fe.clarityHomeData,Fe.clarityHomeLoading,Fe.clarityHomeError,Fe.clarityExploreData),Ve=(0,c.v9)((function(e){return e.pageInfo})),ze=(0,l.useState)(!1),We=ze[0],Xe=ze[1],Ke=(0,l.useState)(!1),qe=Ke[0],$e=Ke[1],Qe=(0,l.useState)("100vh"),eo=(Qe[0],Qe[1]),oo=(null===(o=Oe.configData)||void 0===o?void 0:o.ENABLE_ALGOLIA_CONFIG)&&Ve.deviceType==C.h7.MOBILE,no=function(){eo("".concat(window.innerHeight,"px"));var e=document.querySelector(".aa-PanelLayout");e&&(e.style.height="".concat(window.innerHeight-65,"px"))};(0,l.useEffect)((function(){if(Re.isLogin){var e,o,n,t,i;if(localStorage.setItem(a.GG,JSON.stringify([])),null!==(e=Re.userDetails)&&void 0!==e&&e.searches&&(null===(o=Re.userDetails)||void 0===o?void 0:o.searches.length)>0)localStorage.setItem(a.GG,JSON.stringify(null===(t=Re.userDetails)||void 0===t?void 0:t.searches));if(null!==(n=Re.userDetails)&&void 0!==n&&n.hasPlacedOrder)_.Z.setItem("hasPlacedOrder",null===(i=Re.userDetails)||void 0===i?void 0:i.hasPlacedOrder)}}),[Re.userLoading]),(0,l.useEffect)((function(){return qe?(document.body.style.overflow="hidden",no(),window.addEventListener("resize",no,{passive:!0})):document.body.style.overflow="auto",function(){document.body.style.overflow="auto",window.removeEventListener("resize",no)}}),[qe]),(0,D.Z)("home-clarity-page",!0,Ne.current),(0,l.useEffect)((function(){_.Z.setItem("IOElement",""),(0,L.Af)(Ve.deviceType)}),[]),(0,l.useEffect)((function(){if(Re.isLogin){var e,o,n,t,i;if(localStorage.setItem(a.GG,JSON.stringify([])),null!==(e=Re.userDetails)&&void 0!==e&&e.searches&&(null===(o=Re.userDetails)||void 0===o?void 0:o.searches.length)>0)localStorage.setItem(a.GG,JSON.stringify(null===(t=Re.userDetails)||void 0===t?void 0:t.searches));if(null!==(n=Re.userDetails)&&void 0!==n&&n.hasPlacedOrder)_.Z.setItem("hasPlacedOrder",null===(i=Re.userDetails)||void 0===i?void 0:i.hasPlacedOrder)}}),[Re.userLoading]),(0,l.useEffect)((function(){Ue||je((0,v.OD)({}))}),[je,Ue]);var to=(0,x.Z)(Oe.configData),io=to.loyaltyStatus,lo=to.loyaltyInfo,ao=to.isLoyaltyLoading,ro=to.loyaltyClickHandler;(0,l.useEffect)((function(){Re.userDataLoading||(0,E.vk)(Ve.country,Re.isLogin,Re.sessionId||"".concat((0,T.ej)(a.B$)),lo.text,"silver"===io?"Silver home view":"Gold home view","home-clarity-page","silver"===io?"SILVER_HEADER_TOOLBAR":"GOLD_HEADER_TOOLBAR")}),[Re.userDataLoading]),(0,l.useEffect)((function(){We||((0,E.tN)(Ve.country,Re.isLogin,Re.sessionId||"".concat(Ce||(0,T.ej)(a.B$)),"home-clarity-page"),Xe(!0))}),[Ve.country,We,Re.isLogin,Re.sessionId,Ce]);var so=function(e){null===e||void 0===e||e.stopPropagation(),Le.push("/scan")},uo=(0,l.useState)(!1),co=uo[0],vo=uo[1],fo=(0,c.v9)((function(e){return e.searchBarData.data})),go=(0,c.v9)((function(e){return e.clarityHome})),po=go.pastPurchaseData,mo=go.pastPurchaseError,ho=go.pastPurchaseLoading,yo=go.trendingLoading,Eo=go.trendingError,Do=go.trendingData;(0,l.useEffect)((function(){var e,o=null===Oe||void 0===Oe||null===(e=Oe.homePageData)||void 0===e?void 0:e.some((function(e){return"TYPE_REORDER_CLARITY"===e.dataType}));ho||po||mo.isError||!Re.sessionId||!o||je((0,v.Ce)({sessionId:Re.sessionId,pageSize:10}))}),[ho,po,mo.isError,je,Re.sessionId,null===Oe||void 0===Oe?void 0:Oe.homePageData]),(0,l.useEffect)((function(){var e,o,n,t=null===Oe||void 0===Oe||null===(e=Oe.homePageData)||void 0===e||null===(o=e.find((function(e){return"TYPE_PRODUCTLIST_CLARITY"===e.dataType})))||void 0===o||null===(n=o.metadata)||void 0===n?void 0:n.categoryId;yo||Do||Eo.isError||!Re.sessionId||!t||je((0,v.g9)({sessionId:Re.sessionId,pageSize:10,pageCount:0,categoryId:t}))}),[yo,Do,Eo.isError,je,Re.sessionId,null===Oe||void 0===Oe?void 0:Oe.homePageData]);var To=(0,l.useMemo)((function(){var e,o;return!(null===(e=Oe.configData)||void 0===e||!e.BOTTOM_BAR_NAVDATA||null===(o=Oe.configData)||void 0===o||!o.BOTTOM_BAR_NAVDATA.some((function(e){return e.route===Le.asPath})))&&ke}),[null===(n=Oe.configData)||void 0===n?void 0:n.BOTTOM_BAR_NAVDATA,Le.asPath,ke]);(0,l.useEffect)((function(){var e;"serviceWorker"in navigator&&null!==Oe&&void 0!==Oe&&null!==(e=Oe.configData)&&void 0!==e&&e.CLARITY_ENABLE_SERVICE_WORKER&&window.addEventListener("load",(function(){navigator.serviceWorker.register("sw.js",{scope:"/"}).then((function(e){}))}))}),[]);var _o=(0,l.useMemo)((function(){var e,o;return null===Oe||void 0===Oe||null===(e=Oe.homePageData)||void 0===e||null===(o=e.reduce((function(e,o,n){var t,l,a=e.nonVisualTypes+(J(o.dataType)?0:1),r=[];return J(o.dataType)&&n-a<("number"===typeof(null===Oe||void 0===Oe||null===(t=Oe.configData)||void 0===t?void 0:t.CLARITY_HOME_LAZY_INDEX)?null===Oe||void 0===Oe||null===(l=Oe.configData)||void 0===l?void 0:l.CLARITY_HOME_LAZY_INDEX:5)&&(r=function(e,o,n){var t,i=[];switch(o){case"TYPE_SLIDER_CLARITY":case"TYPE_GRID_CLARITY":case"TYPE_BANNER_GRID":case"TYPE_BANNER_CLARITY":case"TYPE_BANNERS":case"TYPE_BANNER_PAGER":case"TYPE_BANNER":if(e&&Array.isArray(e))for(var l=0;l<(null===e||void 0===e?void 0:e.length)&&(t=l,null!==n&&void 0!==n&&n.isFullWidth?t<1:null!==n&&void 0!==n&&n.widthRatio?t<=Math.floor(1/(null===n||void 0===n?void 0:n.widthRatio)):t<1);l++){var a;null!==e&&void 0!==e&&null!==(a=e[l])&&void 0!==a&&a.imageUrl&&i.push(e[l].imageUrl)}else e&&null!==e&&void 0!==e&&e.imageUrl&&i.push(e.imageUrl)}return i}(null===o||void 0===o?void 0:o.data,o.dataType,o.metadata)),{nonVisualTypes:a,allPreloadImgs:[].concat((0,i.Z)(e.allPreloadImgs),(0,i.Z)(r))}}),{nonVisualTypes:0,allPreloadImgs:[]}))||void 0===o?void 0:o.allPreloadImgs}),[null===Oe||void 0===Oe||null===(t=Oe.configData)||void 0===t?void 0:t.CLARITY_HOME_LAZY_INDEX,null===Oe||void 0===Oe?void 0:Oe.homePageData]),Io=Oe.homePageMetaData,Ao={};for(var bo in Io){if(bo.includes("alternate_"))Ao[bo.split("_").splice(1,2).join("-")]=Io[bo]}var Oo=F(F({},null===Oe||void 0===Oe||null===(d=Oe.homePageMobileData)||void 0===d||null===(p=d.homePageData)||void 0===p?void 0:p.metaData),{},{seoTitle:null!==Io&&void 0!==Io&&Io.seoTitle?null===Io||void 0===Io?void 0:Io.seoTitle:null===Oe||void 0===Oe||null===(m=Oe.homePageMobileData)||void 0===m||null===(h=m.homePageData)||void 0===h||null===(b=h.metaData)||void 0===b?void 0:b.title,canonical:null!==Io&&void 0!==Io&&Io.canonical?null===Io||void 0===Io?void 0:Io.canonical:null===Oe||void 0===Oe||null===(j=Oe.homePageMobileData)||void 0===j||null===(U=j.homePageData)||void 0===U||null===(V=U.metaData)||void 0===V?void 0:V.canonical,alternate:0!==Object.keys(Ao).length?Ao:null===Oe||void 0===Oe||null===(z=Oe.homePageMobileData)||void 0===z||null===(W=z.homePageData)||void 0===W||null===(X=W.metaData)||void 0===X?void 0:X.alternate,description:null!==Io&&void 0!==Io&&Io.description?Io.description:"Shop online for Sunglasses, Eyeglasses, Contact Lenses and Frames for all. Upto 50% Flat Discount at lenskart.com \u2713Free shipping \u2713COD \u271314 Days Return."}),Lo=(null===Oe||void 0===Oe||null===(K=Oe.configData)||void 0===K?void 0:K.SCHEMA_APP)&&JSON.parse(null===Oe||void 0===Oe||null===(q=Oe.configData)||void 0===q?void 0:q.SCHEMA_APP),Co=F({},(0,w.HU)(null===Oe||void 0===Oe||null===($=Oe.configData)||void 0===$?void 0:$.DOMAIN)),Po=F({},(0,w.Ix)(null===Oe||void 0===Oe||null===(Q=Oe.configData)||void 0===Q?void 0:Q.DOMAIN,Lo));return(0,Y.jsxs)(y.Z,{children:[(0,Y.jsxs)(O(),{children:[(0,Y.jsx)("title",{children:(null===Oo||void 0===Oo?void 0:Oo.seoTitle)||"Lenskart.com\xae"}),(0,Y.jsx)("meta",{name:"description",content:Oo.description}),(0,Y.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(Co)}}),(0,Y.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(Po)}}),!(null===Oo||void 0===Oo||!Oo.metaName)&&Object.keys(null===Oo||void 0===Oo?void 0:Oo.metaName).map((function(e){return(0,Y.jsx)("meta",{content:Oo.metaName[e]||"",name:e},(0,k.x0)())})),!(null===Oo||void 0===Oo||!Oo.metaProperty)&&Object.keys(null===Oo||void 0===Oo?void 0:Oo.metaProperty).map((function(e){return(0,Y.jsx)("meta",{content:"og:image"==e?"https:"+Oo.metaProperty[e]||0:Oo.metaProperty[e]||"",property:e},(0,k.x0)())})),(0,Y.jsx)("link",{rel:"canonical",href:null===Oo||void 0===Oo?void 0:Oo.canonical}),!(null===Oo||void 0===Oo||!Oo.alternate)&&Object.keys(Oo.alternate).map((function(e){return(0,Y.jsx)("link",{rel:"alternate",href:null===Oo||void 0===Oo?void 0:Oo.alternate[e],hrefLang:e},(0,k.x0)())})),(0,Y.jsx)("link",{rel:"alternate",href:(null===Io||void 0===Io?void 0:Io.xDefault)||"https://www.lenskart.com",hrefLang:"x-default"}),null!==Oe&&void 0!==Oe&&null!==(ee=Oe.configData)&&void 0!==ee&&ee.CLARITY_HOME_PRELOAD_IMAGES&&Array.isArray(null===Oe||void 0===Oe||null===(oe=Oe.configData)||void 0===oe?void 0:oe.CLARITY_HOME_PRELOAD_IMAGES)?null===Oe||void 0===Oe||null===(ne=Oe.configData)||void 0===ne||null===(te=ne.CLARITY_HOME_PRELOAD_IMAGES)||void 0===te?void 0:te.map((function(e){return(0,Y.jsx)("link",{rel:"preload",as:"image",href:e},e)})):(0,Y.jsx)(Y.Fragment,{}),_o&&Array.isArray(_o)?null===_o||void 0===_o?void 0:_o.map((function(e){return(0,Y.jsx)("link",{rel:"preload",as:"image",href:e},e)})):null]}),(0,Y.jsxs)("div",{ref:Ne,style:{lineHeight:"normal"},children:[oo&&qe?(0,Y.jsx)(Z,{configData:null===Oe||void 0===Oe?void 0:Oe.configData,setShowAlgoliaSearchState:function(e){$e(e)},userInfo:Re}):!oo&&co?(0,Y.jsx)(H,{onQrClick:so,onClose:function(){return vo(!1)},deviceType:Ve.deviceType,searchFunction:function(e){var o={sessionId:Re.sessionId,query:e,country:Ve.country||""};_.Z.setItem("searchQuery",e),je((0,I.XX)(o))},getQueryData:function(e){(0,E.Ac)(e),(0,E.bt)("search","VirtualPageView",Re,Re.sessionId,e,Re.email,"SearchPage",Ve),window.location.href="".concat(window.location.origin).concat(Ve.subdirectoryPath,"/search?q=").concat(e)},delay:200,trendingMenus:null===(ie=Oe.configData)||void 0===ie?void 0:ie.TRENDING_MENUS,matchingKeywordsData:null===fo||void 0===fo?void 0:fo.typeAhead,productData:null===fo||void 0===fo?void 0:fo.productRecommendations,isRTL:Ve.isRTL,placeholderText:(null===(le=Oe.localeData)||void 0===le?void 0:le.WHAT_ARE_YOU_LOOKING_FOR)||"",localeData:Oe.localeData,country:Ve.country,router:Le,subdirectoryPath:Ve.subdirectoryPath,sessionStorageHelper:_.Z}):null,(0,Y.jsx)(A.XM,{loyaltyInfo:lo,logoClickHandler:function(){return Le.push("/")},phoneNumber:"1800-111-111",phoneClickHandler:function(){},searchClickHandler:function(){(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId||"".concat((0,T.ej)(a.B$)),"search","home-clarity-page"),oo&&((0,E.DF)(Re),je((0,P.Ny)({sessionId:Re.sessionId})).then((function(){$e(!0)})),je((0,P.Dr)({showResult:!1}))),vo(!0)},gaCtaClick:function(e){return(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,e,"home-clarity-page")},gaSelectPromotionClick:function(e,o){return(0,E.G5)(Ve.country,Re.isLogin,Re.sessionId||"".concat((0,T.ej)(a.B$)),e,"silver"===io?"Silver select":"Gold Select","home-clarity-page",o)},showHeaderShadow:Be,scanClickHandler:so,wishlistClickHandler:function(){return Le.push("/shortlist")},cartClickHandler:function(){return Le.push("/cart")},loyaltyStatus:io,onLoyaltyClickHandler:ro,headerConfig:null===(ae=Oe.configData)||void 0===ae?void 0:ae.CLARITY_HOME_MSITE_HEADER_CONFIG,wishListCount:0!==Pe.numberOfProducts?Pe.numberOfProducts:void 0,cartCount:null!==(re=null!==(se=Se.cartCount)&&void 0!==se?se:Re.cartItemCount)&&void 0!==re?re:0,isLoyaltyLoading:ao,showTopBar:Ye,hamburgerClickHandler:function(){je((0,v.qt)(!0))}}),(0,Y.jsx)(N.B,{pageName:"home-clarity-page",dataLocale:Oe.localeData,navMenuData:null===Oe||void 0===Oe?void 0:Oe.navMenuData}),(0,Y.jsx)("section",{children:(null===Oe||void 0===Oe||null===(de=Oe.homePageData)||void 0===de||null===(ue=de.reduce((function(e,o,n){var t,l,a,r=e.nonVisualTypes+(J(o.dataType)?0:1);return{nonVisualTypes:r,components:[].concat((0,i.Z)(e.components),[(0,Y.jsx)(u.ZP,{pageName:"home-clarity-page",useDelayedImage:null===Oe||void 0===Oe||null===(t=Oe.configData)||void 0===t||null===(l=t.USE_CLARITY_DELAY_IMAGE)||void 0===l?void 0:l.home,index:n-r,lazyLoadIndex:null===Oe||void 0===Oe||null===(a=Oe.configData)||void 0===a?void 0:a.CLARITY_HOME_LAZY_INDEX,homeObjData:o},n)])}}),{nonVisualTypes:0,components:[(0,Y.jsx)(Y.Fragment,{})]}))||void 0===ue?void 0:ue.components)||(0,Y.jsx)(Y.Fragment,{})})]}),null!==Oe&&void 0!==Oe&&null!==(ce=Oe.configData)&&void 0!==ce&&null!==(ve=ce.SHOW_CLARITY_HOME_FOOTER)&&void 0!==ve&&ve.home?(0,Y.jsx)("footer",{style:{paddingBottom:To?"16px":0},children:(0,Y.jsx)(R.Z,{footerData:"string"===typeof(null===Oe||void 0===Oe||null===(fe=Oe.configData)||void 0===fe?void 0:fe.FOOTER_DATA)?null===(ge=JSON.parse(null===Oe||void 0===Oe||null===(pe=Oe.configData)||void 0===pe?void 0:pe.FOOTER_DATA))||void 0===ge?void 0:ge.desktop:null===Oe||void 0===Oe||null===(me=Oe.configData)||void 0===me||null===(he=me.FOOTER_DATA)||void 0===he?void 0:he.desktop,dataLocale:null===Oe||void 0===Oe?void 0:Oe.localeData,deviceType:Ve.deviceType,subdirectoryPath:Ve.subdirectoryPath,footerDataMobile:"string"===typeof(null===Oe||void 0===Oe||null===(ye=Oe.configData)||void 0===ye?void 0:ye.FOOTER_DATA)?null===(Ee=JSON.parse(null===Oe||void 0===Oe||null===(De=Oe.configData)||void 0===De?void 0:De.FOOTER_DATA))||void 0===Ee?void 0:Ee.mobile:null===Oe||void 0===Oe||null===(Te=Oe.configData)||void 0===Te||null===(_e=Te.FOOTER_DATA)||void 0===_e?void 0:_e.mobile,openChatSprinkular:function(){return Le.push("/support")},isRTL:Ve.isRTL,country:Ve.country,showBoilerPlate:!0,boilerPlateData:null===Oe||void 0===Oe||null===(Ie=Oe.configData)||void 0===Ie?void 0:Ie.FOOTER_BOILER_PLATE_DATA_MSITE})}):null,(0,Y.jsx)(M,{showFrameSize:xe.showFrameSize,textKeys:xe.textKeys,imageUrl:xe.imageUrl,frameSize:xe.frameSize,subTitle:xe.subTitle,buttonText:xe.buttonText,gaCtaClick:function(e){return(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,e,"home-clarity-page")},buttonClickHandler:function(){je((0,S.UI)()),Le.push("/frame-size")},closeHandler:function(){je((0,v.J_)()),(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,"close-lenskard","home-clarity-page")}}),(0,Y.jsx)(G,{showBottomSheet:Je,title:He,intersticeData:Me,isNewBottomSheet:null===Oe||void 0===Oe||null===(Ae=Oe.configData)||void 0===Ae?void 0:Ae.IS_NEW_BOTTOM_SHEET,onClick:function(e,o){(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,o,He),Le.push((0,B.wz)(e))},closeBottomSheetHandler:function(){(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,"bottom-sheet-close","home-clarity-page"),je((0,v.PL)(!1))},pageViewEvent:function(){return(0,E.tN)(Ve.country,Re.isLogin,Re.sessionId||"".concat((0,T.ej)(a.B$)),He)},isLoading:Ge,isError:Ze.isError,errorMessage:Ze.errorMessage}),To?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{style:{minHeight:"64px",height:"64px",width:"100%",display:"block"}}),(0,Y.jsx)(r.Z,{gaCtaClick:function(e){return(0,E.JH)(Ve.country,Re.isLogin,Re.sessionId,e,"home-clarity-page")},isFixed:!0,showBottomBar:To,currentRoute:Le.pathname,tabsData:null===(be=Oe.configData)||void 0===be?void 0:be.BOTTOM_BAR_NAVDATA})]}):null]})}},82589:function(e,o,n){var t=n(11163),i=n(67294),l=n(9473),a=[{tierNames:["gold_premium","gold_pro","gold_original","gold"],active:{text:"Avail buy 1 get 1",bgColor:"#FBF8EF",borderColor:"#EFE2BD",action:{label:"Gold Member",deeplink:"/category/15071",design:{textColor:"#997415"}}},expiring:{text:"Gold expires soon",bgColor:"#FBF8EF",borderColor:"#EFE2BD",action:{label:"Renew Gold",deeplink:"/cms-lenskart-pro-membership",design:{textColor:"#997415"}}},expired:{text:"Gold expired",bgColor:"#FBF8EF",borderColor:"#EFE2BD",action:{label:"Join Gold",deeplink:"/cms-lenskart-pro-membership",design:{textColor:"#997415"}}}},{tierNames:["silver"],active:{text:"Avail Silver",bgColor:"#F0F0F6",borderColor:"#E6E6EC",action:{label:"Silver Member",deeplink:"/category/16841",design:{textColor:"#66668E"}}},expiring:{text:"Silver Expiring",bgColor:"#F0F0F6",borderColor:"#E6E6EC",action:{label:"Renew Silver",deeplink:"/cms-lenskart-pro-membership",design:{textColor:"#66668E"}}},expired:{text:"Silver expired",bgColor:"#F0F0F6",borderColor:"#E6E6EC",action:{label:"Join Gold",deeplink:"/cms-lenskart-pro-membership",design:{textColor:"#66668E"}}}}],r={text:"Buy Default",borderColor:"#EFE2BD",bgColor:"#FBF8EF",action:{label:"Join Gold",deeplink:"/cms-lenskart-pro-membership",design:{textColor:"#997415"}}};o.Z=function(e){var o,n,s,d,u,c,v,f,g=(0,l.v9)((function(e){return e.userInfo})),p=(0,t.useRouter)(),m=null===(o=g.loyaltyData)||void 0===o?void 0:o.tierName,h=null===(n=g.loyaltyData)||void 0===n?void 0:n.loyaltyExpiryDate,y=null===(s=g.loyaltyData)||void 0===s?void 0:s.lastExpiredLoyaltyName,E=(0,l.v9)((function(e){return e.userInfo.userDataLoading})),D=(0,i.useState)({bgColor:"#fff",borderColor:"#F0F0F6"}),T=D[0],_=D[1],I=(0,i.useState)(m),A=I[0],b=I[1];function O(e){return null!==e&&void 0!==e&&e.toLowerCase().includes("gold")?"gold":"silver"}var L=(0,i.useCallback)((function(e,o,n,t){var i,l,a=e.find((function(e){var n;return null===e||void 0===e||null===(n=e.tierNames)||void 0===n?void 0:n.includes(o)}));return a?(function(e){b(null!==e&&void 0!==e&&e.includes("gold")?"gold":"silver")}(o),n?a.expired:h&&h-Date.now()<2592e6?a.expiring:a.active):(b(O(null===(i=e.defaultTierMapping)||void 0===i||null===(l=i.action)||void 0===l?void 0:l.label)),t)}),[h]);(0,i.useEffect)((function(){var o,n,t,i;try{o=JSON.parse(e.LOYALTY_MAPPING_TIERS),n=JSON.parse(e.DEFAULT_LOYALTY_TIER)}catch(l){o=a,n=r}E||(m?_(L(o,m,!1,n)):y?_(L(o,y,!0,n)):(b(O(null===(t=n)||void 0===t||null===(i=t.action)||void 0===i?void 0:i.label)),_(n)))}),[e,m,y,L,E]);var C=(0,i.useCallback)((function(){var e,o;p.push(null!==(e=null===T||void 0===T||null===(o=T.action)||void 0===o?void 0:o.deeplink)&&void 0!==e?e:"/loyalty")}),[null===T||void 0===T||null===(d=T.action)||void 0===d?void 0:d.deeplink,p]);return{loyaltyStatus:A,loyaltyInfo:{text:T.text,borderColor:T.borderColor,bgColor:T.bgColor,actionText:null===(u=T.action)||void 0===u?void 0:u.label,redirectUrl:null===(c=T.action)||void 0===c?void 0:c.deeplink,textColor:null===(v=T.action)||void 0===v||null===(f=v.design)||void 0===f?void 0:f.textColor},isLoyaltyLoading:E,loyaltyClickHandler:C}}}}]);